webpackJsonp([37],{"+35/":function(t,e,n){var r=n("VU/8")(n("ltkE"),n("DgZn"),!1,null,null,null);t.exports=r.exports},"+66z":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},"+X65":function(t,e,n){var r=n("O4Lo"),i=n("yCNF"),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},"+gg+":function(t,e,n){var r=n("TQ3y")["__core-js_shared__"];t.exports=r},"+opI":function(t,e,n){var r=n("hcE8"),i=n("asqq"),o=n("l/2K"),a=n("C/Wh"),s=n("ypmV"),c=n("I1z2"),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||s(this)})},"/09a":function(t,e,n){var r=n("AMIE"),i=n("YveC");t.exports=Object.keys||function(t){return r(t,i)}},"/G0B":function(t,e){},"/GnY":function(t,e,n){var r=n("HT7L"),i=n("W529"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},"/I3N":function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"/zIL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={popupOptions:{size:"sm"}}},0:function(t,e,n){n("aZpi"),n("0R0H"),n("Ba9a"),n("fJbB"),n("a+Ii"),n("I+QF"),n("sbum"),t.exports=n("EdYQ")},"037f":function(t,e,n){var r=n("1oyr"),i=n("p0bc"),o=n("wSKX"),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},"08WP":function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));t.exports=r.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9)),o=r(n(3)),a=n(4);e.default=function(){if("undefined"!=typeof window){var t={history:[]},e={offset:{},threshold:0,test:a.inViewport},n=(0,i.default)(function(){t.history.forEach(function(e){t[e].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var r=function(n){if("string"==typeof n){var r=[].slice.call(document.querySelectorAll(n));return t.history.indexOf(n)>-1?t[n].elements=r:(t[n]=(0,o.default)(r,e),t.history.push(n)),t[n]}};return r.offset=function(t){if(void 0===t)return e.offset;var n=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(n(t)?function(n){return e.offset[n]=t}:function(r){return n(t[r])?e.offset[r]=t[r]:null}),e.offset},r.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?e.threshold=t:e.threshold},r.test=function(t){return"function"==typeof t?e.test=t:e.test},r.is=function(t){return e.test(t,e)},r.offset(0),r}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=n,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=t.options.test(e,t.options),r=t.current.indexOf(e),i=r>-1,o=!n&&i;n&&!i&&(t.current.push(e),t.emit("enter",e)),o&&(t.current.splice(r,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new r(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),r=n.top,i=n.right,o=n.bottom,a=n.left,s=n.width,c=n.height,u=o,l=window.innerWidth-a,f=window.innerHeight-r,d=i,p=e.threshold*s,h=e.threshold*c;return u>e.offset.top+h&&l>e.offset.right+p&&f>e.offset.bottom+h&&d>e.offset.left+p}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(5),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(1),i=n(8),o=n(10),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){function u(e){var n=h,r=v;return h=v=void 0,_=e,g=t.apply(r,n)}function l(t){var n=t-y;return void 0===y||n>=e||n<0||x&&t-_>=m}function f(){var t=i();return l(t)?d(t):void(b=setTimeout(f,function(t){var n=e-(t-y);return x?c(n,m-(t-_)):n}(t)))}function d(t){return b=void 0,O&&h?u(t):(h=v=void 0,g)}function p(){var t=i(),n=l(t);if(h=arguments,v=this,y=t,n){if(void 0===b)return function(t){return _=t,b=setTimeout(f,e),w?u(t):g}(y);if(x)return b=setTimeout(f,e),u(y)}return void 0===b&&(b=setTimeout(f,e)),g}var h,v,m,g,b,y,_=0,w=!1,x=!1,O=!0;if("function"!=typeof t)throw new TypeError(a);return e=o(e)||0,r(n)&&(w=!!n.leading,m=(x="maxWait"in n)?s(o(n.maxWait)||0,e):m,O="trailing"in n?!!n.trailing:O),p.cancel=function(){void 0!==b&&clearTimeout(b),_=0,h=y=v=b=void 0},p.flush=function(){return void 0===b?g:d(i())},p}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(7),i=n(1),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e){t.exports=function(t){return t}}])},t.exports=r()},"09Qt":function(t,e,n){var r=n("uIr7"),i=n("vi0E"),o=n("l9Lx"),a=n("C0hh"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},"0DSl":function(t,e,n){var r=n("YkxI"),i=n("zBOP");t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,a)}return e})}},"0LGO":function(t,e,n){var r=n("Eb96"),i=n("HAas"),o=n("l/2K"),a=n("1rEs").f,s=n("17Rs"),c=n("wjiB"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){a(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},getWeakData:function(t,e){if(!o(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},onFreeze:function(t){return c&&p.REQUIRED&&f(t)&&!o(t,u)&&d(t),t}};r[u]=!0},"0R0H":function(t,e){},"0SEL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("lHK6"),a=n.n(o),s=n("HN2V"),c=n.n(s),u=n("y9NZ"),l=n.n(u),f=n("Ba3q"),d=n.n(f),p=n("mtWM"),h=n.n(p),v=n("I3G/"),m=n.n(v),g=n("OAwv"),b=n.n(g),y=n("gAt4"),_=n.n(y),w=n("8jLZ"),x=n("ryCm"),O=n.n(x),k=n("s+XX"),j=n.n(k),C=n("DpdR"),E=n.n(C),S=n("3ObW"),P=n.n(S),A=n("DFAc"),T=n.n(A),N=n("5tRv"),L=n.n(N),M=n("Jki+"),I=n.n(M),D=n("Jaym"),R=n("u5FJ"),q=n("vrSs");function B(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){F(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var U=40;window.matchMedia("(max-width: 991px)").matches&&(U=58),e.default=m.a.extend({components:{AppChapterItem:j.a,AppChapterBranchItem:I.a,RecycleScroller:w.b,AppChapterNavigationMenu:E.a,AppDropdown:O.a},data:function(){return{chapters:{},lastCreatedChapters:{},branches:D.r.get("chapters.branches",[]),paidChapters:D.r.get("chapters.is_paid",[]),bookmark:D.r.get("bookmark",null),auth:D.r.get("auth",!1),user:D.r.get("user",{}),isAdmin:D.r.get("is_admin",!1),teams:[],manga:D.r.get("manga",{}),sort:"desc",teamFilter:"all",chaptersOutputFrequency:null,chaptersOutputFrequencyQuestion:!1,loading:!1,branch:0,itemSize:U,licensed:D.r.get("chapters.licensed",!1),pricingType:D.r.get("chapters.pricing_type",0),freeChapters:D.r.get("chapters.free_chapters",[]),purchased:D.r.get("chapters.purchased",[]),publisher:D.r.get("chapters.publisher",null)}},computed:{selectedChapters:function(){return this.chapters[this.branch]},sortedChapters:function(){return d()(this.selectedChapters,["chapter_volume",function(t){return parseFloat(t.chapter_number)}],[this.sort,this.sort])},isManga:function(){return q.i.isManga}},created:function(){var t=this,e=D.r.get("chapters.list",[]),n={},r={};e.forEach(function(t){var e=t.branch_id||0;n[e]||(n[e]=[]),n[e].push(t)});var i=function(e){var i=n[e],o=i.length;r[e]=l()(i),i.forEach(function(t,e){t.index=o-e,Object.freeze(t)}),n[e]=i.filter(function(e){return 2!==e.status||!t.user.paid})};for(var o in n)i(o);this.lastCreatedChapters=r,this.chapters=n,this.branch=this.getDefaultSelectedBranch(e)},mounted:function(){this.$emit("chapters.mounted"),Object(R.a)(this.$el,"click",".media-chapter__icon_read",this.toggleChapterRead)},methods:{changeSort:function(){this.sort="asc"===this.sort?"desc":"asc"},toggleChapterRead:function(){var t,e=(t=i.a.mark(function t(e,n){var r,o,a,s,u,l,f;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.auth&&!this.loading){t.next=2;break}return t.abrupt("return");case 2:if(r=n.closest(".media-chapter"),o=R.f.get(r,"data-id",{parseNumbers:!0}),a=0,s=Object(D.d)(this.selectedChapters,function(t){return t.chapter_id===o})){t.next=8;break}return t.abrupt("return");case 8:if(a=s.index,u=this.isChapterRead(s),l={manga_id:this.manga.id,media_slug:this.manga.slug,chapter_id:s.chapter_id,page_slug:1,metadata:{manual:!1,volume:s.chapter_volume,number:s.chapter_number,index:a,page:1}},u&&1!==a&&(a-=1,f=Object(D.d)(this.selectedChapters,function(t){return t.index===a}),l.chapter_id=f.chapter_id,l.metadata.volume=f.chapter_volume,l.metadata.number=f.chapter_number,l.metadata.index=a),this.loading=!0,t.prev=13,!u||1!==a){t.next=20;break}return this.bookmark=null,t.next=18,h.a.delete("/bookmark/destroy-bookmark/".concat(this.manga.id));case 18:t.next=23;break;case 20:return this.bookmark=c()(this.bookmark,{dsc:B({},l.metadata),chapter:B({},l.metadata)}),t.next=23,h.a.post("/bookmark",l);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(13),console.error(t.t0);case 28:this.loading=!1;case 29:case"end":return t.stop()}},t,this,[[13,25]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){z(o,r,i,a,s,"next",t)}function s(t){z(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}(),isChapterRead:function(t){return!(!this.bookmark||!this.bookmark.chapter)&&(this.bookmark.chapter.volume==t.chapter_volume?parseFloat(this.bookmark.chapter.number)>=parseFloat(t.chapter_number):this.bookmark.chapter.volume>t.chapter_volume)},scrollToChapter:function(t){var e=this;(a()(this.branches)||0!==this.branch)&&this.$nextTick(function(){var n,r=e.selectedChapters.length,i=Object(R.l)(".media-chapter").offsetHeight,o=Object(R.i)(e.$refs.chaptersList,"asc"===e.sort);n="desc"===e.sort?i*(r-t)+o.top-window.innerHeight:i*t+o.top,window.scrollTo(0,n)})},getDefaultSelectedBranch:function(t){var e=this;if(this.branches.length){var n=b.a.parse(location.search.slice(1));if(n&&n.bid&&this.branches.some(function(t){return t.id==n.bid}))return parseInt(n.bid);var r=l()(t);if(r)if(_()(Date.now(),r.chapter_created_at)<=2)return r.branch_id;if(this.bookmark&&this.bookmark.chapter_id){var i=Object(D.d)(t,function(t){return e.bookmark.chapter_id==t.chapter_id});if(i&&i.branch_id)return i.branch_id}var o=D.u.get("bid",{});if(o[this.manga.id])return o[this.manga.id];if(!a()(this.branches)){var s=Object(D.d)(this.branches,function(t){return t.is_subscribed});if(s)return s.id}}return 0},scrollToTop:function(){window.scrollTo(0,0)},showBuyVolumeDialog:function(){if(!this.auth)return this.$toast.error("Пожалуйста, авторизуйтесь");this.$dialog.open({component:T.a})},showBuyChaptersDialog:function(){if(!this.auth)return this.$toast.error("Пожалуйста, авторизуйтесь");this.$dialog.open({component:L.a})},showAnswerDialog:function(){this.$dialog.open({component:P.a})}}})},"0U1j":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast-item-wrap"},[n("div",{staticClass:"toast-item",class:["is-"+t.item.status,t.item.closeable&&"toast-item_closeable"],on:{click:t.onItemClick}},[n("div",{staticClass:"toast-item__icon"},[n("i",{staticClass:"fa",class:t.iconByStatus})]),t._v(" "),n("div",{staticClass:"toast-item__text"},[t._v("\n      "+t._s(t.item.text)+"\n    ")]),t._v(" "),t.item.closeable?n("div",{staticClass:"toast-item__close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e()])])},staticRenderFns:[]}},"0XRH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r),o=n("oTFi"),a=n("abp6"),s=n.n(a),c=n("7/oE"),u=n("Kip4"),l=n("CkJp"),f=n.n(l);e.default=i.a.extend({components:{VueModal:s.a,BookmarkFoldersList:f.a},mixins:[u.a,Object(c.a)()],methods:{show:function(t,e,n,r){this.mangaId=t,this.status=n,this.mangaSlug=e,this.siteId=r,o.a.show(this.$el)}}})},"0bEF":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"poll"},[t.isExpired?n("div",{staticClass:"small text-muted"},[t._v("\n    голосование заверешено\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"poll__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),null===t.userVote&&t.auth&&!t.isExpired?n("div",{staticClass:"poll-items"},[t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"poll-item"},[n("app-radio",{attrs:{value:e.id,name:"poll_"+t.id},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)}),t._v(" "),n("div",{staticClass:"poll__footer mt-10"},[n("button",{staticClass:"button button_blue",on:{click:t.vote}},[t._v("\n        Проголосовать\n      ")]),t._v(" "),n("button",{staticClass:"button button_link text-muted ml-10",on:{click:t.showResult}},[t._v("\n        результаты\n      ")])])],2):n("div",{staticClass:"poll-result"},t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"poll-result-item"},[n("div",{staticClass:"poll-result-item__info"},[n("span",[t._v(t._s(e.title))]),t._v(" "),n("span",[t.userVote==e.id?n("i",{staticClass:"fa fa-check-circle text-info mr-5"}):t._e(),t._v(" "),n("span",{staticClass:"text-muted small"},[t._v(t._s(e.result))])])]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress__bar",style:{width:t.getPercent(e.result)}})])])}),0)])},staticRenderFns:[]}},"0fXO":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("4Fgk"),a=n.n(o),s=n("w9Mt"),c=n.n(s),u=n("Dc7M"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("tuWI"),h=n.n(p),v=n("6Vnj"),m=n.n(v),g=n("IjNM"),b=n.n(g),y=n("Jaym");function _(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){_(o,r,i,a,s,"next",t)}function s(t){_(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default={popupOptions:{size:"sm"},components:{AppLoader:h.a,AppCheckbox:m.a,AppRadio:b.a},props:{selected:{type:Array,default:function(){return[]}}},data:function(){return{step:"volumes",showAllVolumes:!1,loading:!0,initPaymentLoading:!1,info:null,model:{type:"buy_volume",manga_id:y.r.get("manga.id",null),selectedVolumes:[].concat(this.selected),payment_method:"BankCard"},paymentMethods:{BankCard:"Банковская карта (комиссия 2.5%)",AlfaBank:"Альфа-Клик (комиссия 3%)",VTB24:"ВТБ-Онлайн (комиссия 2%)",RSB:"Банк Русский Стандарт (комиссия 2%)",WebMoney:"WebMoney (комиссия 3%)",Svyaznoy:"Связной (комиссия 4.5%)"},comissions:{BankCard:.025,AlfaBank:.03,VTB24:.02,RSB:.02,WebMoney:.03,Svyaznoy:.045}}},computed:{price:function(){if(!this.info)return 0;var t=parseInt(this.info.price),e=this.model.selectedVolumes.length*t,n=parseFloat((e*this.comissions[this.model.payment_method]).toFixed(2));return parseFloat((e+n).toFixed(2))},witoutPurchased:function(){return l()(this.info.volumes,this.info.purchased)},purchasedVolumes:function(){return c()(this.info.volumes,this.info.purchased)},size:function(){return{purchased:a()(this.purchasedVolumes),notPurchased:a()(this.witoutPurchased),volumes:a()(this.info.volumes)}},volumes:function(){return this.showAllVolumes?this.info.volumes:this.witoutPurchased}},created:function(){var t=w(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/".concat(y.r.get("manga.slug"),"/purchase-info"));case 3:e=t.sent,n=e.data,this.info=n,this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),methods:{initPayment:function(){var t=w(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initPaymentLoading){t.next=2;break}return t.abrupt("return");case 2:return this.initPaymentLoading=!0,t.prev=3,t.next=6,d.a.post("/payment/init",this.model);case 6:e=t.sent,(n=e.data).redirect&&location.assign(n.redirect),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:this.initPaymentLoading=!1;case 15:case"end":return t.stop()}},t,this,[[3,11]])}));return function(){return t.apply(this,arguments)}}(),isPurchased:function(t){return this.info.purchased.some(function(e){return t==e})}}}},"0ghZ":function(t,e,n){var r=n("PfJA"),i=n("iYj9"),o=n("KGqH");t.exports=function(t){return i(t)?o(t):r(t)}},"0uHm":function(t,e,n){var r=n("VU/8")(n("ic91"),n("H1+l"),!1,null,null,null);t.exports=r.exports},"0uX4":function(t,e,n){var r=n("NkRn"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},"0vOO":function(t,e,n){n("pkSX");var r=n("odTk");t.exports=r.Object.getOwnPropertyDescriptors},"11ho":function(t,e){void 0==document.createElement("div").style.webkitLineClamp&&document.body.classList.add("not-supported_line-clamp")},"12gJ":function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.loading?e("loader"):this.items.length?this._l(this.items,function(t){return e("balance-log-row",{key:t.id,attrs:{item:t}})}):[e("div",{staticClass:"empty"},[this._v("\n      Ещё ничего нет\n    ")])]],2)},staticRenderFns:[]}},"16tV":function(t,e,n){var r=n("tO4o"),i=n("ktak");t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},"17Rs":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},"1C79":function(t,e,n){var r=n("uIr7"),i=n("Qp3N");t.exports=function t(e,n,o,a,s){var c=-1,u=e.length;for(o||(o=i),s||(s=[]);++c<u;){var l=e[c];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},"1OuH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");e.default={functional:!0,props:{metadata:Object,type:String,mediaNameProp:String},render:function(t,e){var n=e.props,i=n.metadata,o=n.type,a=n.mediaNameProp,s="",c=[];if(i.manga&&(s=i.manga[a]||i.manga.name),"subscription"===o&&("series"===i.subscription_type&&c.push("В серию на которую вы подписаны ",t("b",i.serie.name),t("br"),"Добавлен новый тайтл "),"team"===i.subscription_type&&c.push("Команда ",t("b",i.team.name),t("br"),"Добавлена в тайтл "),"people"===i.subscription_type&&c.push("Персона ",t("b",i.people.name)," была добавлена в тайтл "),c.push(t("b",s))),"chapter"===o){if(i.chaptersCount&&!i.chapter){var u=Object(r.t)(i.chaptersCount,"новая","новых","новых"),l=Object(r.t)(i.chaptersCount,"глава","главы","глав");i.sale?(1===i.sale&&c.push("Добавлено ",t("strong",i.chaptersCount)," ".concat(u," ").concat(l," "),t("b","в раннем доступе")),2===i.sale&&c.push(t("strong",i.chaptersCount)," ".concat(l," "),t("b","вышли из раннего доступа"))):c.push("Добавлено ",t("strong",i.chaptersCount)," ".concat(u," ").concat(l))}else{var f="Глава ".concat(i.chapter.number);i.sale||(f="Новая ".concat(f.toLowerCase())),i.chapter.name&&(f+=": ".concat(i.chapter.name)),1===i.sale&&(f="Новая ".concat(f.toLowerCase()," в раннем доступе")),2===i.sale&&(f+=" вышла из раннего доступа"),c.push(f)}c.push(t("br"),"В тайтле ",t("b",s))}return"manga"===o&&c.push("Добавлен новый тайтл ",t("b",s)),"manga_deny"===o&&(c.push("Модератор отклонил ваш тайтл ",t("b",s)),i.message&&c.push(t("br"),"Причина: ".concat(i.message))),"manga_accept"===o&&c.push("Модератор принял ваш тайтл ",t("b",s)),"manga_changes_accept"===o&&c.push("Модератор принял ваши изменения в ",t("b",s)),"manga_changes_deny"===o&&c.push("Модератор отклонил ваши изменения в ",t("b",s)),"chapter_accept"===o&&c.push("Модератор принял вашу главу в тайтле ",t("b",s)),"chapter_deny"===o&&c.push("Модератор отклонил вашу главу в тайтле ",t("b",s)),"forum_post"===o&&c.push("Оставил новое сообщение в теме ",t("b",i.discussion.title)),"comment"===o&&c.push("Ответил на ваш комментарий"),"post_comment"===o&&c.push("Оставил новый комментарий к новости"),"manga_comment"===o&&c.push("Оставил новый комментарий в добаленном вами тайтле"),"chapter_comment"===o&&c.push("Оставил новый комментарий к добавленной вами главе"),"message"===o&&c.push("Прислал новое сообщение"),"repmessage"===o&&c.push("Ответил на ваше сообщение"),"friend_request"===o&&c.push("Хочет добавить вас в друзья"),"friend_accept"===o&&c.push("Принял ваш запрос на добавление в друзья"),"friend_deny"===o&&c.push("Отклонил ваш запрос на добавление в друзья"),"manga_destroy"===o&&c.push("Тайтл ",t("b",s)," был удалён с сайта. ",t("br"),"Причина: ",i.reason_text),"news_scanlate_post"===o&&c.push("Новость для команд: ",t("b",i.title)),t("div",{staticClass:"notification-item__body"},c)}}},"1QDk":function(t,e,n){var r=n("tv3T"),i=n("09Qt");t.exports=function(t,e){return r(t,i(t),e)}},"1SgC":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.useCoupon?[n("div",{class:t.$style.coupon},[n("app-checkbox",{model:{value:t.useCoupon,callback:function(e){t.useCoupon=e},expression:"useCoupon"}},[t._v("\n        Использовать тикет\n      ")]),t._v(" "),n("div",{staticClass:"text-muted small"},[t._v("\n        Осталось "+t._s(t.tickets)+"\n      ")])],1),t._v(" "),n("button",{staticClass:"button button_primary",class:{button_loading:t.loading},attrs:{type:"submit",disabled:t.loading}},[t._v("\n      Разблокировать [1 тикет]\n    ")])]:[n("div",{staticClass:"alert alert_info alert_xs alert_fill payment-form-info__alert"},[t._v("\n      Для разблокировки главы вы можете пожертвовать от 5 руб\n    ")]),t._v(" "),t.useCoupon?t._e():n("div",{staticClass:"form__field"},[n("div",{class:t.$style.prices},[n("div",{class:t.$style.item,on:{click:function(e){t.model.amount=5}}},[t._v("\n          5\n        ")]),t._v(" "),n("div",{class:t.$style.item,on:{click:function(e){t.model.amount=10}}},[t._v("\n          10\n        ")]),t._v(" "),n("div",{class:t.$style.item,on:{click:function(e){t.model.amount=15}}},[t._v("\n          15\n        ")]),t._v(" "),n("div",{class:t.$style.item,on:{click:function(e){t.model.amount=20}}},[t._v("\n          20\n        ")])])]),t._v(" "),n("div",{staticClass:"form__field text-center"},[t._v("\n      Баланс: "+t._s(t.balance)+" руб\n    ")]),t._v(" "),t.tickets>0?n("div",{class:t.$style.coupon},[n("app-checkbox",{model:{value:t.useCoupon,callback:function(e){t.useCoupon=e},expression:"useCoupon"}},[t._v("\n        Использовать тикет\n      ")]),t._v(" "),n("div",{staticClass:"text-muted small"},[t._v("\n        Осталось "+t._s(t.tickets)+"\n      ")])],1):t._e(),t._v(" "),n("button",{staticClass:"button button_primary",class:{button_loading:t.loading},attrs:{type:"submit",disabled:t.loading}},[t._v("\n      Разблокировать ["+t._s(t.model.amount)+" руб]\n    ")])]],2)},staticRenderFns:[]}},"1UPi":function(t,e,n){"use strict";e.b=function(t){var e={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};i.a.get("/chat",e).then(function(e){var n=e.data;t&&t(null,n)}).catch(t)},e.d=s,e.c=function(t){var e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},s(),{},o.u.get("chat",{}));return t?e[t]:e},e.a=function(t,e,n){return Math.min(Math.max(t,e),n)};var r=n("mtWM"),i=n.n(r),o=n("Jaym");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e={settings:{alwaysOpen:!1,allPage:!1,inWindow:!1,unpinned:!1},pos:{right:20,bottom:0},size:{w:285,h:520}};return t?e[t]:e}},"1Vro":function(t,e,n){var r=n("Qr4f"),i=n("KF7L");t.exports={distanceInWords:r(),format:i()}},"1Yb9":function(t,e,n){var r=n("mgnk"),i=n("UnEC"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},"1ml6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={popupOptions:{name:"popup_bottom-sheet"},props:{name:String,rusName:String,engName:String,altNames:Array}}},"1oyr":function(t,e){t.exports=function(t){return function(){return t}}},"1rEs":function(t,e,n){var r=n("q0qZ"),i=n("K6eN"),o=n("5+O3"),a=n("whWw"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"22B7":function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"25hp":function(t,e,n){var r=n("G7No");t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"2Hvv":function(t,e,n){var r=n("imBK");t.exports=function(t){return r(this.__data__,t)>-1}},"2N6f":function(t,e,n){var r=n("rCVp"),i=n("Q2wK"),o=n("WHce");t.exports=function(t){return o(i(t,void 0,r),t+"")}},"2X2u":function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},"2XyW":function(t,e,n){"use strict";var r=n("I3G/"),i=n.n(r),o=n("En79"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("hAM4"),l=n.n(u),f=n("Ngrm"),d=n("u5FJ"),p=n("Jaym"),h=n("alMs"),v=n("V2lS"),m=n.n(v),g=n("vrSs");function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,i,o=Object(d.l)(".header_reader");return r=this,j(w(n=!(i=O(e).call(this,o,{tolerance:{up:10,down:10}}))||"object"!==b(i)&&"function"!=typeof i?w(r):i),"addBookmarkLoading",!1),j(w(n),"autoBookmarkCalled",!1),n.chaptersList=Object(d.l)(".reader-chapters-list"),n.data=t,n.addToBookmarkButton=Object(d.l)("#add-chapter-bookmark"),n.bookmarkSettings=p.u.get("bookmarkSettings",{disableAutoBookmarks:!1}),n.init(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,l.a),n=e,(r=[{key:"init",value:function(){x(O(e.prototype),"init",this).call(this),this.initDropdowns(),this.bindEventListeners()}},{key:"bindEventListeners",value:function(){var t=this;Object(d.c)(this.addToBookmarkButton,"click",function(){return t.addToBookmark()})}},{key:"addToBookmark",value:function(){var t,e=(t=a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addBookmarkLoading&&!g.i.isAnime){t.next=2;break}return t.abrupt("return");case 2:if(!e||!this.bookmarkSettings.disableAutoBookmarks){t.next=5;break}return this.autoBookmarkCalled=!0,t.abrupt("return");case 5:return n={chapter_id:this.data.current.id,media_id:this.data.media.id,media_slug:this.data.media.slug,page_slug:Math.max(this.data.page,1)},this.toggleLoading(!0),d.g.add(this.addToBookmarkButton,"is-marked","is-animated"),n.metadata={manual:!e,total:this.data.pages.length,page:this.data.page,index:this.data.current.index,number:this.data.current.number,volume:this.data.current.volume},t.prev=9,t.next=12,c.a.post("/bookmark",n);case 12:e?this.autoBookmarkCalled=!0:f.a.confirm("Закладка добавлена"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(9),console.error(t.t0),d.g.remove(this.addToBookmarkButton,"is-marked","is-animated");case 19:this.toggleLoading(!1);case 20:case"end":return t.stop()}},t,this,[[9,15]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){y(o,r,i,a,s,"next",t)}function s(t){y(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()},{key:"toggleLoading",value:function(t){var e=this;this.addBookmarkLoading=t,!t&&this.addToBookmarkButton._tippy&&setTimeout(function(){e.addToBookmarkButton._tippy.hide()},300)}},{key:"initDropdowns",value:function(){Object(d.c)('[data-reader-modal="chapters"]',"click",function(){h.a.open({component:m.a})})}},{key:"scrollToActiveChapter",value:function(){var t=this,e=Object(d.l)(".menu__item_active",this.chaptersList);e&&requestAnimationFrame(function(){t.chaptersList.scrollTop=e.offsetTop-2*e.offsetHeight})}}])&&_(n.prototype,r),i&&_(n,i),e}(),E=(n("oTFi"),n("fK0A")),S=n("fWMS");function P(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){A(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return N});var N=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=P({},Object(S.a)()),this.settings=i.a.observable(p.u.get("reader",P({desableHeader:!1,caution:!0},e))),this.data.initialPage=this.data.page||1,this.header=new C(this.data),this.init(),this.initSettings(),this.initCautionHandler()}var e,n,r;return e=t,(n=[{key:"init",value:function(){}},{key:"initSettings",value:function(){p.b.on("settings.theme",this.themeHandler.bind(this)),p.b.on("settings.color",this.themeHandler.bind(this)),p.b.on("settings.disableHeader",this._headerHandler.bind(this)),this._headerHandler()}},{key:"initCautionHandler",value:function(){}},{key:"themeHandler",value:function(){var t=this.settings.theme;"global"===t&&(t=p.u.get("dark-theme",E.a).enabled?"dark":"light");Object(E.e)(t,this.settings.color)}},{key:"_headerHandler",value:function(){this.settings.disableHeader?(this.header.freeze(),d.g.add(this.header.elem,"is-static")):(this.header.unfreeze(),d.g.remove(this.header.elem,"is-static"))}},{key:"changeChapter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",e="/".concat(this.data.media.slug);return this.data[t]&&(e=this.data[t].url),location.href=e}}])&&T(e.prototype,n),r&&T(e,r),t}()},"2gS9":function(t,e,n){var r=n("VU/8")(n("kKu7"),n("Vnjp"),!1,null,null,null);t.exports=r.exports},"309y":function(t,e,n){var r=n("PqYH"),i=n("v9aJ"),o=n("CxPB"),a=n("NGEn");t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},"39/3":function(t,e,n){var r=n("VU/8")(n("PUoV"),n("sOQ3"),!1,function(t){n("n6rw")},null,null);t.exports=r.exports},"3Did":function(t,e,n){var r=n("uCi2");t.exports=function(t){return function(e){return r(e,t)}}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3Nrx":function(t,e,n){var r=n("HAas"),i=n("jE8y");t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},"3ObW":function(t,e,n){var r=n("VU/8")(n("/zIL"),n("dmfu"),!1,null,null,null);t.exports=r.exports},"3U/7":function(t,e,n){var r=n("VU/8")(n("BTPc"),n("0U1j"),!1,function(t){n("7l+I")},null,null);t.exports=r.exports},"3mz+":function(t,e,n){var r=n("hcE8"),i=n("PedI"),o=n("a/rO"),a=n("asqq"),s=n("jAiL"),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var f in i){var d=r[f],p=d&&d.prototype;if(p){if(p[c]!==l)try{a(p,c,l)}catch(t){p[c]=l}if(p[u]||a(p,u,f),i[f])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(t){p[h]=o[h]}}}},"3znZ":function(t,e,n){var r=n("u/4p");t.exports=function(t){return r(t,{weekStartsOn:1})}},"40wi":function(t,e,n){var r=n("mWhC"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},"43zn":function(t,e,n){var r,i=n("5+O3"),o=n("o/tC"),a=n("YveC"),s=n("Eb96"),c=n("N5RP"),u=n("P1fK"),l=n("siPu")("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:o(n,e)}},"4Fgk":function(t,e,n){var r=n("/GnY"),i=n("gHOb"),o=n("bGc4"),a=n("JDN0"),s=n("GOFJ"),c="[object Map]",u="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return e==c||e==u?t.size:r(t).length}},"4LBx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("h9fk"),i=n.n(r);e.default={components:{CheckboxWithExclude:i.a},props:{state:Object}}},"4Q4y":function(t,e,n){var r=n("VU/8")(n("PTgL"),n("zKdX"),!1,function(t){n("XDq1")},"data-v-5cea3b79",null);t.exports=r.exports},"4ovO":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Выберите команду\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"menu"},t._l(t.teams,function(e){return n("div",{key:e.id,staticClass:"menu__item text-truncate",on:{click:function(n){return t.onSelect(e.id)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal__body pb-10"},[e("div",{staticClass:"alert alert_info alert_sm",staticStyle:{"margin-bottom":"0"}},[this._v("\n      Вы состоите в нескольких командах, выберите одну из них чтобы отдать голос\n    ")])])}]}},"5+O3":function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"5/Qr":function(t,e,n){var r=n("Kzd6"),i=n("6Git"),o=n("WyC4"),a=n("0uX4"),s=n("Ilb/"),c="[object Boolean]",u="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",p="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]";t.exports=function(t,e,n){var E=t.constructor;switch(e){case m:return r(t);case c:case u:return new E(+t);case g:return i(t,n);case b:case y:case _:case w:case x:case O:case k:case j:case C:return s(t,n);case l:return new E;case f:case h:return new E(t);case d:return o(t);case p:return new E;case v:return a(t)}}},"50oC":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",attrs:{"data-type":t.type,tabindex:"-1"}},[n("div",{staticClass:"modal__inner"},[n("div",{staticClass:"modal__content",attrs:{"data-size":t.size}},[t.$slots.title||t.title?n("div",{staticClass:"modal__header"},[n("h3",{staticClass:"modal__title",class:t.titlePosition},[t._t("title",[t._v("\n            "+t._s(t.title)+"\n          ")])],2)]):t._e(),t._v(" "),t.closeIcon?n("div",{staticClass:"modal__close",attrs:{"data-close-modal":""}},[n("svg",{staticClass:"modal__close-icon"},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e(),t._v(" "),t._t("default")],2)])])},staticRenderFns:[]}},"516i":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("bookmark-folders-list",{class:this.className,attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton,size:"xs"},on:{selected:this.changeStatus,created:this.folderCreated}})},staticRenderFns:[]}},"5N57":function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Set");t.exports=r},"5Zxu":function(t,e,n){var r=n("sBat");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},"5oa4":function(t,e,n){var r=n("VU/8")(n("t0Fh"),n("DX4S"),!1,null,null,null);t.exports=r.exports},"5tRv":function(t,e,n){var r=n("VU/8")(n("8tCj"),n("Yr70"),!1,function(t){n("WBb4")},null,null);t.exports=r.exports},"6/M0":function(t,e){},"607n":function(t,e){t.exports=function(t){return t instanceof Date}},"64e8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppDialog",props:{index:Number},provide:function(){return{Dialog:{index:this.index}}},data:function(){return{size:"",name:"popup_default"}},methods:{afterEnter:function(t){this.animationEnd(t),this.$AppEmitter.emit("dialog.opened")},animationEnd:function(t){t&&t.classList.contains("is-hidden")&&requestAnimationFrame(function(){t.classList.remove("is-hidden")})},beforeLeave:function(t){t.classList.add("is-hidden")},setOptions:function(t){if(t.responsive){var e={xs:"(max-width: 576px)",sm:"(max-width: 768px)",md:"(max-width: 991px)",lg:"(max-width: 1200px)"};for(var n in t.responsive)if(Object.prototype.hasOwnProperty.call(t.responsive,n)){var r=e[n];if(window.matchMedia(r).matches){t=t.responsive[n];break}}}for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&i in this.$data&&(this[i]=t[i])}}}},"65ot":function(t,e,n){"use strict";var r=n("q0qZ"),i=n("r54x"),o=n("/09a"),a=n("fTzd"),s=n("NGss"),c=n("EJk4"),u=n("fkET"),l=Object.assign,f=Object.defineProperty;t.exports=!l||i(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=o(l({},e)).join("")})?function(t,e){for(var n=c(t),i=arguments.length,l=1,f=a.f,d=s.f;i>l;)for(var p,h=u(arguments[l++]),v=f?o(h).concat(f(h)):o(h),m=v.length,g=0;m>g;)p=v[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},"6D61":function(t,e,n){"use strict";var r=n("En79"),i=n.n(r),o=n("tuWI"),a=n.n(o),s=n("2gS9"),c=n.n(s);function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var l={components:{AppLoader:a.a,AppPagination:c.a},data:function(){return{items:[],page:1,total:0,perPage:10,loading:!0,pageLoading:!1,hasNextPage:!1,hasPrevPage:!1,scrollTopBeforePaginate:!1,fetchOnCreatedHook:!0}},created:function(){var t=this;this.fetchOnCreatedHook&&this.requestHandler(this.page).then(function(){return t.loading=!1})},methods:{nextPage:function(){this.changePage(this.page+1)},prevPage:function(){this.changePage(this.page-1)},changePage:function(t){this.requestHandler(t)},requestHandler:function(){var t,e=(t=i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={page:e},this.pageLoading=!0,this.scrollTopBeforePaginate&&window.scrollTo({top:0,behavior:"smooth"}),t.next=5,this.request(n);case 5:r=t.sent,o=r.data,this.items=this._mapResponseData(o.data||[]),this.total=o.total,this.perPage=o.per_page,this.page=e,this.pageLoading=!1,this.loading=!1,this.hasPrevPage=null!=o.prev_page_url,"boolean"==typeof o.next_page_url?this.hasNextPage=o.next_page_url:this.hasNextPage=null!=o.next_page_url;case 15:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),resetPagination:function(){this.items=[],this.total=0,this.page=1,this.pageLoading=!1,this.hasNextPage=!1,this.hasPrevPage=!1},request:function(t){throw new Error('method "request" not implemented')},_mapResponseData:function(t){return t}}};e.a=l},"6Git":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},"6MiT":function(t,e,n){var r=n("aCM0"),i=n("UnEC"),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},"6Vnj":function(t,e,n){var r=n("VU/8")(n("nfYF"),n("AcyC"),!1,null,null,null);t.exports=r.exports},"6gc9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Ba3q"),i=n.n(r),o=n("I3G/"),a=n.n(o),s=n("pX1p"),c=n.n(s),u=n("8jLZ"),l=n("Jaym"),f=40;window.matchMedia("(max-width: 991px)").matches&&(f=58),e.default=a.a.extend({components:{ScheduleItem:c.a,RecycleScroller:u.b},data:function(){return{items:l.r.get("schedule.list",[]),type:l.r.get("schedule.type","anime"),sort:"asc",loading:!1,itemSize:f,asd:"center"}},computed:{sortedItems:function(){return i()(this.items,[function(t){return parseFloat(t.number)}],[this.sort])},showName:function(){return!window.matchMedia("(max-width: 991px)").matches}},methods:{changeSort:function(){this.sort="asc"===this.sort?"desc":"asc"}}})},"6kJs":function(t,e,n){var r=n("Hxdr"),i=n("JyYQ"),o=n("yzuE"),a=n("gpZ8"),s=n("S7p9"),c=n("Oo6K"),u=n("wSKX");t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[u],s(i));var f=o(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(f,function(t,e){return c(t,e,n)})}},"6l0T":function(t,e,n){var r=n("VU/8")(n("SZys"),n("WKHY"),!1,function(t){n("vVbG"),n("9Lyh")},"data-v-399dcdd8",null);t.exports=r.exports},"6xqA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r),o=n("3U/7"),a=n.n(o),s=n("Jaym"),c=n("7/oE");function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=0;e.default=i.a.extend({components:{VToastItem:a.a},mixins:[Object(c.a)()],data:function(){return{items:[]}},methods:{addItem:function(t){var e=this;t.closeable&&(t.timeout=0),requestAnimationFrame(function(){return e.items.push(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t,{id:++l}))})},remove:function(t){var e=Object(s.e)(this.items,function(e){return e.id===t});this.items.splice(e,1)},leave:function(t){t.style.height="".concat(t.offsetHeight,"px")}}})},"7+nS":function(t,e){t.exports={row:"_3_7ZRiA7Hz4Sv6lp0j3bJ8_0",row_expanded:"_3z36jHSyohJOaK2dnmcQZw_0",row__head:"eUrKbw8iiX0HCb_M2cW7s_0",row__right:"_17dvsyrBgv8BSzlBu97I-W_0",row__holder:"_29I5r50J9xyn7cxLcapLHq_0",row__amount:"_3QEcvhzXaOQ7IiIfbXq66B_0",row__source:"_2CiT02oV5OdG6BbeOvrD-3_0",row__date:"_3JrvXpt_1wd75g8v7mUFQ__0",row__expand:"_1ykOpcylAzDpNwzc7KsMml_0",details:"saOUiOU59qEXBBETUKIWZ_0",details__item:"_1xg5YFyC4x51R9NG8QaXX1_0",details__title:"_14rOiYriOk-mArj7vDnMAC_0"}},"7/oE":function(t,e,n){"use strict";e.a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n={methods:{_autoMount:function(t){this.$mount(t),t||document.body.appendChild(this.$el)}}};return t&&(n.created=function(){this._autoMount(e)}),n}},"7YkW":function(t,e,n){var r=n("YeCl"),i=n("Cskv"),o=n("aQOO");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},"7e4z":function(t,e,n){var r=n("uieL"),i=n("1Yb9"),o=n("NGEn"),a=n("ggOT"),s=n("ZGh9"),c=n("YsVG"),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),d=!n&&!l&&!f&&c(t),p=n||l||f||d,h=p?r(t.length,String):[],v=h.length;for(var m in t)!e&&!u.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},"7l+I":function(t,e){},"7pyE":function(t,e,n){var r=n("mi1p"),i=n("o2mx"),o=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(o(n),0,t.length),e=i(e),t.slice(n,n+e.length)==e}},"8++/":function(t,e){t.exports=function(t){return t!=t}},"8/eq":function(t,e,n){"use strict";var r=n("dliL"),i=n("V+c1");t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},i)},"84iM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qrdl"),i=n.n(r),o=n("I3G/"),a=n.n(o),s=n("+35/"),c=n.n(s);e.default=a.a.extend({components:{CreateBookmarkFolderInput:c.a},props:{folders:Array,showDeletionButton:Boolean,size:String,enableCreation:{type:Boolean,default:!0},onClick:{type:Function,default:i.a}},methods:{onMenuItemClick:function(t){this.onClick(t),this.$emit("selected",t)}}})},"86tT":function(t,e,n){var r=n("gHOb"),i=n("UnEC"),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},"8AZL":function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},"8gK5":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"8jLZ":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return O});var r=n("A4r5"),i=n("GBOZ"),o=n("qRkn"),a=n.n(o),s=n("I3G/"),c=(n.n(s),{itemsLimit:1e3});function u(t){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}var v={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}}};function m(){return this.items.length&&"object"!==u(this.items[0])}var g=!1;if("undefined"!=typeof window){g=!1;try{var b=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,b)}catch(t){}}var y=0;function _(t,e,n,r,i,o,a,s,c,u){"boolean"!=typeof a&&(c=s,s=a,a=!1);const l="function"==typeof n?n.options:n;let f;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r),o?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=f):e&&(f=a?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),f)if(l.functional){const t=l.render;l.render=function(e,n){return f.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,f):[f]}return n}const w={name:"RecycleScroller",components:{ResizeObserver:r.a},directives:{ObserveVisibility:i.a},props:d({},v,{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1}}),data:function(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes:function(){if(null===this.itemSize){for(var t,e={"-1":{accumulator:0}},n=this.items,r=this.sizeField,i=this.minItemSize,o=1e4,a=0,s=0,c=n.length;s<c;s++)(t=n[s][r]||i)<o&&(o=t),a+=t,e[s]={accumulator:a,size:t};return this.$_computedMinItemSize=o,e}return[]},simpleArray:m},watch:{items:function(){this.updateVisibleItems(!0)},pageMode:function(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler:function(){this.updateVisibleItems(!1)},deep:!0}},created:function(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted:function(){var t=this;this.applyPageMode(),this.$nextTick(function(){t.$_prerender=!1,t.updateVisibleItems(!0),t.ready=!0})},beforeDestroy:function(){this.removeListeners()},methods:{addView:function(t,e,n,r,i){var o={item:n,position:0},a={id:y++,index:e,used:!0,key:r,type:i};return Object.defineProperty(o,"nr",{configurable:!1,value:a}),t.push(o),o},unuseView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.$_unusedViews,r=t.nr.type,i=n.get(r);i||(i=[],n.set(r,i)),i.push(t),e||(t.nr.used=!1,t.position=-9999,this.$_views.delete(t.nr.key))},handleResize:function(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll:function(t){var e=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(function(){e.$_scrollDirty=!1,e.updateVisibleItems(!1,!0).continuous||(clearTimeout(e.$_refreshTimout),e.$_refreshTimout=setTimeout(e.handleScroll,100))}))},handleVisibilityChange:function(t,e){var n=this;this.ready&&(t||0!==e.boundingClientRect.width||0!==e.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame(function(){n.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems:function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.itemSize,s=this.$_computedMinItemSize,u=this.typeField,l=this.simpleArray?null:this.keyField,f=this.items,d=f.length,p=this.sizes,h=this.$_views,v=this.$_unusedViews,m=this.pool;if(d)if(this.$_prerender)e=0,n=this.prerender,r=null;else{var g=this.getScroll();if(o){var b=g.start-this.$_lastUpdateScrollPosition;if(b<0&&(b=-b),null===a&&b<s||b<a)return{continuous:!0}}this.$_lastUpdateScrollPosition=g.start;var y=this.buffer;if(g.start-=y,g.end+=y,null===a){var _,w=0,x=d-1,O=~~(d/2);do{_=O,p[O].accumulator<g.start?w=O:O<d-1&&p[O+1].accumulator>g.start&&(x=O),O=~~((w+x)/2)}while(O!==_);for(O<0&&(O=0),e=O,r=p[d-1].accumulator,n=O;n<d&&p[n].accumulator<g.end;n++);-1===n?n=f.length-1:++n>d&&(n=d)}else e=~~(g.start/a),n=Math.ceil(g.end/a),e<0&&(e=0),n>d&&(n=d),r=d*a}else e=n=r=0;n-e>c.itemsLimit&&this.itemsLimitError(),this.totalSize=r;var k=e<=this.$_endIndex&&n>=this.$_startIndex;if(this.$_continuous!==k){if(k){h.clear(),v.clear();for(var j=0,C=m.length;j<C;j++)i=m[j],this.unuseView(i)}this.$_continuous=k}else if(k)for(var E=0,S=m.length;E<S;E++)(i=m[E]).nr.used&&(t&&(i.nr.index=f.findIndex(function(t){return l?t[l]===i.item[l]:t===i.item})),(-1===i.nr.index||i.nr.index<e||i.nr.index>=n)&&this.unuseView(i));for(var P,A,T,N,L=k?null:new Map,M=e;M<n;M++){P=f[M];var I=l?P[l]:P;if(null==I)throw new Error("Key is ".concat(I," on item (keyField is '").concat(l,"')"));i=h.get(I),a||p[M].size?(i?(i.nr.used=!0,i.item=P):(A=P[u],T=v.get(A),k?T&&T.length?((i=T.pop()).item=P,i.nr.used=!0,i.nr.index=M,i.nr.key=I,i.nr.type=A):i=this.addView(m,M,P,I,A):(N=L.get(A)||0,(!T||N>=T.length)&&(i=this.addView(m,M,P,I,A),this.unuseView(i,!0),T=v.get(A)),(i=T[N]).item=P,i.nr.used=!0,i.nr.index=M,i.nr.key=I,i.nr.type=A,L.set(A,N+1),N++),h.set(I,i)),i.position=null===a?p[M-1].accumulator:M*a):i&&this.unuseView(i)}return this.$_startIndex=e,this.$_endIndex=n,this.emitUpdate&&this.$emit("update",e,n),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:k}},getListenerTarget:function(){var t=a()(this.$el);return!window.document||t!==window.document.documentElement&&t!==window.document.body||(t=window),t},getScroll:function(){var t,e=this.$el,n="vertical"===this.direction;if(this.pageMode){var r=e.getBoundingClientRect(),i=n?r.height:r.width,o=-(n?r.top:r.left),a=n?window.innerHeight:window.innerWidth;o<0&&(a+=o,o=0),o+a>i&&(a=i-o),t={start:o,end:o+a}}else t=n?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return t},applyPageMode:function(){this.pageMode?this.addListeners():this.removeListeners()},addListeners:function(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!g&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners:function(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem:function(t){var e;e=null===this.itemSize?t>0?this.sizes[t-1].accumulator:0:t*this.itemSize,this.scrollToPosition(e)},scrollToPosition:function(t){"vertical"===this.direction?this.$el.scrollTop=t:this.$el.scrollLeft=t},itemsLimitError:function(){var t=this;throw setTimeout(function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",t.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews:function(){this.pool.sort(function(t,e){return t.nr.index-e.nr.index})}}};var x=function(){var t,e,n=this,r=n.$createElement,i=n._self._c||r;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:n.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(t={ready:n.ready,"page-mode":n.pageMode},t["direction-"+n.direction]=!0,t),on:{"&scroll":function(t){return n.handleScroll(t)}}},[n.$slots.before?i("div",{staticClass:"vue-recycle-scroller__slot"},[n._t("before")],2):n._e(),n._v(" "),i("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:(e={},e["vertical"===n.direction?"minHeight":"minWidth"]=n.totalSize+"px",e)},n._l(n.pool,function(t){return i("div",{key:t.nr.id,staticClass:"vue-recycle-scroller__item-view",class:{hover:n.hoverKey===t.nr.key},style:n.ready?{transform:"translate"+("vertical"===n.direction?"Y":"X")+"("+t.position+"px)"}:null,on:{mouseenter:function(e){n.hoverKey=t.nr.key},mouseleave:function(t){n.hoverKey=null}}},[n._t("default",null,{item:t.item,index:t.nr.index,active:t.nr.used})],2)}),0),n._v(" "),n.$slots.after?i("div",{staticClass:"vue-recycle-scroller__slot"},[n._t("after")],2):n._e(),n._v(" "),i("ResizeObserver",{on:{notify:n.handleResize}})],1)};x._withStripped=!0;const O=_({render:x,staticRenderFns:[]},void 0,w,void 0,!1,void 0,!1,void 0,void 0,void 0);const k={name:"DynamicScroller",components:{RecycleScroller:O},inheritAttrs:!1,provide:function(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver(function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.target){var i=new CustomEvent("resize",{detail:{contentRect:r.contentRect}});r.target.dispatchEvent(i)}}}catch(t){n.e(t)}finally{n.f()}})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:d({},v,{minItemSize:{type:[Number,String],required:!0}}),data:function(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:m,itemsWithSize:function(){for(var t=[],e=this.items,n=this.keyField,r=this.simpleArray,i=this.vscrollData.sizes,o=0;o<e.length;o++){var a=e[o],s=r?o:a[n],c=i[s];void 0!==c||this.$_undefinedMap[s]||(c=0),t.push({item:a,id:s,size:c})}return t},listeners:function(){var t={};for(var e in this.$listeners)"resize"!==e&&"visible"!==e&&(t[e]=this.$listeners[e]);return t}},watch:{items:function(){this.forceUpdate(!1)},simpleArray:{handler:function(t){this.vscrollData.simpleArray=t},immediate:!0},direction:function(t){this.forceUpdate(!0)}},created:function(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated:function(){this.vscrollData.active=!0},deactivated:function(){this.vscrollData.active=!1},methods:{onScrollerResize:function(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible:function(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem:function(t){var e=this.$refs.scroller;e&&e.scrollToItem(t)},getItemSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.simpleArray?null!=e?e:this.items.indexOf(t):t[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom:function(){var t=this;if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;var e=this.$el;this.$nextTick(function(){e.scrollTop=e.scrollHeight+5e3;requestAnimationFrame(function n(){e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(function(){e.scrollTop=e.scrollHeight+5e3,0===t.$_undefinedSizes?t.$_scrollingToBottom=!1:requestAnimationFrame(n)})})})}}}};var j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("RecycleScroller",t._g(t._b({ref:"scroller",attrs:{items:t.itemsWithSize,"min-item-size":t.minItemSize,direction:t.direction,"key-field":"id"},on:{resize:t.onScrollerResize,visible:t.onScrollerVisible},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,r=e.index,i=e.active;return[t._t("default",null,null,{item:n.item,index:r,active:i,itemWithSize:n})]}}],null,!0)},"RecycleScroller",t.$attrs,!1),t.listeners),[t._v(" "),n("template",{slot:"before"},[t._t("before")],2),t._v(" "),n("template",{slot:"after"},[t._t("after")],2)],2)};j._withStripped=!0;const C=_({render:j,staticRenderFns:[]},void 0,k,void 0,!1,void 0,!1,void 0,void 0,void 0);const E=_({},void 0,{name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id:function(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size:function(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive:function(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id:function(){this.size||this.onDataUpdate()},finalActive:function(t){this.size||(t?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?t?this.observeSize():this.unobserveSize():t&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created:function(){var t=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){var e=function(e){t.$watch(function(){return t.sizeDependencies[e]},t.onDataUpdate)};for(var n in this.sizeDependencies)e(n);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted:function(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy:function(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize:function(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData:function(){var t=this;this.watchData?this.$_watchData=this.$watch("data",function(){t.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate:function(t){var e=t.force;!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate:function(){this.updateSize()},computeSize:function(t){var e=this;this.$nextTick(function(){if(e.id===t){var n=e.$el.offsetWidth,r=e.$el.offsetHeight;e.applySize(n,r)}e.$_pendingSizeUpdate=null})},applySize:function(t,e){var n=Math.round("vertical"===this.vscrollParent.direction?e:t);n&&this.size!==n&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,n),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize:function(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize:function(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize:function(t){var e=t.detail.contentRect,n=e.width,r=e.height;this.applySize(n,r)}},render:function(t){return t(this.tag,this.$slots.default)}},void 0,void 0,void 0,!1,void 0,void 0,void 0);var S={version:"1.0.10",install:function(t,e){var n=Object.assign({},{installComponents:!0,componentsPrefix:""},e);for(var r in n)void 0!==n[r]&&(c[r]=n[r]);n.installComponents&&function(t,e){t.component("".concat(e,"recycle-scroller"),O),t.component("".concat(e,"RecycleScroller"),O),t.component("".concat(e,"dynamic-scroller"),C),t.component("".concat(e,"DynamicScroller"),C),t.component("".concat(e,"dynamic-scroller-item"),E),t.component("".concat(e,"DynamicScrollerItem"),E)}(t,n.componentsPrefix)}},P=null;"undefined"!=typeof window?P=window.Vue:void 0!==t&&(P=t.Vue),P&&P.use(S)}).call(e,n("DuR2"))},"8l6m":function(t,e,n){var r=n("VU/8")(n("gJJO"),n("Dsj5"),!1,null,null,null);t.exports=r.exports},"8tCj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("4Fgk"),a=n.n(o),s=n("w9Mt"),c=n.n(s),u=n("Dc7M"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("tuWI"),h=n.n(p),v=n("6Vnj"),m=n.n(v),g=n("IjNM"),b=n.n(g),y=n("Jaym");function _(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){_(o,r,i,a,s,"next",t)}function s(t){_(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default={components:{AppLoader:h.a,AppCheckbox:m.a,AppRadio:b.a},popupOptions:{size:"sm"},props:{defaultStep:{type:String,default:"chapters"},selected:{type:Array,default:function(){return[]}}},data:function(){return{step:this.defaultStep,showAllChapters:!1,loading:!0,initPaymentLoading:!1,info:null,model:{type:"buy_chapter",manga_id:y.r.get("manga.id",null),selectedChapters:[].concat(this.selected),payment_method:"BankCard"},paymentMethods:{BankCard:"Банковская карта (комиссия 2.5%)",AlfaBank:"Альфа-Клик (комиссия 3%)",VTB24:"ВТБ-Онлайн (комиссия 2%)",RSB:"Банк Русский Стандарт (комиссия 2%)",WebMoney:"WebMoney (комиссия 3%)",Svyaznoy:"Связной (комиссия 4.5%)"},comissions:{BankCard:.025,AlfaBank:.03,VTB24:.02,RSB:.02,WebMoney:.03,Svyaznoy:.045}}},computed:{price:function(){var t=this;if(!this.info)return 0;var e=this.model.selectedChapters.reduce(function(e,n){return t.info.chapters[n].price+e},0),n=parseFloat((e*this.comissions[this.model.payment_method]).toFixed(2));return parseFloat((e+n).toFixed(2))},witoutPurchased:function(){return l()(this.info.chapters,this.info.purchased)},purchasedChapters:function(){return c()(this.info.chapters,this.info.purchased)},size:function(){return{purchased:a()(this.purchasedChapters),notPurchased:a()(this.witoutPurchased),chapters:a()(this.info.chapters)}},chapters:function(){return this.showAllChapters?this.info.chapters:this.witoutPurchased}},created:function(){var t=w(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/".concat(y.r.get("manga.slug"),"/purchase-info"));case 3:e=t.sent,n=e.data,this.info=n,this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),methods:{initPayment:function(){var t=w(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initPaymentLoading){t.next=2;break}return t.abrupt("return");case 2:return this.initPaymentLoading=!0,t.prev=3,t.next=6,d.a.post("/payment/init",this.model);case 6:e=t.sent,(n=e.data).redirect&&location.assign(n.redirect),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:this.initPaymentLoading=!1;case 15:case"end":return t.stop()}},t,this,[[3,11]])}));return function(){return t.apply(this,arguments)}}(),isPurchased:function(t){return this.info.purchased.some(function(e){return t.id==e})}}}},"8usU":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-root",on:{mousedown:t.outsideClickStart,click:t.outsideClick}},t._l(t.dialogs,function(e,r){return n("app-dialog",{key:r,attrs:{index:r}},[n(e.component,t._g(t._b({tag:"component"},"component",e.props,!1),e.listeners))],1)}),1)},staticRenderFns:[]}},"8xx6":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-reply"},[n("div",{ref:"editor",staticClass:"comment-reply__editor",attrs:{"aria-placeholder":"Введите ваш комментарий..."}}),t._v(" "),n("div",{staticClass:"comment-reply__controls"},[n("div",{staticClass:"comment-reply__right"},[t.showSettings?n("app-dropdown",{attrs:{"hide-on-click":!1,direction:"right"},scopedSlots:t._u([{key:"menu",fn:function(){return[n("div",{staticClass:"menu menu_xs"},[n("div",{staticClass:"menu__item"},[n("app-checkbox",{model:{value:t.sticky,callback:function(e){t.sticky=e},expression:"sticky"}},[t._v("\n                Закрепить\n              ")])],1)])]},proxy:!0}],null,!1,3199573885)},[n("button",{staticClass:"button button_light button_icon button_md",attrs:{"data-dropdown-trigger":""}},[n("i",{staticClass:"fa fa-cog"})])]):t._e(),t._v(" "),n("button",{staticClass:"comment-reply__send button_md button",class:t.btnClasses,attrs:{disabled:t.loading,tabindex:"-1"},on:{click:t.submitForm}},[n("i",{staticClass:"fa fa-paper-plane"}),t._v(t._s(t.editing?"Сохранить":"Отправить")+"\n      ")])],1),t._v(" "),n("div",{ref:"toolbar",staticClass:"comment-reply__toolbar"},t._l(t.buttons,function(t){return n("button",{key:t.action,staticClass:"button button_md button_icon",attrs:{"data-action":t.action}},[n("span",{class:["fa fa-"+t.icon]})])}),0)])])},staticRenderFns:[]}},"9+GO":function(t,e,n){var r=n("r54x");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"94sX":function(t,e,n){var r=n("dCZQ");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},"9Lyh":function(t,e){},"9UkZ":function(t,e,n){var r=n("aCM0"),i=n("vi0E"),o=n("UnEC"),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},"9Yos":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");e.default={props:{state:Object,value:[String,Number]},computed:{isChecked:function(){return this.isIncluded||this.isExcluded},isExcluded:function(){var t=this;return this.state.exclude.some(function(e){return e==t.value})},isIncluded:function(){var t=this;return this.state.include.some(function(e){return e==t.value})},checkedValue:function(){return this.isIncluded?1:this.isExcluded?2:0}},methods:{toggleValue:function(){this.isExcluded?this.state.exclude.splice(this.index(this.state.exclude),1):this.isIncluded?(this.state.include.splice(this.index(this.state.include),1),this.state.exclude.push(this.value)):this.state.include.push(this.value)},index:function(t){var e=this;return Object(r.e)(t,function(t){return t==e.value})}}}},"9mDF":function(t,e,n){var r=n("fkET"),i=n("hiy0");t.exports=function(t){return r(i(t))}},A2uy:function(t,e,n){var r=n("9mDF"),i=n("xDUa"),o=n("40wi"),a=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},A4r5:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r=void 0;function i(){i.init||(i.init=!0,r=-1!==function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):-1}())}var o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!r&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var t=this;i(),this.$nextTick(function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight});var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",r&&this.$el.appendChild(e),e.data="about:blank",r||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()}};var a={version:"0.4.5",install:function(t){t.component("resize-observer",o),t.component("ResizeObserver",o)}},s=null;"undefined"!=typeof window?s=window.Vue:void 0!==t&&(s=t.Vue),s&&s.use(a)}).call(e,n("DuR2"))},A6BG:function(t,e,n){var r=n("mWhC"),i=n("hiy0"),o=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},A7pH:function(t,e,n){"use strict";var r=n("0ZhK"),i=n.n(r),o=n("OvQW"),a=n.n(o),s=n("u5FJ"),c=n("Jaym");function u(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={ALLOWED_TAGS:["b","s","i","u","blockquote","br","ul","li","ol"],ALLOWED_ATTR:[""],FORBID_TAGS:["style","class"],ALLOW_DATA_ATTR:!1};a.a.addHook("beforeSanitizeElements",function(t){return"SPAN"===t.nodeName&&("spoiler-title"===t.className&&(t.innerHTML="[spoiler=".concat(t.innerHTML,"]")),"spoiler-text"===t.className&&(t.innerHTML="".concat(t.innerHTML,"[/spoiler]"))),t}),i.a.prototype.spoiler=function(){var t=this.getSelectedText()||" ";return this.insertHTML("[spoiler=спойлер]".concat(t,"[/spoiler]")),this.focus(),this};var b=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=p(this,v(e).call(this,t,n)))._toolbar=n.toolbar||null,r._tags={italic:"i",bold:"b",strikethrough:"s",underline:"u",quote:"blockquote",orderedList:"ol",unorderedList:"ul"},r._actionMethods={quote:{add:"increaseQuoteLevel",remove:"decreaseQuoteLevel"},orderedList:{add:"makeOrderedList",remove:"removeList"},unorderedList:{add:"makeUnorderedList",remove:"removeList"},clear:"removeAllFormatting",spoiler:"spoiler",undo:"undo",redo:"redo"},r.bindEvents(),r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,i.a),n=e,(r=[{key:"bindEvents",value:function(){this._onToolbarClick=this.onToolbarClick.bind(this),Object(s.c)(this._toolbar,"click",this._onToolbarClick)}},{key:"onToolbarClick",value:function(t){t.preventDefault();var e,n=t.target.closest("[data-action]"),r=Object(s.f)(n,"data-action"),i=this._tags[r],o=this._actionMethods[r],a="remove";if(r){if(i)if(this.hasFormat(i)){var u=r.charAt(0).toUpperCase()+r.slice(1);e="remove".concat(u)}else e=r,a="add";o&&(e=Object(c.o)(o)?o:o[a]),e&&this[e]()}}},{key:"_wrapSpoilers",value:function(t,e){var n=/\[spoiler(=[^\]]*?)?\]([^[]*)\[\/spoiler\]/g,r="string"==typeof t?t:e;if(r&&r.match)for(;(r.match(n)||[]).length;)r=r.replace(n,function(t,e,n){return e?("="===e[0]&&(e=e.slice(1)),e=e.trim()):e="спойлер",n&&n.trim().length?(e=e.length?e:"спойлер",n=n.trim(),' <div class="comment__spoiler"><span class="spoiler-title">'.concat(e,'</span><span class="spoiler-text">').concat(n,"</span></div> ")):""});return r}},{key:"_removeEmptyBlocks",value:function(){for(var t=this._root,e=t.children,n=e.length;n--;){var r=e[n];if(r.textContent.trim().length)break;t.removeChild(r)}}},{key:"getParsedHTML",value:function(){var t=this.getHTML(),e=a.a.sanitize(t,g);return e=(e=this._wrapSpoilers(e,t)).replace(/<br>(?:<br>)+/g,"<br><br>")}},{key:"clearEditor",value:function(){this._root.innerHTML=""}},{key:"getTextContent",value:function(){var t=document.createElement("div");return t.innerHTML=this.getParsedHTML(),t.textContent.trim()}},{key:"contentLength",value:function(){return this.getTextContent().length}},{key:"isEmpty",value:function(){return!this.contentLength()}},{key:"destroy",value:function(){Object(s.b)(this._toolbar,"click",this._onToolbarClick),h(v(e.prototype),"destroy",this).call(this)}}])&&d(n.prototype,r),o&&d(n,o),e}(),y=function(t,e,n){var r,i=n._doc;return(r=t?a.a.sanitize(t,u({},g,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0})):null)?i.importNode(r,!0):i.createDocumentFragment()};e.a=function(t,e){if(Object(s.j)(t)){var n=new b(t,u({},e,{sanitizeToDOMFragment:y}));return n.addEventListener("focus",function(t){var e=t.target;s.g.add(e,"is-dirty")}),n}}},A9mX:function(t,e,n){var r=n("pTUa");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},AMIE:function(t,e,n){var r=n("l/2K"),i=n("9mDF"),o=n("A2uy").indexOf,a=n("Eb96");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},ATG8:function(t,e,n){"use strict";var r=n("Mqyi"),i=n("u5FJ"),o={el:null,isVisible:!1,isShown:!1,hidePromise:null,show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Загрузка...";this.el||this.init(),this.isVisible=!0,this.el.textContent=e,i.g.add(this.el,"page-preloader_enter","page-preloader_visible"),i.e.once(this.el,function(){t.isShown=!0,i.g.remove(t.el,"page-preloader_enter"),t.hidePromise&&t.hide()})},hide:function(){var t=this;if(!this.isShown)return this.hidePromise=!0;i.g.add(this.el,"page-preloader_leave"),this.isVisible=!1,i.e.once(this.el,function(){i.g.remove(t.el,"page-preloader_visible","page-preloader_leave"),t.isShown=!1,t.hidePromise=!1})},init:function(){this.el=Object(r.a)("div",{className:"page-preloader"}),document.body.appendChild(this.el)}};e.a=o},AZEo:function(t,e,n){var r=n("VU/8")(n("0SEL"),n("mQw1"),!1,function(t){n("xOvH")},null,null);t.exports=r.exports},AcyC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.onChange}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},AezI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={model:{prop:"model",event:"input"},props:{value:[Object,Array,String,Number,Boolean],label:String,model:[Object,Array,String,Number,Boolean],large:Boolean,name:{type:String,default:"radio-input"},disabled:{type:Boolean,default:!1}},computed:{isChecked:function(){return this.model==this.value}}}},AgIj:function(t,e,n){var r=n("cdq7"),i=n("JyYQ"),o=n("5Zxu"),a=Math.max,s=Math.min;t.exports=function(t,e,n){var c=null==t?0:t.length;if(!c)return-1;var u=c-1;return void 0!==n&&(u=o(n),u=n<0?a(c+u,0):s(u,c-1)),r(t,i(e,3),u,!0)}},"Ai/T":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},AsJq:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_caution search-filter__checkbox-list_flex"},t._l(t.state.caution_list,function(e,r){return n("CheckboxWithExclude",{key:r,attrs:{state:t.state.caution,value:r}},[t._v("\n    "+t._s(e)+"\n  ")])}),1)},staticRenderFns:[]}},B0gI:function(t,e,n){var r=n("VU/8")(n("Ldfy"),n("dZRW"),!1,null,null,null);t.exports=r.exports},BEQ0:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},BHJ2:function(t,e,n){var r=n("VU/8")(n("Dm9W"),n("516i"),!1,null,null,null);t.exports=r.exports},BTPc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={success:"fa-check-circle",alert:"fa-exclamation-circle",info:"fa-info-circle"};e.default={props:{item:Object},computed:{iconByStatus:function(){return r[this.item.status]}},created:function(){this.item.closeable||0===this.item.timeout||(this.timer=setTimeout(this.close,this.item.timeout||4e3))},beforeDestroy:function(){this.clearTimeout()},methods:{close:function(){this.removeItem(),this.item.onClose&&this.item.onClose()},onItemClick:function(){this.removeItem(),this.item.onClick&&this.item.onClick()},removeItem:function(){this.$emit("remove",this.item.id),this.clearTimeout()},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.timer&&(clearTimeout(this.timer),this.timer=null)})}}},BV6Q:function(t,e,n){"use strict";var r=n("O4Lo"),i=n.n(r),o=n("u5FJ");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c={target:".tabs__item",active:".tabs__item_active",className:"tabs__line",onClick:!0},u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},c,{},n),this.el=e,this.target=n.target,this.onClick=this.onClick.bind(this),this.onResize=i()(this.moveLine.bind(this),300),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.active=Object(o.l)(this.options.active,this.el),this.bindEvent(),this.appendLine(),this.initObserver(),this.line.style.display="block"}},{key:"initObserver",value:function(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(this._observerCallback.bind(this)),this.observer.observe(this.el)):this.moveLine()}},{key:"_observerCallback",value:function(t){var e=this;t.forEach(function(t){t.isIntersecting&&(e.moveLine(),e.observer.unobserve(e.el),e.observer.disconnect&&e.observer.disconnect(),e.observer=null)})}},{key:"bindEvent",value:function(){this.options.onClick&&Object(o.c)(this.el,"click",this.onClick),Object(o.c)(window,"resize",this.onResize)}},{key:"appendLine",value:function(){var t=document.createElement("div");t.className=this.options.className,t.style.display="none",this.line=this.el.appendChild(t)}},{key:"onClick",value:function(t){this._update(t.target)}},{key:"_update",value:function(t){var e=t?t.closest(this.options.target):Object(o.l)(this.options.active,this.el);e&&(this.active=e,this.moveLine())}},{key:"moveLine",value:function(){var t=this;requestAnimationFrame(function(){if(t.active){var e=t.active.offsetWidth,n=t.active.offsetLeft;t.line.style.width="".concat(e,"px"),t.line.style.transform="translateX(".concat(n,"px)")}})}},{key:"destroy",value:function(){Object(o.b)(this.el,"click",this.onClick),Object(o.b)(window,"resize",this.onResize),this.el.removeChild(this.line)}}])&&s(e.prototype,n),r&&s(e,r),t}();e.a=u},Ba3q:function(t,e,n){var r=n("6kJs"),i=n("NGEn");t.exports=function(t,e,n,o){return null==t?[]:(i(e)||(e=null==e?[]:[e]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},Ba9a:function(t,e){},Bl36:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"slider"})},staticRenderFns:[]}},BrUz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6Vnj"),i=n.n(r),o=n("aewn"),a=n.n(o),s=n("4Q4y"),c=n.n(s),u=n("Jaym"),l=n("fK0A");function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={components:{AppCheckbox:i.a,AppSlider:a.a,AppSettingsRadioGroup:c.a},popupOptions:{name:"popup_side",responsive:{sm:{name:"popup_bottom-sheet"}}},props:{settings:Object},data:function(){return{fontSizeOptions:{step:1,connect:"lower",range:{min:14,max:36}},lineHeightOptions:{step:.1,connect:"lower",range:{min:1,max:2.4}},containerWidthOptions:{step:10,connect:"lower",range:{min:840,max:window.innerWidth}},paragraphOffsetOptions:{step:1,connect:"lower",range:{min:5,max:45}},colors:[{name:"light",text:"#212529",background:"#f2f2f3"},{text:"#27262b",background:"#dce5e2"},{text:"#28282a",background:"#f5f1e5"},{text:"#262425",background:"#e5cf9d"},{text:"#dbdbdb",background:"#434751"},{name:"dark",text:"#dddddd",background:"#141414"}]}},watch:{settings:{deep:!0,handler:function(t){u.u.update("reader",t),this.$AppEmitter.emit("settings",t)}},"settings.color.text":function(t){"#dddddd"!==t&&"#212529"!==t&&(this.settings.theme="custom")},"settings.color.background":function(t){"#141414"!==t&&"#f2f2f3"!==t&&(this.settings.theme="custom")}},created:function(){var t=this;this.watchers=[];["containerWidth","disableHeader","theme","color"].forEach(function(e){t.watchers.push(t.$watch("settings.".concat(e),function(n){return t.$AppEmitter.emit("settings.".concat(e),n)},{deep:!0}))})},beforeDestroy:function(){this.watchers.forEach(function(t){return t()})},methods:{themeChanged:function(t){var e=u.u.get("dark-theme",l.a),n="dark"===t;"global"===t&&(n=e.enabled),Object(l.e)(n)},selectColor:function(t){this.settings.color={text:t.text,background:t.background},this.settings.theme=t.name||"custom"},setProp:function(t,e){document.documentElement.style.setProperty(t,e)},setLightness:function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t);return t.lightness<=e+8?n.lightness+=e:n.lightness-=e,n.toString()},LightenDarkenColor:function(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var r=parseInt(t,16),i=(r>>16)+e;i>255?i=255:i<0&&(i=0);var o=(r>>8&255)+e;o>255?o=255:o<0&&(o=0);var a=(255&r)+e;return a>255?a=255:a<0&&(a=0),(n?"#":"")+(a|o<<8|i<<16).toString(16)}}}},BsFZ:function(t,e,n){var r=n("VU/8")(n("1ml6"),n("ZP0a"),!1,function(t){this.$style=n("CYcT")},null,null);t.exports=r.exports},BscA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Добавить похожий тайтл\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"modal__body"},[null===t.selected?[n("div",{staticClass:"add-similar-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"query",staticClass:"form__input",attrs:{type:"text",placeholder:"Поиск тайтла"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t.loading?n("app-loader",{staticClass:"add-similar-form__loader",attrs:{size:"small"}}):t._e()],1),t._v(" "),n("div",{staticClass:"add-similar-list",class:{"is-loading":t.loading}},t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"manga-list-item manga-list-item_sm"},[n("div",{staticClass:"manga-list-item__cover"},[n("div",{staticClass:"cover cover_responsive cover_shadow",style:{"background-image":"url("+e.coverImageThumbnail+")"}})]),t._v(" "),n("div",{staticClass:"manga-list-item__body"},[n("div",{staticClass:"manga-list-item__name"},[t._v("\n              "+t._s(e.rus_name||e.name)+"\n              "),n("span",[t._v(t._s(e.name||e.eng_name))])]),t._v(" "),n("div",{staticClass:"manga-list-item__meta"},[n("span",{staticClass:"manga-list-item__meta-'rating",attrs:{"data-rating":e.rate_avg>3.5?"positive":"negative"}},[t._v("\n                "+t._s(e.rate_avg)+"\n              ")]),t._v(" "),n("span",{staticClass:"manga-list-item__meta-type"},[t._v("\n                "+t._s(t.mediaTypes[e.type_id])+"\n              ")])]),t._v(" "),n("button",{staticClass:"button button_sm button_blue button_clean add-similar-btn",on:{click:function(n){return t.next(e)}}},[t._v("\n              Добавить\n            ")])])])}),0)]:[n("div",{staticClass:"form__field"},[n("div",{staticClass:"manga-list-item manga-list-item_sm"},[n("div",{staticClass:"manga-list-item__cover"},[n("div",{staticClass:"cover cover_responsive cover_shadow",style:{"background-image":"url("+t.selected.coverImageThumbnail+")"}})]),t._v(" "),n("div",{staticClass:"manga-list-item__body"},[n("div",{staticClass:"manga-list-item__name"},[t._v("\n              "+t._s(t.selected.rus_name||t.selected.name)+"\n              "),n("span",[t._v(t._s(t.selected.name||t.selected.eng_name))])]),t._v(" "),n("div",{staticClass:"manga-list-item__meta"},[n("span",{staticClass:"manga-list-item__meta-rating",attrs:{"data-rating":t.selected.rate_avg>3.5?"positive":"negative"}},[t._v("\n                "+t._s(t.selected.rate_avg)+"\n              ")]),t._v(" "),n("span",{staticClass:"manga-list-item__meta-type"},[t._v("\n                "+t._s(t.mediaTypes[t.selected.type_id])+"\n              ")])])])])]),t._v(" "),n("div",{staticClass:"form__field"},[n("div",{staticClass:"form__label"},[t._v("\n          Выбрать критерий схожести (макс. 2)\n        ")]),t._v(" "),n("div",{staticClass:"add-similar-categories"},t._l(t.categories,function(e,r){return n("app-checkbox",{key:r,attrs:{value:r,disabled:t.isNotIncluded(r)},model:{value:t.selectedCategories,callback:function(e){t.selectedCategories=e},expression:"selectedCategories"}},[t._v("\n            "+t._s(e)+"\n          ")])}),1)]),t._v(" "),n("div",{staticClass:"form__footer buttons-stretch"},[n("button",{staticClass:"button button_blue text-truncate",attrs:{disabled:t.storeLoading},on:{click:t.store}},[t._v("\n          Подтвердить добавление\n        ")]),t._v(" "),n("button",{staticClass:"button button_light",attrs:{disabled:t.storeLoading},on:{click:function(e){t.selected=null}}},[t._v("\n          Назад\n        ")])])]],2)])},staticRenderFns:[]}},"C/Wh":function(t,e,n){var r=n("hcE8"),i=n("asqq");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},C0hh:function(t,e){t.exports=function(){return[]}},C1ru:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},CEDZ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"team-list-item",class:{"is-active":t.branch.id===t.selectedBranch,"is-updated":t.hasUpdates},on:{click:t.selectBranch}},[n("div",{staticClass:"team-list-item__covers"},t._l(t.activeTeams,function(e){return n("div",{key:e.id,staticClass:"team-list-item__cover",style:{"background-image":"url("+t.$url.teamCover(e)+")"}})}),0),t._v(" "),n("div",{staticClass:"team-list-item__name text-truncate"},t._l(t.activeTeams,function(e){return n("span",{key:e.id},[t._v("\n      "+t._s(e.name)+"\n    ")])}),0),t._v(" "),0!==t.teamsCount?n("div",{staticClass:"team-list-item__bell",class:{"team-list-item__bell_active":t.branch.is_subscribed},on:{click:function(e){return e.stopPropagation(),t.toggleSubscription(e)}}},[n("i",{staticClass:"fa",class:{"fa-bell-o":!t.branch.is_subscribed,"fa-bell":t.branch.is_subscribed}})]):t._e()])},staticRenderFns:[]}},CHen:function(t,e,n){var r=n("uCi2"),i=n("HAGj"),o=n("bIjD");t.exports=function(t,e,n){for(var a=-1,s=e.length,c={};++a<s;){var u=e[a],l=r(t,u);n(l,u)&&i(c,o(u,t),l)}return c}},CUbW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("I3G/"),a=n.n(o),s=n("7/oE"),c=n("Xqzd"),u=n.n(c),l=n("alMs");e.default=a.a.extend({name:"AppDialogRoot",components:{AppDialog:u.a},mixins:[Object(s.a)()],data:function(){return{dialogs:[],isDisabled:!1}},$watch:{isDisabled:{immediate:!0,handler:function(t){this.$dialog.isDisabled=t}}},created:function(){var t=this;window.addEventListener("keyup",function(t){27===t.keyCode&&l.a.emit("close")}),l.a.on("disable",function(){return t.isDisabled=!0}),l.a.on("enable",function(){return t.isDisabled=!1}),l.a.on("open",function(e){t.dialogs.push(e),1===t.dialogs.length&&t.toggleBodyOffset(!0)}),l.a.on("close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t.isDisabled||e){var n=t.dialogs.length-1;t.dialogs.splice(n,1),t.dialogs.length||setTimeout(function(){return t.toggleBodyOffset(!1)},420)}})},methods:{outsideClickStart:function(t){r=t,t.target&&(i=null!=t.target.closest(".popup__content"))},outsideClick:function(t){var e=t.target;!e||e.closest(".popup__content")||r.target!==e||i||l.a.emit("close")},toggleBodyOffset:function(t){var e=document.body,n=window.innerWidth-e.offsetWidth;e.style.overflow=t?"hidden":"",e.style.paddingRight=t?"".concat(n,"px"):""}}})},CW5P:function(t,e,n){var r=n("T/bE"),i=n("duB3"),o=n("POb3");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},CYcT:function(t,e){t.exports={item:"gdgBW7dT3d04hV3FXHWFg_0",title:"_3XFabmsQnKJPFXZdfe1mgt_0",name:"_3HMRZe0gGuTx19u_PIK3TY_0"}},Cf65:function(t,e,n){var r=n("uCi2"),i=n("M1c9");t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},CkJp:function(t,e,n){var r=n("VU/8")(n("84iM"),n("rInL"),!1,null,null,null);t.exports=r.exports},Cskv:function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},CwNI:function(t,e,n){n("vQY2");var r=n("flBj");t.exports=r("Array","findIndex")},CwSZ:function(t,e,n){"use strict";var r=n("p8xL"),i=n("XgCd"),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,i,o,a,c,l,f,p,h,v,m,g){var b,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=h(y):"comma"===i&&s(y)&&(y=r.maybeMap(y,function(t){return t instanceof Date?h(t):t}).join(",")),null===y){if(o)return c&&!m?c(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(b=y)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(y))return c?[v(m?n:c(n,d.encoder,g,"key"))+"="+v(c(y,d.encoder,g,"value"))]:[v(n)+"="+v(String(y))];var _,w=[];if(void 0===y)return w;if(s(l))_=l;else{var x=Object.keys(y);_=f?x.sort(f):x}for(var O=0;O<_.length;++O){var k=_[O],j=y[k];if(!a||null!==j){var C=s(y)?"function"==typeof i?i(n,k):n:n+(p?"."+k:"["+k+"]");u(w,t(j,C,i,o,a,c,l,f,p,h,v,m,g))}}return w};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],a=d.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var h=a[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var m=n[v];c.skipNulls&&null===r[m]||u(f,p(r[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},CxPB:function(t,e,n){var r=n("wSKX");t.exports=function(t){return"function"==typeof t?t:r}},D6ie:function(t,e,n){var r=n("xA5w"),i=n("3znZ"),o=n("iRXW"),a=6048e5;t.exports=function(t){var e=r(t),n=i(e).getTime()-o(e).getTime();return Math.round(n/a)+1}},DDCP:function(t,e,n){"use strict";var r=n("p8xL"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,n,r){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&null!==(s=a.exec(o))&&f<n.depth;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(t,e,n,r){for(var i=r?e:c(e,n),o=t.length-1;o>=0;--o){var a,s=t[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:a[u]=i:a={0:i}}i=a}return i}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,d=l.split(e.delimiter,f),p=-1,h=e.charset;if(e.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var v,m,g=d[n],b=g.indexOf("]="),y=-1===b?g.indexOf("="):b+1;-1===y?(v=e.decoder(g,a.decoder,h,"key"),m=e.strictNullHandling?null:""):(v=e.decoder(g.slice(0,y),a.decoder,h,"key"),m=r.maybeMap(c(g.slice(y+1),e),function(t){return e.decoder(t,a.decoder,h,"value")})),m&&e.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(u,v)?u[v]=r.combine(u[v],m):u[v]=m}return u}(t,n):t,f=n.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var h=d[p],v=u(h,l[h],n,"string"==typeof t);f=r.merge(f,v,n)}return r.compact(f)}},DFAc:function(t,e,n){var r=n("VU/8")(n("0fXO"),n("Hn1P"),!1,function(t){n("tW5+")},null,null);t.exports=r.exports},DX4S:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment",class:{"is-editing":t.showForm},attrs:{id:"comment_"+t.comment.id}},[n("div",{staticClass:"comment__body"},[n("div",{staticClass:"comment__head"},[n("a",{staticClass:"comment__user",attrs:{href:"/user/"+t.user.id}},[n("img",{staticClass:"comment__avatar",attrs:{src:t.$url.avatar(t.user),alt:t.user.username}}),t._v(" "),n("span",{staticClass:"comment__username text-truncate"},[t._v(t._s(t.user.username))])]),t._v(" "),n("time",{staticClass:"comment__date-time"},[n("timeago",{attrs:{datetime:t.comment.created_at}})],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],ref:"content",staticClass:"comment__content",class:{comment__content_collapsed:t.collapsed}},[t.hideContent?[n("div",{staticClass:"comment__content-hidden"},[t._v("\n          Комментарий скрыт из-за низкого рейтинга. (может содержать спойлер)\n          "),n("button",{staticClass:"button_link",on:{click:function(e){t.hideContent=!t.hideContent}}},[t._v("\n            Показать\n          ")])])]:[n("div",{domProps:{innerHTML:t._s(t.comment.comment)}})]],2),t._v(" "),t.collapsible?n("button",{staticClass:"comment__expand comment__expand_upper button_link",on:{click:function(e){t.collapsed=!t.collapsed}}},[t.collapsed?[t._v("\n        Показать полностью "),n("i",{staticClass:"fa fa-angle-down"})]:[t._v("\n        Свернуть\n      ")]],2):t._e(),t._v(" "),n("div",{staticClass:"comment__controls"},[t.isDeleted?t._e():n("button",{staticClass:"button_link",attrs:{disabled:t.disabled},on:{click:t.toggleForm}},[t._v("\n        "+t._s(t.showForm?"отмена":"ответить")+"\n      ")]),t._v(" "),n("v-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.showForm||t.showEditBtn||t.showDeleteBtn||!t.isCurrentUser,expression:"!showForm || showEditBtn || showDeleteBtn || !isCurrentUser"}],staticClass:"comment__dropdown",scopedSlots:t._u([{key:"menu",fn:function(){return[n("div",{staticClass:"menu menu_xs"},[t.showEditBtn?n("div",{staticClass:"menu__item",on:{click:function(e){return t.toggleForm(e,!0)}}},[t._v("\n              Редактировать\n            ")]):t._e(),t._v(" "),t.showDeleteBtn?n("div",{staticClass:"menu__item",on:{click:t.deleteComment}},[t._v("\n              Удалить\n            ")]):t._e(),t._v(" "),t.isCurrentUser?t._e():n("div",{staticClass:"menu__item",on:{click:t.reportComment}},[t._v("\n              Пожаловаться\n            ")])])]},proxy:!0}])},[n("div",{staticClass:"comment__control comment__control_dropdown",attrs:{"data-dropdown-trigger":""}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-extra"}})])])]),t._v(" "),n("div",{staticClass:"comment__rating",on:{click:t.changeVote}},[n("div",{staticClass:"comment__rating-action",class:1==t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"1"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-up"}})])]),t._v(" "),n("div",{staticClass:"comment__rating-value",class:{"comment__rating-value_positive":t.votes>0,"comment__rating-value_negative":t.votes<0},attrs:{"data-vote":t.comment.votes_up+"_"+t.comment.votes_down}},[t._v("\n          "+t._s(t.votes)+"\n        ")]),t._v(" "),n("div",{staticClass:"comment__rating-action",class:0==t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"0"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-down"}})])])])],1),t._v(" "),t.showForm?n("comment-reply",{attrs:{"is-reply":!0,page:t.comment.page_id,"root-id":t.rootId,"comment-level":t.commentLevel}}):t._e()],1),t._v(" "),!t.show&&t.hasChilds?n("button",{staticClass:"comment__expand button_link",on:{click:t.toggleCollapse}},[t._v("\n    Развернуть ветку\n  ")]):t._e(),t._v(" "),t.hasChilds&&t.show?n("div",{staticClass:"comment__children",class:{"comment__children_new-line":t.isNewLine}},[n("div",{staticClass:"comment__collapse",on:{click:t.toggleCollapse}}),t._v(" "),t._l(t.children,function(e){return n("comment",{key:e.id,attrs:{comment:e,"root-id":t.rootId,"comment-level":t.commentLevel+1}})})],2):t._e()])},staticRenderFns:[]}},DaqH:function(t,e,n){var r=n("VU/8")(n("0XRH"),n("hdIB"),!1,null,null,null);t.exports=r.exports},Dc0G:function(t,e,n){(function(t){var r=n("blYT"),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n("3IRH")(t))},Dc7M:function(t,e,n){var r=n("Hxdr"),i=n("Fkvj"),o=n("Vi3P"),a=n("bIjD"),s=n("tv3T"),c=n("dYhQ"),u=n("2N6f"),l=n("xond"),f=u(function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,function(e){return e=a(e,t),u||(u=e.length>1),e}),s(t,l(t),n),u&&(n=i(n,7,c));for(var f=e.length;f--;)o(n,e[f]);return n});t.exports=f},DgZn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folder-create",class:[t.size&&"bookmark-folder-create_"+t.size]},[n("div",{staticClass:"bookmark-folder-create__icon",class:{"button_loading-inv":t.loading},on:{click:t.create}},[n("i",{staticClass:"fa fa-plus"})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"bookmark-folder-create__input form__input",attrs:{type:"text",placeholder:"Создать новую вкладку"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create(e)},input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},staticRenderFns:[]}},Dm9W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r),o=n("CkJp"),a=n.n(o),s=n("Kip4");e.default=i.a.extend({components:{BookmarkFoldersList:a.a},mixins:[s.a],props:{className:String}})},DpdR:function(t,e,n){var r=n("VU/8")(n("H+Y6"),n("kDk3"),!1,null,null,null);t.exports=r.exports},Dsj5:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notifications__wrapper"},[n("div",{staticClass:"notifications-header"},[n("v-dropdown",{staticClass:"notifications-header__dropdown",attrs:{"tippy-options":{appendTo:t.$el}},scopedSlots:t._u([{key:"menu",fn:function(){return[n("div",{staticClass:"menu menu_xs"},[n("div",{staticClass:"menu__subheader"},[t._v("\n            Название манги\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("name")}}},[t._v("\n            На английском\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"rus_name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("rus_name")}}},[t._v("\n            На русском\n          ")])])]},proxy:!0}])},[n("div",{staticClass:"notifications-header__icon notifications-header__icon_left",attrs:{"data-dropdown-trigger":""}},[n("i",{staticClass:"fa fa-cog"})])]),t._v(" "),n("h6",{staticClass:"notifications-header__title"},[t._v("\n      Уведомления\n    ")]),t._v(" "),n("div",{staticClass:"notifications-header__icon notifications-header__icon_right tooltip",attrs:{"aria-label":"Отметить всё как прочитанное","data-place":"left"},on:{click:t.markAllAsRead}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-check-list"}})])])],1),t._v(" "),n("div",{staticClass:"tabs notifications-filter"},[n("div",{staticClass:"tabs__wrapper"},[n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list"},t._l(t.tabs,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r==t.activeTab},on:{click:function(e){return t.changeTab(r)}}},[n("span",[t._v(t._s(e.label))]),t._v(" "),n("span",{staticClass:"tabs__label"},[t._v(t._s(t._f("limit")(e.count)))])])}),0)])]),t._v(" "),n("div",{ref:"body",staticClass:"notifications__body"},[t.notifications.length?[n("transition-group",{staticClass:"notifications__list",attrs:{name:t.animationName,tag:"div"},on:{"before-leave":t.beforeLeave}},t._l(t.notifications,function(e){return n("v-notification-item",{key:e.id,attrs:{notification:e,"media-name-prop":t.settings.mangaNameProp},on:{remove:t.removeNotification}})}),1)]:t._e(),t._v(" "),t.loading||t.notifications.length?t._e():n("div",{staticClass:"notifications__empty"},[t._v("\n      Нет новых уведомлений\n    ")]),t._v(" "),t.hasNextPage?n("v-loader",{staticClass:"notifications__loader",attrs:{size:"md"}}):t._e()],2)])},staticRenderFns:[]}},Dv2r:function(t,e,n){var r=n("pTUa");t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},DxBg:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},E4Hj:function(t,e){t.exports=function(t){return this.__data__.get(t)}},EC2Z:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast"},[n("transition-group",{attrs:{tag:"div",name:"toast"},on:{"before-leave":t.leave}},t._l(t.items,function(e){return n("v-toast-item",{key:e.id,attrs:{item:e},on:{remove:t.remove}})}),1)],1)},staticRenderFns:[]}},EHRO:function(t,e,n){var r=n("NkRn"),i=n("qwTf"),o=n("22B7"),a=n("FhcP"),s=n("WFiI"),c=n("octw"),u=1,l=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,O=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,k,j){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!k(new i(t),new i(e)));case f:case d:case v:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case h:var C=s;case g:var E=r&u;if(C||(C=c),t.size!=e.size&&!E)return!1;var S=j.get(t);if(S)return S==e;r|=l,j.set(t,e);var P=a(C(t),C(e),r,x,k,j);return j.delete(t),P;case y:if(O)return O.call(t)==O.call(e)}return!1}},EJk4:function(t,e,n){var r=n("hiy0");t.exports=function(t){return Object(r(t))}},EKta:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),c=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=i[t.charCodeAt(f)]<<18|i[t.charCodeAt(f+1)]<<12|i[t.charCodeAt(f+2)]<<6|i[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=i[t.charCodeAt(f)]<<2|i[t.charCodeAt(f+1)]>>4,s[c++]=255&e);1===a&&(e=i[t.charCodeAt(f)]<<10|i[t.charCodeAt(f+1)]<<4|i[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},EXDK:function(t,e){},Eb96:function(t,e){t.exports={}},EdYQ:function(t,e){},En79:function(t,e,n){t.exports=n("SldL")},"Eoz/":function(t,e,n){var r=n("ymQ7"),i=n("D6ie"),o=n("zZbG"),a=n("xA5w"),s=n("dH3X"),c=n("uyaC");var u={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return f(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return i(t)},WW:function(t){return f(i(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(o(t)).substr(2)},GGGG:function(t){return o(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(u.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return l(t.getTimezoneOffset(),":")},ZZ:function(t){return l(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function l(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),i=r%60;return n+f(Math.floor(r/60),2)+e+f(i,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,o=c.format.formatters,l=c.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(o=i.format.formatters,i.format.formattingTokensRegExp&&(l=i.format.formattingTokensRegExp));var f=a(t);return s(f)?function(t,e,n){var r,i,o,a=t.match(n),s=a.length;for(r=0;r<s;r++)i=e[a[r]]||u[a[r]],a[r]=i||((o=a[r]).match(/\[[\s\S]/)?o.replace(/^\[|]$/g,""):o.replace(/\\/g,""));return function(t){for(var e="",n=0;n<s;n++)a[n]instanceof Function?e+=a[n](t,u):e+=a[n];return e}}(r,o,l)(f):"Invalid Date"}},EuP9:function(t,e,n){"use strict";(function(t){var r=n("EKta"),i=n("ujcs"),o=n("sOR5");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(u(t,o+d)!==u(e,d)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,r){return U(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return _(t,e,n,r)}function x(t,e,n,r){return U(z(e),t,n,r)}function O(t,e,n,r){return U(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,u=t[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function I(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,o){return o||I(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,o){return o||I(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:F(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n("DuR2"))},FCuZ:function(t,e,n){var r=n("uIr7"),i=n("NGEn");t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},FNNP:function(t,e,n){"use strict";e.a={methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,i=r.$options.name;r&&(!i||i!==t);)(r=r.$parent)&&(i=r.$options.name);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){(function t(e,n,r){this.$children.forEach(function(i){i.$options.name===e?(i.$emit.apply(i,[n].concat(r)),i.$children&&i.$children.length&&t.apply(i,[e,n].concat([r]))):t.apply(i,[e,n].concat([r]))})}).call(this,t,e,n)}}}},"FZ+f":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},FhcP:function(t,e,n){var r=n("7YkW"),i=n("2X2u"),o=n("dmQx"),a=1,s=2;t.exports=function(t,e,n,c,u,l){var f=n&a,d=t.length,p=e.length;if(d!=p&&!(f&&p>d))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var v=-1,m=!0,g=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++v<d;){var b=t[v],y=e[v];if(c)var _=f?c(y,b,v,e,t,l):c(b,y,v,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(e,function(t,e){if(!o(g,e)&&(b===t||u(b,t,n,c,l)))return g.push(e)})){m=!1;break}}else if(b!==y&&!u(b,y,n,c,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},Fkvj:function(t,e,n){var r=n("bJWQ"),i=n("PqYH"),o=n("i4ON"),a=n("jD7S"),s=n("py9u"),c=n("mKB/"),u=n("hrPF"),l=n("Nkkh"),f=n("1QDk"),d=n("MoMe"),p=n("xond"),h=n("gHOb"),v=n("UfSK"),m=n("5/Qr"),g=n("WQFf"),b=n("NGEn"),y=n("ggOT"),_=n("dwsC"),w=n("yCNF"),x=n("SGXn"),O=n("ktak"),k=1,j=2,C=4,E="[object Arguments]",S="[object Function]",P="[object GeneratorFunction]",A="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[A]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[S]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,N,L,M,I){var D,R=n&k,q=n&j,B=n&C;if(N&&(D=M?N(e,L,M,I):N(e)),void 0!==D)return D;if(!w(e))return e;var F=b(e);if(F){if(D=v(e),!R)return u(e,D)}else{var z=h(e),U=z==S||z==P;if(y(e))return c(e,R);if(z==A||z==E||U&&!M){if(D=q||U?{}:g(e),!R)return q?f(e,s(D,e)):l(e,a(D,e))}else{if(!T[z])return M?e:{};D=m(e,z,R)}}I||(I=new r);var H=I.get(e);if(H)return H;I.set(e,D),x(e)?e.forEach(function(r){D.add(t(r,n,N,r,e,I))}):_(e)&&e.forEach(function(r,i){D.set(i,t(r,n,N,i,e,I))});var $=B?q?p:d:q?keysIn:O,V=F?void 0:$(e);return i(V||e,function(r,i){V&&(r=e[i=r]),o(D,i,t(r,n,N,i,e,I))}),D}},Fp5l:function(t,e,n){var r=n("bGc4"),i=n("UnEC");t.exports=function(t){return i(t)&&r(t)}},Fwt4:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("qrdl"),i=n.n(r),o=n("iMIp"),a=n.n(o),s=n("O4Lo"),c=n.n(s),u=n("mtWM"),l=n.n(u),f=n("u5FJ"),d=n("Jaym"),p=n("Mqyi"),h=n("vrSs");function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={minLength:2,onSelect:console.log,transformQuery:function(t){return t},renderItem:function(t){return Object(p.a)("div",{className:"autocomplete__item"},t.value)}},b=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"_preventCursorMove",function(t){if((t.which||t.keyCode)===h.f.ARROW_UP){t.preventDefault();var e=t.target;void 0!==e.selectionStart&&(e.selectionEnd=e.selectionStart=e.value.length)}}),m(this,"_inputKeyUp",function(t){var e=t.which||t.keyCode;return e===h.f.ARROW_UP||e===h.f.ARROW_DOWN?n._itemHighlight(e,t):e===h.f.ENTER?n._onSelect(t):void n._onSearch(t)}),m(this,"_onSearch",function(t){var e=t.target,r=t.keyCode||t.which,i=e.value.trim();if("keyup"!==t.type||!t.ctrlKey||86!==r){if("paste"===t.type){var o=t.clipboardData||window.clipboardData;i=a()(o.getData("text")),t.stopPropagation()}i.length||n.clearSuggestions(),n.query!==i&&(n.query=i,i.length<n.options.minLength||(n.cancelRequest(),n.highlight=-1,n.toggleLoading(!0),n.requestSuggestions(i)))}}),m(this,"_suggestionClick",function(t,e){var r=Object(f.h)(e,n.suggestions);n.highlight=r,n._onSelect(t),t.preventDefault()}),m(this,"_toggleVisible",function(t){n.options.toggleVisibility&&("focus"===t.type?n.showSuggestions():n.hideSuggestions())}),m(this,"_renderItems",function(t){var e=document.createDocumentFragment();Object(d.f)(t,function(t,r){var i=n.options.renderItem(t);i.className+=" autocomplete__item",i.setAttribute("data-index",r),e.appendChild(i)}),n.items=t||[],n.clearSuggestions(),n.items.length||e.appendChild(n._renderEmptyData()),n.suggestions.appendChild(e)}),this.el=e.el,this.input=Object(f.l)(".autocomplete__input",this.el),this.suggestions=Object(f.l)(".autocomplete__suggestions",this.el),this.options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){m(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},g,{},e),this.query="",this.highlight=-1,this.items=[],this.requestSuggestions=c()(this._requestSuggestions,900),this._bindEvents()}var e,n,r;return e=t,(n=[{key:"_bindEvents",value:function(){Object(f.c)(this.input,"keydown",this._preventCursorMove),Object(f.c)(this.input,"keyup",this._inputKeyUp),Object(f.c)(this.input,"paste",this._onSearch),Object(f.c)(this.input,"blur focus",this._toggleVisible),this.destroySuggestionItemClick=Object(f.a)(this.suggestions,"mousedown",".autocomplete__item",this._suggestionClick)}},{key:"_itemHighlight",value:function(t){var e,n=this.items.length-1,r=Object(f.l)(".".concat("is-active"),this.suggestions);if(t===h.f.ARROW_UP?(e=this.highlight-1)<=-1&&(e=n):(e=this.highlight+1)>n&&(e=0),this.highlight=e,r&&f.g.remove(r,"is-active"),-1!==this.highlight){r=this.suggestions.children[e],f.g.add(r,"is-active"),this.suggestions.scrollTop>r.offsetTop&&(this.suggestions.scrollTop=r.offsetTop);var i=r.offsetTop+r.offsetHeight;i>this.suggestions.scrollTop+this.suggestions.offsetHeight&&(this.suggestions.scrollTop=i-this.suggestions.offsetHeight)}}},{key:"_onSelect",value:function(t){-1!==this.highlight&&this.options.onSelect({event:t,el:this.suggestions.children[this.highlight],item:this.items[this.highlight],index:this.highlight})}},{key:"_requestSuggestions",value:function(t){var e=this,n=this.options.transformQuery(t);return l.a.get(this.options.requestUrl(n),{params:{q:n},cancelToken:new l.a.CancelToken(function(t){return e.cancel=t})}).then(function(t){return t.data}).then(this._renderItems).then(function(){return e.toggleLoading(!1)}).catch(i.a),this}},{key:"cancelRequest",value:function(){return this.cancel&&(this.cancel(),this.cancel=null),this}},{key:"toggleLoading",value:function(t){return f.g.toggle(this.el,"autocomplete_loading",t),this}},{key:"clearSuggestions",value:function(){for(;this.suggestions.firstChild;)this.suggestions.removeChild(this.suggestions.firstChild);return this}},{key:"hideSuggestions",value:function(){f.g.add(this.suggestions,"hidden")}},{key:"showSuggestions",value:function(){f.g.remove(this.suggestions,"hidden")}},{key:"_renderEmptyData",value:function(){return Object(p.a)("div",{className:"autocomplete__empty"},"Ничего не найдено")}},{key:"destroy",value:function(){this.destroySuggestionItemClick(),Object(f.b)(this.input,"keydown",this._preventCursorMove),Object(f.b)(this.input,"keyup",this._inputKeyUp),this.el=null,this.input=null,this.suggestions=null,this.options=null,this.items=null,this.requestSuggestion=null}}])&&v(e.prototype,n),r&&v(e,r),t}()},G0Wc:function(t,e,n){var r=n("yCNF"),i=n("HT7L"),o=n("8gK5"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},G2xm:function(t,e){t.exports=function(t){return this.__data__.has(t)}},G7No:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()-i.getTime()}},G8ar:function(t,e,n){var r=n("cdq7"),i=n("8++/"),o=n("i6nN");t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},GAMr:function(t,e,n){var r=n("VU/8")(n("bsom"),n("12gJ"),!1,null,null,null);t.exports=r.exports},"GB3+":function(t,e,n){var r=n("1rEs").f,i=n("l/2K"),o=n("jAiL")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},GBOZ:function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return u});var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(n,r)}var e,n,r;return e=t,(n=[{key:"createObserver",value:function(t,e){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var r;if(this.options="function"==typeof(r=t)?{callback:r}:r,this.callback=function(t,e){n.options.callback(t,e),t&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var i=(this.options.throttleOptions||{}).leading;this.callback=function(t,e){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];if(i=u,!n||s!==r){var f=a.leading;"function"==typeof f&&(f=f(s,r)),n&&s===r||!f||t.apply(void 0,[s].concat(o(i))),r=s,clearTimeout(n),n=setTimeout(function(){t.apply(void 0,[s].concat(o(i))),n=0},e)}};return s._clear=function(){clearTimeout(n),n=null},s}(this.callback,this.options.throttle,{leading:function(t){return"both"===i||"visible"===i&&t||"hidden"===i&&!t}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(t){var e=t[0];if(t.length>1){var r=t.find(function(t){return t.isIntersecting});r&&(e=r)}if(n.callback){var i=e.isIntersecting&&e.intersectionRatio>=n.threshold;if(i===n.oldResult)return;n.oldResult=i,n.callback(i,e)}},this.options.intersection),e.context.$nextTick(function(){n.observer&&n.observer.observe(n.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}])&&i(e.prototype,n),r&&i(e,r),t}();function s(t,e,n){var r=e.value;if(r)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var i=new a(t,r,n);t._vue_visibilityState=i}}function c(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var u={bind:s,update:function(t,e,n){var i=e.value;if(!function t(e,n){if(e===n)return!0;if("object"===r(e)){for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return!1}(i,e.oldValue)){var o=t._vue_visibilityState;i?o?o.createObserver(i,n):s(t,{value:i},n):c(t)}},unbind:c};var l={version:"0.4.6",install:function(t){t.directive("observe-visibility",u)}},f=null;"undefined"!=typeof window?f=window.Vue:void 0!==t&&(f=t.Vue),f&&f.use(l)}).call(e,n("DuR2"))},GEhP:function(t,e,n){var r=n("VU/8")(n("nxwE"),n("jPxn"),!1,function(t){this.$style=n("7+nS")},null,null);t.exports=r.exports},GI7G:function(t,e,n){var r=n("xA5w"),i=n("orNa"),o=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=o(n,a),c=Math.abs(i(n,a));return n.setMonth(n.getMonth()-s*c),s*(c-(o(n,a)===-s))}},GOFJ:function(t,e,n){var r=n("OdGI"),i=n("iYj9"),o=n("Z8WZ");t.exports=function(t){return i(t)?o(t):r(t)}},GPcm:function(t,e,n){"use strict";var r=n("A6BG").charAt,i=n("I1z2"),o=n("RxPu"),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},"H+Y6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{chaptersCount:Number,chaptersPerScroll:{type:Number,default:50}},computed:{slicesCount:function(){return Math.ceil(this.chaptersCount/this.chaptersPerScroll)}},methods:{rangeStart:function(t){return t>this.slicesCount?Math.min(t*this.chaptersPerScroll,this.chaptersCount):Math.max((t-1)*this.chaptersPerScroll,1)},navigate:function(t){this.$emit("navigate",this.rangeStart(t))}}}},"H1+l":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"modal__body"},[n("p",[t._v("Данный материал предназначен только для лиц, достигших 18 лет.")]),t._v(" "),n("p",[t._v("Подтверждая, что вам есть 18 лет, вы берете на себя всю ответственность за просмотр содержащегося материала.")]),t._v(" "),n("div",{staticClass:"form__field"},[n("div",{staticClass:"form__label text-muted"},[t._v("\n        Пожалуйста, укажите дату вашего рождения\n      ")]),t._v(" "),n("vue-the-mask",{staticClass:"form__input",attrs:{mask:"##.##.####",type:"text",placeholder:"ДД.ММ.ГГГГ",masked:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"form__footer"},[n("div",[n("button",{staticClass:"button button_primary",class:{button_loading:t.loading},attrs:{disabled:t.loading},on:{click:t.onSubmit}},[t._v("\n          Подтвердить\n        ")]),t._v(" "),n("button",{staticClass:"button",on:{click:t.back}},[t._v("\n          Отменить\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal__header"},[e("div",{staticClass:"modal__title"},[this._v("\n      Подтвердите возраст\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form__field"},[e("small",{staticClass:"text-muted"},[this._v("Нажимая кнопку «Подтвердить», вы соглашаетесь на обработку указанных данных в соответствии с "),e("a",{attrs:{href:"/news/soglasie-na-obrabotku-personalnyx-dannyx",target:"_blank",rel:"nofollow noreferrer noopener"}},[this._v("Политикой")])])])}]}},H1Su:function(t,e,n){var r=n("VU/8")(n("rDzq"),n("4ovO"),!1,null,null,null);t.exports=r.exports},HAGj:function(t,e,n){var r=n("i4ON"),i=n("bIjD"),o=n("ZGh9"),a=n("yCNF"),s=n("Ubhr");t.exports=function(t,e,n,c){if(!a(t))return t;for(var u=-1,l=(e=i(e,t)).length,f=l-1,d=t;null!=d&&++u<l;){var p=s(e[u]),h=n;if(u!=f){var v=d[p];void 0===(h=c?c(v,p,d):void 0)&&(h=a(v)?v:o(e[u+1])?[]:{})}r(d,p,h),d=d[p]}return t}},HAas:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},HLWT:function(t,e,n){var r=n("jAiL"),i=n("43zn"),o=n("1rEs"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},HN2V:function(t,e,n){var r=n("HbnZ"),i=n("0DSl")(function(t,e,n){r(t,e,n)});t.exports=i},HT7L:function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},HVdB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},HbnZ:function(t,e,n){var r=n("bJWQ"),i=n("O1jc"),o=n("rpnb"),a=n("jMi8"),s=n("yCNF"),c=n("t8rQ"),u=n("MMop");t.exports=function t(e,n,l,f,d){e!==n&&o(n,function(o,c){if(d||(d=new r),s(o))a(e,n,c,l,t,f,d);else{var p=f?f(u(e,c),o,c+"",e,n,d):void 0;void 0===p&&(p=o),i(e,c,p)}},c)}},He3V:function(t,e,n){var r=n("q0qZ"),i=n("NGss"),o=n("C1ru"),a=n("9mDF"),s=n("whWw"),c=n("l/2K"),u=n("K6eN"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},Hn1P:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"empty"},[n("app-loader",{attrs:{size:"small"}})],1):[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n        Покупка томика\n      ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),"volumes"===t.step?n("div",{staticClass:"modal__body"},[!t.showAllVolumes&&t.size.purchased>0?n("div",{staticClass:"form__field small text-muted"},[n("span",[t._v("\n          Купленных томов: "+t._s(t.size.purchased)+"\n        ")]),t._v(" "),n("span",{staticClass:"text-hover ml-10",on:{click:function(e){t.showAllVolumes=!0}}},[t._v("показать "),n("i",{staticClass:"fa fa-angle-down",staticStyle:{"font-size":"12px"}})])]):t._e(),t._v(" "),n("div",{staticClass:"form__field control-group"},t._l(t.volumes,function(e,r){return n("app-checkbox",{key:r,attrs:{value:r,disabled:t.isPurchased(r)},model:{value:t.model.selectedVolumes,callback:function(e){t.$set(t.model,"selectedVolumes",e)},expression:"model.selectedVolumes"}},[n("span",[t._v("Том "+t._s(r))]),t._v(" "),n("span",{staticClass:"small text-muted ml-10"},[t._v("\n            глав в этом томе: "+t._s(e)+"\n          ")]),t._v(" "),t.isPurchased(r)?n("span",{staticClass:"label label_info ml-10"},[t._v("уже куплен")]):t._e()])}),1),t._v(" "),0===t.size.volumes?n("div",{staticClass:"empty form__field"},[t._v("\n        Пока нет доступных томов к покупке\n      ")]):t.size.volumes>0&&t.size.purchased===t.size.volumes?n("div",{staticClass:"empty form__field"},[t._v("\n        Вы уже приобрели доступные на данный момент тома\n      ")]):t._e(),t._v(" "),t.size.volumes>0&&t.size.notPurchased>0?n("div",{staticClass:"alert alert_default alert_sm"},[n("strong",[t._v("К оплате:")]),t._v(" "+t._s(t.price)+" руб. (с учётом комиссии "+t._s(100*t.comissions[t.model.payment_method])+"%)\n      ")]):t._e(),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_primary button_block",attrs:{disabled:0===t.price||t.initPaymentLoading},on:{click:function(e){t.step="confirm"}}},[t._v("\n          Выбор способа оплаты "),n("i",{staticClass:"fa fa-arrow-right fa-sm ml-5",staticStyle:{"font-size":"12px"}})])])]):t._e(),t._v(" "),"confirm"===t.step?n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__label"},[t._v("\n        Способ оплаты\n      ")]),t._v(" "),n("div",{staticClass:"form__field control-group"},t._l(t.paymentMethods,function(e,r){return n("app-radio",{key:r,attrs:{name:"payment_method",value:r},model:{value:t.model.payment_method,callback:function(e){t.$set(t.model,"payment_method",e)},expression:"model.payment_method"}},[t._v("\n          "+t._s(e)+"\n        ")])}),1),t._v(" "),n("div",{staticClass:"alert alert_default alert_sm flex justify_between"},[n("div",[n("strong",[t._v("К оплате:")]),t._v(" "+t._s(t.price)+" руб. (с учётом комиссии "+t._s(100*t.comissions[t.model.payment_method])+"%)\n        ")]),t._v(" "),n("span",{staticClass:"text-muted text-hover",on:{click:function(e){t.step="volumes"}}},[t._v("назад")])]),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.initPaymentLoading},attrs:{disabled:0===t.price||t.initPaymentLoading},on:{click:t.initPayment}},[t._v("\n          Перейти к оплате\n        ")])])]):t._e()]],2)},staticRenderFns:[]}},HxGM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("O4Lo"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("vrSs"),l=n("tuWI"),f=n.n(l),d=n("6Vnj"),p=n.n(d),h=n("Jaym"),v=n("u5FJ"),m=n("Mqyi");n("Us2S");function g(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){g(o,r,i,a,s,"next",t)}function s(t){g(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default={components:{AppLoader:f.a,AppCheckbox:p.a},popupOptions:{size:"sm"},mounted:function(){this.$refs.query.focus()},data:function(){return{query:"",loading:!1,storeLoading:!1,items:[],mediaTypes:u.m,categories:{1:"По жанрам",2:"По рисовке",3:"По сюжету"},selected:null,selectedCategories:[]}},watch:{query:function(){this.loading=!0,this.search()}},methods:{search:a()(b(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=!0,t.next=t.t0===u.i.isManga?4:t.t0===u.i.isRanobe?6:t.t0===u.i.isHentai?8:t.t0===u.i.isAnime?10:12;break;case 4:return e="manga",t.abrupt("break",12);case 6:return e="ranobe",t.abrupt("break",12);case 8:return e="hentai",t.abrupt("break",12);case 10:return e="anime",t.abrupt("break",12);case 12:return t.next=14,c.a.get("/search",{params:{q:this.query,type:u.i.isAnime?"anime":"manga",source:e},timeout:1e4});case 14:n=t.sent,this.items=n.data,t.next=21;break;case 18:t.prev=18,t.t1=t.catch(0),console.error(t.t1);case 21:this.loading=!1;case 22:case"end":return t.stop()}},t,this,[[0,18]])})),400),next:function(t){this.selected=t},back:function(){this.selected=null,this.selectedCategories=[]},isNotIncluded:function(t){return 2===this.selectedCategories.length&&!this.selectedCategories.some(function(e){return e===t})},store:function(){var t=b(i.a.mark(function t(){var e,n,r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.storeLoading){t.next=2;break}return t.abrupt("return");case 2:return this.storeLoading=!0,this.$dialog.disable(),e=u.i.isAnime?h.r.get("anime.id"):h.r.get("manga.id"),t.prev=5,t.next=8,c.a.post("/similar",{source_id:e,similar_id:this.selected.id,similar_by:this.selectedCategories,type:u.i.isAnime?2:1});case 8:n=t.sent,r=n.data,this.$dialog.close(!0),o=Object(v.l)('[data-slider="similar"'),(a=Object(v.l)(".media-slider__wrap",o)).insertBefore((i=r.item,Object(m.a)("div",{className:"media-slider__item media-slider__item_rate"},Object(m.a)("a",{href:"".concat(i.title.href),className:"manga-list-item manga-list-item_inline",title:i.title.rus_name?i.title.rus_name:i.title.name},Object(m.a)("div",{className:"manga-list-item__cover",style:"background-image: url(".concat(i.title.covers.thumbnail,");")}),Object(m.a)("div",{className:"manga-list-item__body"},Object(m.a)("div",{className:"manga-list-item__head"},i.similar),Object(m.a)("div",{className:"manga-list-item__name"},i.title.rus_name?i.title.rus_name:i.title.name),Object(m.a)("div",{className:"manga-list-item__meta"},Object(m.a)("span",null,u.m[i.title.type_id]),Object(m.a)("span",null,u.l[i.title.title_status_id]))),Object(m.a)("div",{className:"manga-list-item__right media-similar-rating","data-id":i.id},Object(m.a)("div",{className:"media-similar-rating__action media-similar-rating__action_up","data-vote-type":"1",dangerouslySetInnerHTML:'<svg class="media-similar-rating__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\n  <path fill="currentColor" d="M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"></path>\n</svg>'}),Object(m.a)("div",{className:"media-similar-rating__value"},"0"),Object(m.a)("div",{className:"media-similar-rating__action media-similar-rating__action_down","data-vote-type":"0",dangerouslySetInnerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="media-similar-rating__icon">\n  <path fill="currentColor" d="M368 224H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h352c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"></path>\n</svg>'}))))),a.firstChild),this.$AppEmitter.emit("similar.changed"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),this.$toast.httpError(t.t0,"Ошибка при добавлении");case 20:this.storeLoading=!1,this.$dialog.enable();case 22:case"end":return t.stop()}var i},t,this,[[5,17]])}));return function(){return t.apply(this,arguments)}}()}}},Hxdr:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},HyF7:function(t,e,n){var r=n("VU/8")(n("6xqA"),n("EC2Z"),!1,null,null,null);t.exports=r.exports},"I+QF":function(t,e){},I1z2:function(t,e,n){var r,i,o,a=n("QYNq"),s=n("hcE8"),c=n("HAas"),u=n("asqq"),l=n("l/2K"),f=n("siPu"),d=n("Eb96"),p=s.WeakMap;if(a){var h=new p,v=h.get,m=h.has,g=h.set;r=function(t,e){return g.call(h,t,e),e},i=function(t){return v.call(h,t)||{}},o=function(t){return m.call(h,t)}}else{var b=f("state");d[b]=!0,r=function(t,e){return u(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},ICSD:function(t,e,n){var r=n("ITwD"),i=n("mTAn");t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},IGcM:function(t,e,n){var r=n("bIjD"),i=n("1Yb9"),o=n("NGEn"),a=n("ZGh9"),s=n("Rh28"),c=n("Ubhr");t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var d=c(e[u]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(o(t)||i(t))}},IQ6b:function(t,e,n){var r=n("VU/8")(n("fiLL"),n("zuJA"),!1,function(t){n("buoE")},null,null);t.exports=r.exports},ITwD:function(t,e,n){var r=n("gGqR"),i=n("eFps"),o=n("yCNF"),a=n("Ai/T"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},IjNM:function(t,e,n){var r=n("VU/8")(n("AezI"),n("VYv/"),!1,null,null,null);t.exports=r.exports},"Ilb/":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},IttV:function(t,e,n){var r=n("G8ar");t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},"J+MW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("u5FJ"),i=n("Jaym"),o=n("vrSs"),a=i.u.get("chat",{}),s=a&&a.settings;(s&&s.allPage&&s.inWindow&&!o.k||Object(r.l)("#chat"))&&new Promise(function(t){n.e(17).then(function(e){t(n("BXEb"))}.bind(null,n)).catch(n.oe)})},JBvZ:function(t,e,n){var r=n("imBK");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},JDN0:function(t,e,n){var r=n("aCM0"),i=n("NGEn"),o=n("UnEC"),a="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}},JURy:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},Jaym:function(t,e,n){"use strict";var r=n("ooSW");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;requestAnimationFrame(function(){return setTimeout(t,e)})}var o=n("mw3O"),a=n.n(o);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.search,e=t.slice(t.indexOf("?")+1);return a.a.parse(e,{arrayFormat:"bracket"})}var c={};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_token";if(c[t])return c[t];var e=document.querySelector('meta[name="'.concat(t,'"]'));return e&&(c[t]=e.getAttribute("content")),c[t]}function l(t){for(var e in t)return!1;return!0}var f=n("NGEn"),d=n.n(f),p=n("HN2V"),h=n.n(p),v=n("9UkZ"),m=n.n(v),g=n("yCNF"),b=n.n(g);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={supported:function(){try{return localStorage.setItem("_test","_test"),localStorage.removeItem("_test"),!0}catch(t){return console.error("local storage not supported"),!1}}(),save:function(t,e){requestAnimationFrame(function(){if(b()(e))try{localStorage[t]=JSON.stringify(e)}catch(t){console.error(t)}else localStorage[t]=e})},get:function(t,e){if(localStorage[t])try{var n=JSON.parse(localStorage[t]);return _(n)!==_(e)?e:m()(n)?h()(e,n):n||e}catch(e){console.error(e),localStorage.removeItem(t)}return e},has:function(t){if("string"==typeof t&&this.supported)return t in localStorage},update:function(t,e){var n=d()(e),r=n?[]:{},i=this.get(t,r);m()(e)&&(e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},i,{},e)),n&&(e=i.concat(e)),this.save(t,e)}};function x(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e(t[r],r,t));return n}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var k=function(t){return"string"==typeof t},j=function(t){return"number"==typeof t},C=function(t){return"boolean"==typeof t},E=function(t){return"function"==typeof t},S=function(t){return void 0===t},P=function(t){return null===t},A=function(t){return null!==t&&"object"===O(t)},T=Array.isArray,N=n("u5FJ");function L(t,e){if(t&&e)if(T(t)||Object(N.k)(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n,t);else for(var i in t)t.hasOwnProperty(i)&&e(t[i],i,t)}function M(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var I=function t(e,n,r,i,o,a){var s=n(o),c=n(a);return s===c?r&&r.length>i?t(e,r[i],r,i+1,o,a):0:s<c?-e:null==s?1:null==c?-1:e},D=function(t){return t},R=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(!Array.isArray(e))return e;var r=Array.isArray(n)?I.bind(void 0,t,n.shift(),n,0):I.bind(void 0,t,n,void 0,0);return e.sort(r)};function q(t,e,n){return R("asc"===e?1:-1,M(t),n)}function B(t,e){if(!Array.isArray(t))throw new Error("First argument must be array");for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o[e];n[a]||(n[a]=[]),n[a].push(o)}return n}function F(t,e){for(var n={},r=t.length;r--;){var i=t[r];n[i[e]]=i}return n}function z(t,e,n,r){var i=Math.abs(t);return(i%=100)>=5&&i<=20?r:1===(i%=10)?e:i>=2&&i<=4?n:r}function U(t,e){var n={};return L(e,function(e){null!=t[e]&&(n[e]=t[e])}),n}function H(t,e,n){if(t&&e&&n){for(var r={},i=0,o=t.length;i<o;i++){var a=t[i];r[a[e]]=a[n]}return r}}function $(t){return new Promise(function(e){setTimeout(e,t)})}var V=function(t,e,n,r){if(!Array.isArray(t))throw new TypeError("First argument must be array");var i=t.length;if(n||(n=t),0===i)return r?-1:null;if("function"!=typeof e)throw new TypeError("".concat(e," must be a function"));for(var o=0;o<i;o++)if(e.call(n,t[o],o,t))return r?o:t[o];return r?-1:null},W=function(t,e,n){return V(t,e,n,!0)},G=n("Q7hp"),Y=n.n(G),K=n("umy1"),Z=n.n(K),J={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=window.__DATA__||{};return t?Z()(n,t)?Y()(n,t):e:n},set:function(t,e){var n=window.__DATA__||{};n[t]=e,window.__DATA__=n}};n.d(e,"b",function(){return X}),n.d(e,"a",function(){return r.a}),n.d(e,"c",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"u",function(){return w}),n.d(e,!1,function(){return x}),n.d(e,"f",function(){return L}),n.d(e,"q",function(){return q}),n.d(e,"i",function(){return B}),n.d(e,!1,function(){return F}),n.d(e,"t",function(){return z}),n.d(e,!1,function(){return U}),n.d(e,"s",function(){return H}),n.d(e,!1,function(){return $}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return W}),n.d(e,"r",function(){return J}),n.d(e,"j",function(){return T}),n.d(e,"k",function(){return C}),n.d(e,!1,function(){return P}),n.d(e,"m",function(){return j}),n.d(e,"n",function(){return A}),n.d(e,"o",function(){return k}),n.d(e,"p",function(){return S}),n.d(e,!1,function(){return E});var X=new r.a},JidO:function(t,e){},"Jki+":function(t,e,n){var r=n("VU/8")(n("sChT"),n("CEDZ"),!1,function(t){n("xosu")},null,null);t.exports=r.exports},JnrT:function(t,e,n){var r,i,o,a;a=function(t,e){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e,n=null,r=null,a=null,s=function(){t.clientWidth!==r&&f()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",f,!1),t.removeEventListener("keyup",f,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",f,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",f,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",f,!1),t.addEventListener("autosize:update",f,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:c,update:f}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),f()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function f(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var i=o("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}}function s(t){var e=i.get(t);e&&e.destroy()}function c(t){var e=i.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return a(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default},i=[t,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)},JyYQ:function(t,e,n){var r=n("d+aQ"),i=n("eKBv"),o=n("wSKX"),a=n("NGEn"),s=n("iL3P");t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},K6eN:function(t,e,n){var r=n("q0qZ"),i=n("r54x"),o=n("P1fK");t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},KF7L:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],e=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=["вс","пн","вт","ср","чт","пт","сб"],o=["вск","пнд","втр","срд","чтв","птн","суб"],a=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],s=["ночи","утра","дня","вечера"],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return i[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){var e=t.getHours();return e>=17?s[3]:e>=12?s[2]:e>=4?s[1]:s[0]},Do:function(t,e){return e.D(t)+"-е"},Wo:function(t,e){return e.W(t)+"-я"}};return c.a=c.A,c.aa=c.A,["M","DDD","d","Q"].forEach(function(t){c[t+"o"]=function(e,n){return n[t](e)+"-й"}}),["D","Do","DD"].forEach(function(t){c[t+" MMMM"]=function(e,r){return(c[t]||r[t])(e,r)+" "+n[e.getMonth()]}}),{formatters:c,formattingTokensRegExp:r(c)}}},KGqH:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){return t.match(f)||[]}},KJcH:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{staticClass:"media-chapters paper section"},[n("div",{staticClass:"media-section media-chapters-actions",staticStyle:{"border-bottom":"1px solid"}},[t._v("\n    Расписание\n    "),n("div",{staticClass:"button button_sm button_light media-chapters-sort",staticStyle:{"margin-left":"auto"},attrs:{"data-sort":t.sort},on:{click:t.changeSort}},[n("svg",{staticClass:"mr-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 113.144 90.311"}},[n("path",{staticClass:"media-chapters-sort__arr-left",attrs:{d:"M54.79 24.23L32.214 1.654l-.003-.003a5.686 5.686 0 00-.41-.371c-.066-.054-.135-.1-.202-.15-.08-.06-.159-.123-.242-.179-.08-.053-.164-.1-.246-.15-.076-.044-.15-.092-.228-.134-.084-.045-.17-.083-.256-.123-.081-.039-.161-.08-.244-.114-.084-.034-.169-.062-.254-.092-.089-.032-.177-.066-.268-.094-.084-.026-.17-.044-.256-.066-.093-.023-.185-.05-.28-.068-.098-.02-.198-.032-.298-.046-.082-.012-.163-.027-.247-.036a5.68 5.68 0 00-1.114 0c-.083.009-.164.024-.247.036-.1.014-.2.026-.299.046-.095.019-.186.045-.28.068-.085.022-.17.04-.255.066-.091.028-.18.062-.268.094-.085.03-.17.058-.254.092-.083.035-.163.075-.244.114-.086.04-.172.078-.256.123-.078.042-.152.09-.228.135-.082.049-.165.096-.246.15-.083.055-.162.117-.242.177-.067.05-.136.097-.202.15a5.63 5.63 0 00-.41.372l-.003.003L1.653 24.23a5.645 5.645 0 007.983 7.983L22.578 19.27v65.395a5.644 5.644 0 1011.288 0V19.271L46.81 32.213a5.645 5.645 0 007.982-7.982z"}}),t._v(" "),n("path",{staticClass:"media-chapters-sort__arr-right",attrs:{d:"M103.508 58.098L90.566 71.04V5.645a5.644 5.644 0 10-11.289 0V71.04L66.335 58.098a5.645 5.645 0 00-7.982 7.983L80.93 88.658l.004.003c.13.13.267.254.41.371.065.054.134.1.202.151.08.06.158.122.242.178.08.054.163.1.246.15.076.045.15.092.227.134.084.045.17.083.257.123.08.039.16.08.244.114.083.034.168.062.253.092.09.032.177.066.268.094.085.026.17.044.256.066.093.023.185.05.28.068.1.02.2.031.299.046.082.011.163.027.247.035.37.037.743.037 1.114 0 .083-.008.164-.024.247-.035.1-.015.2-.026.299-.046.094-.019.186-.045.279-.069.086-.02.172-.04.256-.065.091-.028.18-.062.268-.094.085-.03.17-.058.253-.093.084-.034.163-.075.244-.113.086-.04.173-.078.257-.124.078-.041.151-.089.227-.134.082-.049.166-.096.246-.15.084-.055.162-.117.242-.177.067-.05.136-.097.202-.151.142-.116.278-.239.408-.368l.006-.006L111.49 66.08a5.645 5.645 0 00-7.982-7.982z"}})]),t._v(" "),n("span",[t._v("Сортировать")])])]),t._v(" "),[n("div",{ref:"itemList",staticClass:"media-section media-chapters-list"},[n("div",{staticStyle:{"border-bottom":"1px solid",display:"flex","justify-content":"space-between",padding:"10px 0"}},[n("div",{staticStyle:{"flex-grow":"1"}},[t._v("\n          Номер\n        ")]),t._v(" "),t.showName?n("div",{staticStyle:{"flex-grow":"3"}},[t._v("\n          Название\n        ")]):t._e(),t._v(" "),t.showName?n("div",{staticStyle:{"flex-grow":"1"}},[t._v("\n          Дата выхода\n        ")]):n("div",{staticStyle:{"flex-grow":"1","text-align":"center"}},[t._v("\n          Дата выхода\n        ")])]),t._v(" "),n("RecycleScroller",{staticClass:"scroller",staticStyle:{"max-height":"300px","padding-top":"10px"},attrs:{items:t.sortedItems,"item-size":t.itemSize,buffer:100,"key-field":"id"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("ScheduleItem",{attrs:{element:r,type:t.type}})]}}],null,!1,2815872157)})],1)]],2):t._e()},staticRenderFns:[]}},KO5a:function(t,e,n){"use strict";var r,i=n("u5FJ"),o=n("Jaym"),a=n("oV6p"),s=n.n(a);var c=n("En79"),u=n.n(c),l=n("mtWM"),f=n.n(l),d=n("iSNJ"),p=n("Mqyi");function h(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var m=function(t,e){if("manga"===e&&t>0)return t>1?"18+":"16+";if("anime"===e&&t>3){return{1:"G",2:"PG",3:"PG-13",4:"R-17",5:"R+",6:"Rx"}[t]}return!1},g=function(){return Object(p.a)("div",{className:"dots"},Object(p.a)("div",{className:"dot"}),Object(p.a)("div",{className:"dot"}),Object(p.a)("div",{className:"dot"}))},b=function(t){var e,n,r=function(t,e){t.summary.length>220&&(t.summary="".concat(t.summary.slice(0,220)," [...]")),t.rate_avg||(t.rate_avg=0),t.releaseDate||(t.releaseDate="неизвестно"),t.rating=[];for(var n=5;n>0;n--){var r=Math.ceil(parseFloat(t.rate_avg))===n;t.rating.push({current:r})}return t.caution=m(t.caution,e),t}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manga"),i=r.categories,o=r.authors,a=r.tags,s=v(r,["categories","authors","tags"]);return i&&i.length&&(e=Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Жанры"),i.map(function(t){return Object(p.a)("span",null,t.name)}))),a&&a.length&&(n=Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Теги"),a.map(function(t){return Object(p.a)("span",null,t.name)}))),Object(p.a)("div",{className:"manga-item-info__inner"},Object(p.a)("div",{className:"manga-item-info__header"},s.caution&&Object(p.a)("div",{className:"manga-item-info__pg"},s.caution),Object(p.a)("h3",null,s.name),Object(p.a)("h5",null,s.rus_name||s.eng_name)),Object(p.a)("div",{className:"manga-item-info__description",dangerouslySetInnerHTML:s.summary}),Object(p.a)("div",{className:"manga-item-info__rows"},Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Дата релиза:"),Object(p.a)("span",null,s.releaseDate)),Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Автор:"),o&&o.map(function(t){return Object(p.a)("span",null,t.name)})),e,n),Object(p.a)("div",{className:"manga-item-info__rating"},Object(p.a)("div",{class:"manga-item-info__stars rating"},s.rating.map(function(t){return Object(p.a)("div",{className:"rating__star","data-current":t.current},Object(p.a)("svg",{dangerouslySetInnerHTML:'<use xlink:href="#icon-star"></use>'}))})),Object(p.a)("div",{className:"manga-item-info__rating-count"},s.rate_avg)))};function y(t){Object(d.b)(t,{content:function(){return document.createElement("div")},placement:"right-start",animation:"shift-away",target:"[data-media-id]",theme:"item-info",offset:[0,16],delay:[300,300],onTrigger:function(t){t._isLoading||t.setContent(g())},onShown:function(){var t,e=(t=u.a.mark(function t(e){var n,r,o,a,s,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.reference,r=Object(i.f)(n,"data-media-id"),o=Object(i.f)(n,"data-media-slug"),a=Object(i.f)(n,"data-media-type"),!e._isLoading){t.next=6;break}return t.abrupt("return");case 6:return e._isLoading=!0,t.prev=7,t.next=10,f.a.get("/manga-short-info",{params:{id:r,slug:o,type:a}});case 10:s=t.sent,c=s.data,e.setContent(b(c,a)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),console.error(t.t0),e._isLoading=!1;case 19:case"end":return t.stop()}},t,null,[[7,15]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()})}e.b=function(t){_?function(t){Object(i.a)(t,"click","[data-media-id]",function(t){t.preventDefault();var e=Object(i.f)(this,"data-media-id"),n=Object(i.f)(this,"data-media-slug"),o=Object(i.f)(this,"data-media-type")||"manga",a=Object(i.f)(this,"data-site-id")||1;"undefined"===o&&(o="manga"),"undefined"===a&&(a=1),r?(r.type=o,r.siteId=a,r.initFolders()):r=new s.a({data:{type:o,siteId:a}}),r.show(e,n)})}(t):y(t)},e.a=function(t){if(!_){t=Object(o.o)(t)?Object(i.l)(t):t;var e=Object(i.m)("[data-manga-id]",t);Object(o.f)(e,function(t){t._tippy&&(t._tippy.destroy(),i.f.remove(t,"data-loading"))})}};var _=i.g.has(document.body,"page_mobile")},KZyg:function(t,e,n){var r=n("VU/8")(n("S6J/"),n("rr1Y"),!1,null,null,null);t.exports=r.exports},Kbrx:function(t,e,n){var r=n("jAiL")("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},KgVm:function(t,e,n){var r=n("cdq7"),i=n("JyYQ"),o=n("5Zxu"),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(t,i(e,3),c)}},Kip4:function(t,e,n){"use strict";var r=n("En79"),i=n.n(r),o=n("qrdl"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=(n("oG8a"),n("jywo"),n("vrSs"));function l(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.a={props:{dataPresets:{type:Object,default:function(){return{}}},folders:Array,onSelected:{type:Function,default:a.a},onChanged:{type:Function,default:a.a},onCreated:{type:Function,default:a.a}},data:function(){return{foldersList:this.folders,status:this.dataPresets.status,mangaId:this.dataPresets.mangaId,mangaSlug:this.dataPresets.mangaSlug,siteId:this.dataPresets.siteId,loading:!1}},created:function(){this.foldersList||(this.foldersList=f(window.__BOOKMARK_FOLDERS__))},computed:{filteredFolders:function(){var t=this;return this.status?this.foldersList.filter(function(e){return e.id!=t.status}):this.foldersList},showDeletionButton:function(){return null!=this.status}},methods:{changeStatus:function(){var t,e=(t=i.a.mark(function t(e){var n,r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.onSelected(e),n="",o=document.getElementById("site_type").getAttribute("data-id"),this.siteId&&(o=this.siteId),a="/",5===parseInt(o)&&(a="/anime/"),e.id?this.status?(n="/change-status",r={status:e.id,ids:[this.mangaId],site_id:o}):r={manga_id:this.mangaId,media_slug:this.mangaSlug,status:e.id,site_id:o}:(n="/destroy",r={ids:[this.mangaId],site_id:o}),u.i.isAnime&&"manga_id"in r&&(delete r.manga_id,r.media_id=this.mangaId),this.loading=!0,t.prev=11,t.next=14,c.a.post("".concat(a,"bookmark").concat(n),r);case 14:this.$toast.confirm("Изменения сохранены"),this.status=e.id,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),this.$toast.alert("Произошла ошибка при изменении закладок");case 21:this.onChanged(e),this.loading=!1;case 23:case"end":return t.stop()}},t,this,[[11,18]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),folderCreated:function(t){this.foldersList.push(t),this.onCreated(t)}}}},Kl7s:function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},KmWZ:function(t,e,n){var r=n("duB3");t.exports=function(){this.__data__=new r,this.size=0}},Kzd6:function(t,e,n){var r=n("qwTf");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},LQly:function(t,e,n){"use strict";var r=n("u5FJ");e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button_loading";r.g.toggle(t,n,e),"BUTTON"===t.tagName&&(t.disabled=e)}},Ldfy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("RpmR"),i=n.n(r),o=n("rxKx"),a=n.n(o),s=n("vrSs"),c=n("Us2S"),u=n("u5FJ"),l=n("jjTL"),f=n.n(l),d="/images/icons",p="".concat(d,"/chat.svg"),h={forum:p,forum_post:p,comment:p,post_comment:p,manga_comment:p,chapter_comment:p,message:"".concat(d,"/new-message.svg"),repmessage:"".concat(d,"/repmessage.svg"),friend_request:"".concat(d,"/follower.svg"),friend_accept:"".concat(d,"/follower_add.svg"),friend_deny:"".concat(d,"/follower_del.svg"),manga_destroy:"".concat(d,"/trash.svg"),news_scanlate_post:"".concat(d,"/newspaper.svg")};e.default={components:{NotificationTemplate:f.a},props:{notification:Object,mediaNameProp:String},data:function(){return{imgUrl:c.a.coverPlaceholder}},computed:{hasCover:function(){var t=this;return["chapter","manga","subscription"].some(function(e){return e===t.notification.type})}},created:function(){var t,e=this.notification.data;this.hasCover?t=c.a.coverThumb(e.manga):(t=h[this.notification.type])||(/deny/.test(this.notification.type)&&(t="".concat(d,"/sad.svg")),/accept/.test(this.notification.type)&&(t="".concat(d,"/smile.svg"))),this.imgUrl=t},mounted:function(){s.k&&(this._hammerManager=new a.a.Manager(this.$el,{recognizers:[[a.a.Pan,{direction:a.a.DIRECTION_HORIZONTAL}]]}),this._hammerManager.on("panstart",this.panStart),this._hammerManager.on("panend",this.panEnd),this._hammerManager.on("panleft panright",this.panMove))},beforeDestroy:function(){this._hammerManager&&(this._hammerManager.off("panleft panright",this.panMove),this._hammerManager.off("panstart",this.panStart),this._hammerManager.off("panend",this.panEnd))},methods:{markAsRead:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.which||t.keyCode;-1===[1,2].indexOf(r)||1===r&&this._isDragging||(2===r&&(n=!0),this.notification.data.link||(n=!0),requestAnimationFrame(function(){return e.markRead(n)}))},markRead:function(t){this.$emit("remove",this.notification,t)},panStart:function(){this._isDragging=!0,this.$refs.notificationItem.style.transition="none",u.g.add(this.$el,"is-dragable")},panMove:function(t){if(this._isDragging){var e=i()(t.deltaX,0,90);this.$refs.notificationItem.style.transform="translateX(".concat(e,"px)")}},panEnd:function(t){var e=this;!this._isDragging||t.deltaX<0||(this.$refs.notificationItem.style.transition="",this._isDragging=!1,t.deltaX>=80?this.markRead(!0):requestAnimationFrame(function(){e.$refs.notificationItem.style.transform=""}))}}}},LiUp:function(t,e,n){"use strict";n.d(e,"d",function(){return x}),e.a=O,e.c=function(){var t=m()(x.filter);Object(w.f)(t,function(e,n){h()(e)&&Object(w.f)(e,function(e,r){(!e||d()(e)&&l()(e))&&delete t[n][r]}),(!e||d()(e)&&l()(e))&&delete t[n]});var e=_.a.stringify(t,{arrayFormat:"brackets",encode:!1});return{object:t,string:e}},e.b=function(){var t=O();x.filter=c()(t,a()(Object(w.g)(),i()(t)),window.__LIST_INIT__)};var r=n("ktak"),i=n.n(r),o=n("w9Mt"),a=n.n(o),s=n("HN2V"),c=n.n(s),u=n("lHK6"),l=n.n(u),f=n("yCNF"),d=n.n(f),p=n("9UkZ"),h=n.n(p),v=n("kvU2"),m=n.n(v),g=n("I3G/"),b=n.n(g),y=n("mw3O"),_=n.n(y),w=n("Jaym"),x=b.a.observable({filter:{},loading:!1,hasNextPage:window.__HAS_NEXT_PAGE__});function O(){return{sort:"rate",dir:"desc",page:1,year:{min:"",max:""},rating:{min:"",max:""},chapters:{min:"",max:""},episodes:{min:"",max:""},long_no_translation:!1,licensed:!1,buy:!1,name:"",caution:{include:[],exclude:[]},status:[],manga_status:[],types:[],series:[],bookmarks:{include:[],exclude:[]},format:{include:[],exclude:[]},tags:{include:[],exclude:[]},genres:{include:[],exclude:[]},site_id:document.getElementById("site_type").getAttribute("data-id")||1}}},M1c9:function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},M2Mt:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapter",class:{"media-chapter_new":t.isNew,"is-downloading":t.isDownloading,"is-static":t.licensed||2===t.chapter.status},attrs:{"data-id":t.chapter.chapter_id}},[t._m(0),t._v(" "),n("div",{staticClass:"media-chapter__body"},[n("div",{staticClass:"media-chapter__name text-truncate"},[n("a",{staticClass:"link-default",attrs:{href:t.chapterLink()}},[t._v("\n        Том "+t._s(t.chapter.chapter_volume)+" Глава "+t._s(t.chapter.chapter_number)+" "),t.chapter.chapter_name?[t._v("- "+t._s(t.chapter.chapter_name))]:t._e()],2)]),t._v(" "),t.licensed?t._e():n("div",{staticClass:"media-chapter__username text-truncate"},[n("a",{staticClass:"link-default",attrs:{href:"/user/"+t.chapter.chapter_user_id}},[n("i",{staticClass:"fa fa-user-o fa-fw"}),t._v("\n        "+t._s(t.chapter.username)+"\n      ")])]),t._v(" "),t.publisher?n("div",{staticClass:"media-chapter__username text-truncate"},[n("a",{staticClass:"link-default",attrs:{href:"/publisher/"+t.publisher.slug}},[t._v("\n        "+t._s(t.publisher.name)+"\n      ")])]):t._e(),t._v(" "),n("div",{staticClass:"media-chapter__date"},[t._v("\n      "+t._s(t._f("date")(t.chapter.chapter_created_at))+"\n    ")])]),t._v(" "),n("div",{staticClass:"media-chapter__actions"},[t.showEdit?n("a",{staticClass:"media-chapter__icon media-chapter__icon_edit tooltip",attrs:{href:t.chapterLink("edit"),"data-place":"left","aria-label":"Редактировать главу"}},[n("i",{staticClass:"fa fa-pencil fa-fw"})]):t._e(),t._v(" "),t.showDownload?n("ChapterDownload",{attrs:{"chapter-id":t.chapter.chapter_id,disabled:t.chapter.status>=1}}):t._e(),t._v(" "),t.isLocked?n("div",{staticClass:"media-chapter__icon media-chapter__icon_lock tooltip",attrs:{"data-place":"left","aria-label":t.lockTooltip}},[n("i",{staticClass:"fa fa-lock"})]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapter__icon media-chapter__icon_read tooltip",attrs:{"data-place":"right"}},[e("i",{staticClass:"fa"})])}]}},M6Wl:function(t,e,n){var r=n("rpnb"),i=n("ktak");t.exports=function(t,e){return t&&r(t,e,i)}},MIGX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("Q7hp"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("Jaym"),l=n("39/3"),f=n.n(l);function d(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={popupOptions:{size:"xs"},data:function(){return{loading:!1,model:{amount:5,chapter_id:u.r.get("current.id",null),type:"donate",comment:""}}},methods:{onSubmit:function(){var t,e=(t=i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.prev=3,t.next=6,c.a.post("/donate",this.model);case 6:this.$toast.success("Донат успешно отправлен"),this.$dialog.close(),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0),1===a()(t.t0,"response.data.error_code",0)&&this.$dialog.open({component:f.a});case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[3,10]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){d(o,r,i,a,s,"next",t)}function s(t){d(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}}},MMop:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},MOhZ:function(t,e,n){var r=n("VU/8")(n("VtKR"),n("1SgC"),!1,function(t){this.$style=n("a3r/")},null,null);t.exports=r.exports},MTIv:function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),c=null,u=0,l=[],f=n("mJPh");function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function m(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),h(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;n=c||(c=m(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(p(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},MU8w:function(t,e,n){"use strict";t.exports=n("hKoQ").polyfill()},MkIS:function(t,e,n){var r=n("HAas"),i=n("rF9q"),o=n("jAiL")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},MoMe:function(t,e,n){var r=n("FCuZ"),i=n("l9Lx"),o=n("ktak");t.exports=function(t){return r(t,o,i)}},Mqyi:function(t,e,n){"use strict";e.a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s=(o||[]).reduce(i,[]);return function t(e){var n=e.tag,i=e.props,o=e.children;var a=-1!==["svg","circle"].indexOf(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);if(i)for(var s in i){var c=i[s];"on"===s.slice(0,2)?a.addEventListener(s.slice(2).toLowerCase(),c):"className"===s?a.className=c:"dangerouslySetInnerHTML"===s?c&&(a.innerHTML=c):a.setAttribute(s,c)}for(var u=0,l=o.length;u<l;u++){var f=o[u];f instanceof Element?a.appendChild(f):Object(r.n)(f)?a.appendChild(t(f)):a.appendChild(document.createTextNode(f))}return a}({tag:t,props:e,children:s})};var r=n("Jaym");function i(t,e){return Array.isArray(e)?t=e.reduce(i,t):null==e||Object(r.k)(e)||t.push(Object(r.m)(e)?"".concat(e):e),t}},N5RP:function(t,e,n){var r=n("aqbq");t.exports=r("document","documentElement")},NGEn:function(t,e){var n=Array.isArray;t.exports=n},NGss:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},NKE6:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),i=r(e).getTime();return n<i?-1:n>i?1:0}},Ngrm:function(t,e,n){"use strict";var r=n("umy1"),i=n.n(r),o=n("oG8a");function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"confirm",value:function(t){return this.success(t)}},{key:"alert",value:function(t){return this.error(t)}},{key:"info",value:function(t,e){return o.default.info(t,e),this}},{key:"success",value:function(t){return o.default.success(t),this}},{key:"error",value:function(t){return o.default.alert(t),this}},{key:"httpError",value:function(t,e){return console.error(t),i()(t,"response.data.message")||this.alert(e),this}}])&&a(e.prototype,n),r&&a(e,r),t}();e.a=new s},NkRn:function(t,e,n){var r=n("TQ3y").Symbol;t.exports=r},Nkkh:function(t,e,n){var r=n("tv3T"),i=n("l9Lx");t.exports=function(t,e){return r(t,i(t),e)}},NqZt:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},O1jc:function(t,e,n){var r=n("nw3t"),i=n("22B7");t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},O4Lo:function(t,e,n){var r=n("yCNF"),i=n("RVHk"),o=n("kxzG"),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,f,d,p,h,v=0,m=!1,g=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var n=u,r=l;return u=l=void 0,v=e,d=t.apply(r,n)}function _(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-v>=f}function w(){var t=i();if(_(t))return x(t);p=setTimeout(w,function(t){var n=e-(t-h);return g?c(n,f-(t-v)):n}(t))}function x(t){return p=void 0,b&&u?y(t):(u=l=void 0,d)}function O(){var t=i(),n=_(t);if(u=arguments,l=this,h=t,n){if(void 0===p)return function(t){return v=t,p=setTimeout(w,e),m?y(t):d}(h);if(g)return clearTimeout(p),p=setTimeout(w,e),y(h)}return void 0===p&&(p=setTimeout(w,e)),d}return e=o(e)||0,r(n)&&(m=!!n.leading,f=(g="maxWait"in n)?s(o(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),O.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=h=l=p=void 0},O.flush=function(){return void 0===p?d:x(i())},O}},OAgh:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={fileAdded:"fileAdded",start:"start",complete:"complete",error:"error",imageRemoved:"imageRemoved"}},OAwv:function(t,e,n){"use strict";var r=n("rprB"),i=n("BEQ0"),o=n("i4Cv");function a(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function s(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r}e.extract=s,e.parse=c,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[a(e,t),"[",r,"]"].join(""):[a(e,t),"[",a(r,t),"]=",a(n,t)].join("")};case"bracket":return function(e,n){return null===n?a(e,t):[a(e,t),"[]=",a(n,t)].join("")};default:return function(e,n){return null===n?a(e,t):[a(e,t),"=",a(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var i=t[r];if(void 0===i)return"";if(null===i)return a(r,e);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(t){void 0!==t&&o.push(n(r,t,o.length))}),o.join("&")}return a(r,e)+"="+a(i,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(s(t),e)}}},OJry:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r),o=n("aPs8"),a=n.n(o),s=n("QYYS"),c=n.n(s),u=n("alMs");i.a.component("app-dialog-close",c.a),i.a.mixin({created:function(){this.$options.popupOptions&&this.$parent&&this.$parent.setOptions(this.$options.popupOptions)}}),new a.a,i.a.prototype.$dialog=u.a},OLx3:function(t,e,n){"use strict";var r=n("I3G/"),i=n.n(r),o=n("Jaym");e.a=i.a.observable({info:{type:null,postId:null,api:"/api/comments"},auth:!1,teamPermission:!1,chapter:{page:1,totalPages:1},activeItem:null,editing:!1,sticky:null,settings:o.u.get("commentsSettings",{level:5,order:{post:"latest",manga:"latest",chapter:"latest",anime:"latest",episodes:"latest"},disable:{media:!1,reader:!1},hideRules:!1}),comments:[],replies:{}})},OdGI:function(t,e,n){var r=n("eG8/")("length");t.exports=r},Oo6K:function(t,e,n){var r=n("nbsL");t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,c=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=c?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}},OpCx:function(t,e){var n;(function(){if(void 0===window.DOMTokenList)return!1;var t=document.createElement("div");return t.classList.add("t"),!0!==t.classList.toggle("t",!0)||!t.classList.contains("t")||!(!1===t.classList.toggle("o",!1)&&!t.classList.contains("o"))})()&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){if(!0===e)this.add(t);else{if(!1!==e)return n.call(this,t);this.remove(t)}return this.contains(t)})},P1fK:function(t,e,n){var r=n("hcE8"),i=n("HAas"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},POb3:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Map");t.exports=r},PTgL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{items:Object,settings:Object,name:String},methods:{onChange:function(t){this.$emit("change",t),this.settings[this.name]=t,this.$AppEmitter.emit("settings.".concat(this.name),t)}}}},PUoV:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("lHK6"),a=n.n(o),s=n("mtWM"),c=n.n(s);function u(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={popupOptions:{size:"xs"},data:function(){return{loading:!1,showMobileMessage:!1,model:{amount:30},errors:{}}},methods:{onSubmit:function(){var t,e=(t=i.a.mark(function t(){var e,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validate(),a()(this.errors)&&!this.loading){t.next=3;break}return t.abrupt("return");case 3:return this.loading=!0,this.errors={},e=u({},this.model),t.prev=6,t.next=9,c.a.post("/payment/balance",e);case 9:n=t.sent,(r=n.data).redirect&&location.assign(r.redirect),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),this.$toast.httpError(t.t0,"Сервер временно не работает");case 17:this.loading=!1;case 18:case"end":return t.stop()}},t,this,[[6,14]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){f(o,r,i,a,s,"next",t)}function s(t){f(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),validate:function(){var t={};this.model.amount<30&&(t.amount="Минимальная сумма для пополнения должна быть не меньше 30 руб."),this.model.amount>5e3&&(t.amount="Максимальная сумма для пополнения не должна быть больше 5000 руб."),this.errors=t}}}},PYrI:function(t,e,n){var r=n("l/2K"),i=n("aske"),o=n("He3V"),a=n("1rEs");t.exports=function(t,e){for(var n=i(e),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},PeQm:function(t,e,n){var r=n("VU/8")(n("pFaP"),n("iafL"),!1,function(t){n("/G0B")},"data-v-34a548bf",null);t.exports=r.exports},PedI:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},PfJA:function(t,e){t.exports=function(t){return t.split("")}},PqFN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("umy1"),i=n.n(r),o=n("hygk"),a=n.n(o),s=n("ktak"),c=n.n(s),u=n("HN2V"),l=n.n(u),f=n("I3G/"),d=n.n(f),p=n("u5FJ"),h=n("Jaym"),v=n("QX9i"),m=n("LiUp"),g=n("h9fk"),b=n.n(g),y=n("SHlw"),_=n.n(y),w=n("lH+l"),x=n.n(w),O=n("vrSs");function k(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},window.__DATA);e.default=d.a.extend({components:{MangaCaution:_.a,AnimeCaution:x.a,CheckboxWithExclude:b.a},popupOptions:{name:"popup_side"},filters:{capitalize:function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}},data:function(){return{list:C.filters,auth:C.auth,isHentai:O.i.isHentai,genreFilter:"",show:{genres:!1,tags:!1,series:!1},filter:{genres:"",tags:"",series:""},loadingSeries:!1}},computed:{filteredGenres:function(){return this.filterList(this.list.genres,this.filter.genres)},filteredTags:function(){return this.filterList(this.list.tags,this.filter.tags)},filteredSeries:function(){return this.filterList(this.list.series,this.filter.series)},selectedGenres:function(){var t=this.state.genres.include,e=this.state.genres.exclude;return this.mapSelectedToList("genres",t.concat(e))},selectedTags:function(){var t=this.state.tags.include,e=this.state.tags.exclude;return this.mapSelectedToList("tags",t.concat(e))},selectedSeries:function(){return this.mapSelectedToList("series",this.state.series)},isMobile:function(){return O.k},loading:function(){return m.d.loading},state:function(){return m.d.filter}},mounted:function(){Object(p.c)(window,"popstate",function(t){console.log(t),m.d.filter=l()(m.a(),window.history.state),Object(v.b)({preventPushState:!0})}),this.isMobile||(Object(p.c)(window,"resize",this.updatePosition,{passive:!0}),this.updatePosition())},methods:{filterList:function(t,e){if(!e)return t;var n=new RegExp("".concat(e),"i");return t.filter(function(t){return n.test(t.name)})},clearInputFilter:function(t){this.filter[t]=""},mapSelectedToList:function(t,e){var n=Object(h.s)(this.list[t],"id","name"),r=e.map(function(t){return n[t]}).join(", ");return r||"Любые"},selectAll:function(t){var e=c()(this.list.bookmarks);a()(e,this.state[t].exclude)?this.state[t].exclude=[]:a()(e,this.state[t].include)?(this.state[t].exclude=k(e),this.state[t].include=[]):this.state[t].include=k(e)},resetFilter:function(t){var e=m.a(),n=!1;t?(this.state[t]=e[t],n=!0):m.d.filter=e,this.applyFilter(n)},applyFilter:function(t){var e=this;window.scrollTo(0,0),Object(h.f)(this.state,function(t){i()(t,"min")&&i()(t,"max")&&e.validateMinAndMaxValues(t)}),this.isMobile&&!t&&this.$dialog.close(),this.state.page=1,Object(v.b)()},updatePosition:function(){},toggleVisible:function(t){this.show[t]=!this.show[t]},licenseChange:function(){this.state.licensed||(this.state.buy=!1)},validateMinAndMaxValues:function(t){if(t.min&&t.max&&t.min>t.max){var e=[t.max,t.min];t.min=e[0],t.max=e[1]}}}})},PqYH:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},Ptqd:function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var i;return r=r||{},i="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}},"Q/p3":function(t,e,n){var r=n("VU/8")(n("opLK"),n("0bEF"),!1,function(t){n("mV0O")},null,null);t.exports=r.exports},Q2wK:function(t,e,n){var r=n("8AZL"),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),c=Array(s);++a<s;)c[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(c),r(t,this,u)}}},"Q3+A":function(t,e,n){"use strict";var r=n("aqbq"),i=n("1rEs"),o=n("jAiL"),a=n("q0qZ"),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},Q7hp:function(t,e,n){var r=n("uCi2");t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},QAJx:function(t,e){},QX9i:function(t,e,n){"use strict";var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o),s=n("arOy"),c=n.n(s),u=n("Mqyi"),l=n("oTFi"),f=n("Ngrm"),d=n("vrSs"),p=n("Jaym"),h=n("u5FJ"),v=n("KO5a"),m=n("Us2S");var g,b,y=n("LiUp");function _(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}n.d(e,"a",function(){return w}),n.d(e,"d",function(){return j}),n.d(e,"b",function(){return S}),n.d(e,"e",function(){return k}),n.d(e,"c",function(){return g}),n.d(e,"f",function(){return x});var w={filterContainer:Object(h.l)("#manga-list-filter"),listContainer:Object(h.l)("#manga-list"),list:Object(h.l)(".media-grid-wrap"),listWrapper:Object(h.l)(".media-cards-grid"),sortInputs:Object(h.m)('.manga-list-sort input[type="radio"]'),sortButton:Object(h.l)(".manga-search__sort-button"),filter:Object(h.l)(".search-filter")},x=function(){g=Object(h.i)(w.list).bottom},O=function(t){y.d.loading=t,h.g.toggle(w.list,"manga-block-items_loading",t)},k=function(){var t={rating_score:"По рейтингу",rate:"По количеству оценок",name:"По названию",views:"По просмотрам",last_chapter_at:"По дате обновления",created_at:"По дате добавления",chap_count:"По количеству глав"};(5===parseInt(y.d.filter.site_id)&&(t={rating_score:"По рейтингу",rate:"По количеству оценок",name:"По названию",views:"По просмотрам",created_at:"По дате добавления",episodes_count:"По количеству эпизодов"}),Object(p.f)(w.sortInputs,function(t){t.value===y.d.filter[t.name]&&(t.checked=!0)}),w.sortButton)&&(Object(h.f)(w.sortButton,"data-sort",y.d.filter.dir),Object(h.l)("span",w.sortButton).textContent=t[y.d.filter.sort]);d.k&&l.a.close()},j=function(){b=new c.a({elements_selector:".media-card"})},C=function(){for(;w.listWrapper.firstChild;)w.listWrapper.removeChild(w.listWrapper.lastChild)},E=function(t){var e=document.createDocumentFragment();Object(p.f)(t,function(t){e.appendChild(function(t){var e,n="";return d.m[t.type_id]&&(n=d.m[t.type_id]),t.bookmark&&(e=Object(u.a)("span",{className:"media-card__bookmark text-truncate",style:t.bookmark.style,"data-book-status":t.bookmark.status},t.bookmark.name)),t.href||(t.href="/".concat(t.slug)),t.coverImage?t.cover=t.coverImage:(t.coverImage=m.a.cover(t),t.cover=m.a.coverPlaceholder),Object(u.a)("div",{className:"media-card-wrap"},Object(u.a)("a",{className:"media-card",href:"".concat(t.href),style:"background-image: url(".concat(t.cover,");"),"data-src":t.coverImage,"data-media-id":t.id,"data-media-slug":t.slug,"data-media-type":t.modelType,"data-site-id":t.site},Object(u.a)("div",{className:"media-card__caption"},Object(u.a)("h5",{className:"media-card__subtitle"},n),Object(u.a)("h5",{className:"media-card__subtitle"},t.subtitle),Object(u.a)("h3",{className:"media-card__title line-clamp"},t.rus_name||t.name)),e))}(t))}),t.length||e.appendChild(Object(u.a)("div",{className:"empty"},"Ничего не найдено")),w.listWrapper.appendChild(e)},S=function(){var t,e=(t=i.a.mark(function t(){var e,n,r,o,s,c=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},!y.d.loading){t.next=3;break}return t.abrupt("return");case 3:return n=Math.max(y.d.filter.page-1,1),r=y.c(),e.preventPushState||window.history.pushState(r.object,null,"?".concat(r.string)),O(!0),k(),5!==y.d.filter.site_id&&y.d.filter.sort,t.prev=9,t.next=12,a.a.post("/api/list",r.object);case 12:o=t.sent,s=o.data,y.d.hasNextPage=null!=s.items.next_page_url,n>=y.d.filter.page&&(Object(v.a)(w.listContainer),b&&(b.destroy(),b=null),C()),E(s.items.data),y.d.filter.page>n&&b?b.update():j(),x(),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),console.error(t.t0),f.a.httpError(t.t0,"Приозошла ошибка при запросе");case 25:O(!1),e.cb&&e.cb();case 27:case"end":return t.stop()}},t,null,[[9,21]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){_(o,r,i,a,s,"next",t)}function s(t){_(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()},QYNq:function(t,e,n){var r=n("hcE8"),i=n("ypmV"),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},QYYS:function(t,e,n){var r=n("VU/8")(n("r2/N"),n("uH1e"),!1,null,null,null);t.exports=r.exports},Qp3N:function(t,e,n){var r=n("NkRn"),i=n("1Yb9"),o=n("NGEn"),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},Qr4f:function(t,e){function n(t,e){if(void 0!==t.one&&1===e)return t.one;var n=e%10,r=e%100;return 1===n&&11!==r?t.singularNominative.replace("{{count}}",e):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",e):t.pluralGenitive.replace("{{count}}",e)}function r(t){return function(e,r){return r.addSuffix?r.comparison>0?t.future?n(t.future,e):"через "+n(t.regular,e):t.past?n(t.past,e):n(t.regular,e)+" назад":n(t.regular,e)}}t.exports=function(){var t={lessThanXSeconds:r({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:r({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,e){return e.addSuffix?e.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:r({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:r({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:r({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:r({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:r({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXMonths:r({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:r({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:r({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:r({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:r({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:r({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};return{localize:function(e,n,r){return r=r||{},t[e](n,r)}}}},RGrk:function(t,e,n){var r=n("dCZQ"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},RVHk:function(t,e,n){var r=n("TQ3y");t.exports=function(){return r.Date.now()}},RfZv:function(t,e,n){var r=n("SOZo"),i=n("IGcM");t.exports=function(t,e){return null!=t&&i(t,e,r)}},Rh28:function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},RpmR:function(t,e,n){var r=n("mi1p"),i=n("kxzG");t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==e&&(e=(e=i(e))==e?e:0),r(i(t),e,n)}},RxPu:function(t,e,n){"use strict";var r=n("i9tX"),i=n("ot7w"),o=n("wzd1"),a=n("jE8y"),s=n("GB3+"),c=n("asqq"),u=n("+opI"),l=n("jAiL"),f=n("pzR0"),d=n("eZ0g"),p=n("UFcy"),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,p,b,y){i(n,e,l);var _,w,x,O=function(t){if(t===p&&S)return S;if(!v&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",j=!1,C=t.prototype,E=C[m]||C["@@iterator"]||p&&C[p],S=!v&&E||O(p),P="Array"==e&&C.entries||E;if(P&&(_=o(P.call(new t)),h!==Object.prototype&&_.next&&(f||o(_)===h||(a?a(_,h):"function"!=typeof _[m]&&c(_,m,g)),s(_,k,!0,!0),f&&(d[k]=g))),"values"==p&&E&&"values"!==E.name&&(j=!0,S=function(){return E.call(this)}),f&&!y||C[m]===S||c(C,m,S),d[e]=S,p)if(w={values:O("values"),keys:b?S:O("keys"),entries:O("entries")},y)for(x in w)!v&&!j&&x in C||u(C,x,w[x]);else r({target:e,proto:!0,forced:v||j},w);return w}},"S6J/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("k+y2"),i=n.n(r),o=n("oTFi"),a=n("nctS"),s=n("OLx3");e.default={components:{CommentReply:i.a},data:function(){return{showForm:!1}},mounted:function(){var t=this;this.$AppEmitter.on(a.a.added,function(){return t.showForm=!1}),this.$AppEmitter.on("chapter.like",function(){return t.showForm=!1})},methods:{toggleForm:function(){if(!s.a.auth)return o.a.show("#sign-in-modal");this.showForm=!0}}}},S7p9:function(t,e){t.exports=function(t){return function(e){return t(e)}}},SABg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("iSNJ"),i=n("vrSs");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={props:{direction:String,closeOnSelect:{type:Boolean,default:!0},outsideClose:{type:Boolean,default:!0},hideOnClick:{type:Boolean,default:!0},tippyOptions:{type:Object,default:function(){return{}}}},data:function(){return{isInited:!1,isActive:!1}},mounted:function(){this._trigger=this.$el.querySelector("[data-dropdown-trigger]"),this._trigger&&this._trigger.addEventListener("click",this.initDropdown)},beforeDestroy:function(){this.removeInitDropdownListener(),this._tippy&&this._tippy.destroy()},methods:{hide:function(){this._tippy&&this.hideOnClick&&this._tippy.hide()},initDropdown:function(){var t=this;this.isInited=!0,this.$nextTick(function(){t._tippy=Object(r.a)(t._trigger,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({content:function(){return t.$refs.menu}},i.e,{},t.tippyOptions,{onShow:function(){t.isActive=!0},onHide:function(){t.isActive=!1}})),t._tippy.show(),t.removeInitDropdownListener()})},removeInitDropdownListener:function(){this._trigger&&this._trigger.removeEventListener("click",this.initDropdown)}}}},SGXn:function(t,e,n){var r=n("eP4g"),i=n("S7p9"),o=n("Dc0G"),a=o&&o.isSet,s=a?i(a):r;t.exports=s},SHWz:function(t,e,n){var r=n("MoMe"),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,c){var u=n&i,l=r(t),f=l.length;if(f!=r(e).length&&!u)return!1;for(var d=f;d--;){var p=l[d];if(!(u?p in e:o.call(e,p)))return!1}var h=c.get(t);if(h&&c.get(e))return h==e;var v=!0;c.set(t,e),c.set(e,t);for(var m=u;++d<f;){var g=t[p=l[d]],b=e[p];if(a)var y=u?a(b,g,p,e,t,c):a(g,b,p,t,e,c);if(!(void 0===y?g===b||s(g,b,n,a,c):y)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return c.delete(t),c.delete(e),v}},SHlw:function(t,e,n){var r=n("VU/8")(n("4LBx"),n("AsJq"),!1,null,null,null);t.exports=r.exports},SJLv:function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var i=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")}},SOZo:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},SZys:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o),s=n("Jaym"),c=n("tuWI"),u=n.n(c),l=n("vrSs");function f(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={components:{AppLoader:u.a},popupOptions:{name:"popup_side popup_similar"},data:function(){return{items:[],loading:!0}},created:function(){var t=this;this.$AppEmitter.once("dialog.opened",function(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){f(o,r,i,a,s,"next",t)}function s(t){f(o,r,i,a,s,"throw",t)}a(void 0)})}}(i.a.mark(function e(){var n,r,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.i.isAnime?s.r.get("anime.id"):s.r.get("manga.id"),r=l.i.isAnime?2:1,e.prev=2,e.next=5,a.a.get("/similar/".concat(n),{params:{type:r}});case 5:o=e.sent,c=o.data,t.items=c.items,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$toast.httpError(e.t0,"Ошибка, не получилось получить список");case 13:t.loading=!1;case 14:case"end":return e.stop()}},e,null,[[2,10]])})))},methods:{bindAttribute:function(t){return t.votes_up-t.votes_down==0?null:{"data-rating":t.votes_up>t.votes_down?"positive":"negative"}}}}},SldL:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",h={};function v(){}function m(){}function g(){}var b={};b[o]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==n&&r.call(_,o)&&(b=_);var w=g.prototype=v.prototype=Object.create(b);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var s=u(t[n],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return m.prototype=w.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(O.prototype),O.prototype[a]=function(){return this},t.AsyncIterator=O,t.async=function(e,n,r,i){var o=new O(c(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},"T/bE":function(t,e,n){var r=n("94sX"),i=n("ue/d"),o=n("eVIm"),a=n("RGrk"),s=n("Z2pD");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},TQ3y:function(t,e,n){var r=n("blYT"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},TRbm:function(t,e,n){var r=n("rlzA"),i=n("fkET"),o=n("EJk4"),a=n("xDUa"),s=n("MkIS"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(p,h,v,m){for(var g,b,y=o(p),_=i(y),w=r(h,v,3),x=a(_.length),O=0,k=m||s,j=e?k(p,x):n?k(p,0):void 0;x>O;O++)if((d||O in _)&&(b=w(g=_[O],O,y),t))if(e)j[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:c.call(j,g)}else if(l)return!1;return f?-1:u||l?l:j}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},Tch4:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropdown",class:{"is-active":this.isActive}},[this._t("default"),this._v(" "),this.isInited?e("div",{ref:"menu",on:{click:this.hide}},[this._t("menu")],2):this._e()],2)},staticRenderFns:[]}},TlPD:function(t,e,n){var r=n("tv3T"),i=n("t8rQ");t.exports=function(t){return r(t,i(t))}},TwS1:function(t,e,n){var r=n("9+GO");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},UFcy:function(t,e,n){"use strict";var r,i,o,a=n("wzd1"),s=n("asqq"),c=n("l/2K"),u=n("jAiL"),l=n("pzR0"),f=u("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0),void 0==r&&(r={}),l||c(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},UHV6:function(t,e,n){var r=n("5+O3"),i=n("gado"),o=n("xDUa"),a=n("rlzA"),s=n("URKv"),c=n("f1+4"),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var d,p,h,v,m,g,b,y=a(e,n,l?2:1);if(f)d=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(i(p)){for(h=0,v=o(t.length);v>h;h++)if((m=l?y(r(b=t[h])[0],b[1]):y(t[h]))&&m instanceof u)return m;return new u(!1)}d=p.call(t)}for(g=d.next;!(b=g.call(d)).done;)if("object"==typeof(m=c(d,y,b.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},UNUE:function(t,e,n){var r=n("G8ar");t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},URKv:function(t,e,n){var r=n("jgJS"),i=n("eZ0g"),o=n("jAiL")("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},URoz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zF5W"),i=n.n(r);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={props:{options:Object,value:[Number,String,Array],float:Boolean},mounted:function(){var t=this,e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},this.options),n=!1;e.start||(e.start=this.value),Array.isArray(this.value)&&(n=!0),this._slider=i.a.create(this.$refs.slider,e),this._slider.on("update",function(e){n?t.$emit("input",e):t.float?t.$emit("input",parseFloat(e[0])):t.$emit("input",parseInt(e[0]))})},beforeDestroy:function(){this._slider.destroy()}}},Ubhr:function(t,e,n){var r=n("6MiT"),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},UfSK:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},UnEC:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},UnLw:function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n("fMqj")(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},Us2S:function(t,e,n){"use strict";var r=n("vrSs"),i={avatar:function(t){return t.avatar&&"0"!=t.avatar&&(t.user_id||t.id)?"/uploads/users/".concat(t.user_id||t.id,"/").concat(t.avatar):this.avatarPlaceholder},mediaBackground:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manga";return t.background?"anime"===e?"/uploads/anime/".concat(t.id,"/background/").concat(t.background,".jpg"):"/uploads/cover/".concat(t.slug,"/background/").concat(t.background):this.cover(t)},coverThumb:function(t){return this.cover(t,!0)},cover:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"manga";if(!t.cover)return this.coverPlaceholder;var i,o="/uploads/cover/".concat(t.slug,"/cover");if("anime"===n&&(o="/uploads/anime/".concat(t.id,"/cover")),t.updated_at){var a=new Date(t.updated_at);a.setMinutes(-1*a.getTimezoneOffset()),i=a.getTime()/1e3}if(1!=t.cover&&1!=t.cover||(t.cover="cover"),o+="/".concat(t.cover,e?"_thumb.jpg":"anime"===n?".jpg":"_250x350.jpg"),i&&(o+="?".concat(i)),t.site&&t.site!=r.i.id){var s=r.i.domainsById[t.site];o="https://".concat(s).concat(o)}return o},personCover:function(t){return this.coverBase(t,"author")},publisherCover:function(t){return this.coverBase(t,"publisher")},teamCover:function(t){return this.coverBase(t,"team")},coverBase:function(t,e){return t.cover?"/uploads/".concat(e,"/").concat(t.slug,"/cover/").concat(t.cover,"_250x350.jpg"):this.coverPlaceholder},avatarPlaceholder:"/uploads/users/placeholder.png",coverPlaceholder:"/uploads/no-image.png",base64Placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89x8AAuEB74Y0o2cAAAAASUVORK5CYII="};e.a=i},Uz1a:function(t,e,n){var r=n("bJWQ"),i=n("FhcP"),o=n("EHRO"),a=n("SHWz"),s=n("gHOb"),c=n("NGEn"),u=n("ggOT"),l=n("YsVG"),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,b){var y=c(t),_=c(e),w=y?p:s(t),x=_?p:s(e),O=(w=w==d?h:w)==h,k=(x=x==d?h:x)==h,j=w==x;if(j&&u(t)){if(!u(e))return!1;y=!0,O=!1}if(j&&!O)return b||(b=new r),y||l(t)?i(t,e,n,m,g,b):o(t,e,w,n,m,g,b);if(!(n&f)){var C=O&&v.call(t,"__wrapped__"),E=k&&v.call(e,"__wrapped__");if(C||E){var S=C?t.value():t,P=E?e.value():e;return b||(b=new r),g(S,P,n,m,b)}}return!!j&&(b||(b=new r),a(t,e,n,m,g,b))}},"V+c1":function(t,e,n){"use strict";var r=n("1rEs").f,i=n("43zn"),o=n("XM+g"),a=n("rlzA"),s=n("tyBP"),c=n("UHV6"),u=n("RxPu"),l=n("Q3+A"),f=n("q0qZ"),d=n("0LGO").fastKey,p=n("I1z2"),h=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){s(t,l,e),h(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&c(r,t[u],t,n)}),p=v(e),m=function(t,e,n){var r,i,o=p(t),a=g(t,e);return a?a.value=n:(o.last=a={index:i=d(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var n,r=p(t),i=d(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(l.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(l.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);u(t,e,function(t,e){h(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(e)}}},V2lS:function(t,e,n){var r=n("VU/8")(n("nmGe"),n("u1Lh"),!1,function(t){n("EXDK"),n("eGIM")},"data-v-6aac6f8f",null);t.exports=r.exports},VMsc:function(t,e,n){var r=n("mi1p"),i=n("o2mx"),o=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){t=a(t),e=i(e);var s=t.length,c=n=void 0===n?s:r(o(n),0,s);return(n-=e.length)>=0&&t.slice(n,c)==e}},VORN:function(t,e,n){var r=n("yCNF"),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},"VU/8":function(t,e){t.exports=function(t,e,n,r,i,o){var a,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,s=t.default);var u,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=r),u){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=u,l.render=function(t,e){return u.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:l}}},"VYv/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,name:t.name,type:"radio"},domProps:{value:t.value,checked:t.isChecked},on:{change:function(e){return t.$emit("input",t.value)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_radio",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},Vi3P:function(t,e,n){var r=n("bIjD"),i=n("oqL2"),o=n("Cf65"),a=n("Ubhr");t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},Vnjp:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{class:"pagination_"+t.theme},[t.disableArrows?t._e():n("li",{class:{disabled:!t.hasPrevPage},on:{click:function(e){return t.changePage(t.current-1)}}}),t._v(" "),t.hasFirst?n("li",{on:{click:function(e){return t.changePage(1)}}},[n("span",[t._v("1")])]):t._e(),t._v(" "),t.hasFirst?n("li",{staticClass:"disabled"},[t._v("\n    ...\n  ")]):t._e(),t._v(" "),t._l(t.pages,function(e){return n("li",{key:e,class:{active:t.current==e},on:{click:function(n){return t.changePage(e)}}},[n("span",[t._v(t._s(e))])])}),t._v(" "),t.hasLast?n("li",{staticClass:"disabled"},[t._v("\n    ...\n  ")]):t._e(),t._v(" "),t.hasLast?n("li",{on:{click:function(e){return t.changePage(t.totalPages)}}},[n("span",[t._v(t._s(t.totalPages))])]):t._e(),t._v(" "),t.disableArrows?t._e():n("li",{class:{disabled:!t.hasNextPage},on:{click:function(e){return t.changePage(t.current+1)}}})],2)},staticRenderFns:[]}},VpuQ:function(t,e,n){var r={};r[n("jAiL")("toStringTag")]="z",t.exports="[object z]"===String(r)},VtKR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("Q7hp"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("oTFi"),l=n("Jaym"),f=n("6Vnj"),d=n.n(f),p=n("39/3"),h=n.n(p);function v(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){v(o,r,i,a,s,"next",t)}function s(t){v(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default={components:{AppCheckbox:d.a},props:{chapterId:[Number,String]},data:function(){return{model:{amount:5,chapter_id:l.r.get("current.id",null),type:"donate_chapter"},balance:l.r.get("auth.balance",0),tickets:l.r.get("auth.tickets",0),auth:l.r.get("auth"),loading:!1,useCoupon:!1}},created:function(){this.tickets>0&&(this.useCoupon=!0)},methods:{onSubmit:function(){var t=m(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.auth){t.next=3;break}return u.a.show("#sign-in-modal"),t.abrupt("return",this.$toast.alert("Вы не авторизованы"));case 3:if(!this.useCoupon){t.next=8;break}return t.next=6,this.ticketHandler();case 6:t.next=10;break;case 8:return t.next=10,this.balanceHandler();case 10:this.loading=!1;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showReplenishmentDialog:function(){this.$dialog.open({component:h.a})},ticketHandler:function(){var t=m(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.tickets){t.next=2;break}return t.abrupt("return",this.$toast.info("У вас нет свободных тикетов"));case 2:if(!this.loading){t.next=4;break}return t.abrupt("return");case 4:return this.loading=!0,t.prev=5,t.next=8,c.a.post("/donate/ticket",{chapter_id:this.model.chapter_id});case 8:e=t.sent,"ok"===e.data.status&&location.reload(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),this.$toast.httpError(t.t0,"Ошибка");case 16:case"end":return t.stop()}},t,this,[[5,13]])}));return function(){return t.apply(this,arguments)}}(),balanceHandler:function(){var t=m(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.balance<this.model.amount)){t.next=2;break}return t.abrupt("return",this.showReplenishmentDialog());case 2:if(!this.loading){t.next=4;break}return t.abrupt("return");case 4:return this.loading=!0,t.prev=5,t.next=8,c.a.post("/donate",this.model);case 8:e=t.sent,"ok"===e.data.status&&location.reload(),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(5),console.error(t.t0),a()(t.t0,"response.data.error_code",0)&&this.showReplenishmentDialog();case 18:case"end":return t.stop()}},t,this,[[5,13]])}));return function(){return t.apply(this,arguments)}}()}}},VyVl:function(t,e){},W529:function(t,e,n){var r=n("f931")(Object.keys,Object);t.exports=r},WBb4:function(t,e){},WFiI:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},WHce:function(t,e,n){var r=n("037f"),i=n("Zk5a")(r);t.exports=i},WKHY:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Список похожих тайтлов\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),t.loading?n("app-loader",{staticClass:"media-similar-list__loader",attrs:{size:"small"}}):t._e(),t._v(" "),n("div",{staticClass:"media-similar-list"},t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"media-similar-list__item"},[n("a",{staticClass:"manga-list-item manga-list-item_inline",attrs:{href:""+e.title.href,title:e.title.rus_name?e.title.rus_name:e.title.name}},[n("div",{staticClass:"manga-list-item__cover",style:{"background-image":"url("+e.title.coverImageThumbnail+")"}}),t._v(" "),n("div",{staticClass:"manga-list-item__body"},[n("div",{staticClass:"manga-list-item__head"},[t._v("\n            "+t._s(e.subtitle)+"\n          ")]),t._v(" "),n("div",{staticClass:"manga-list-item__name"},[t._v("\n            "+t._s(e.title.rus_name?e.title.rus_name:e.title.name)+"\n          ")]),t._v(" "),n("div",{staticClass:"manga-list-item__meta"},[n("span",[t._v(t._s(e.type_text))]),t._v(" "),n("span",[t._v(t._s(e.status_text))])])]),t._v(" "),n("div",{staticClass:"manga-list-item__right media-similar-rating",attrs:{"data-id":e.similar_id}},[n("div",{staticClass:"media-similar-rating__action media-similar-rating__action_up",class:{"is-active":1==e.userVote},attrs:{"data-vote-type":"1"}},[n("svg",{staticClass:"media-similar-rating__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[n("path",{attrs:{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}})])]),t._v(" "),n("div",t._b({staticClass:"media-similar-rating__value"},"div",t.bindAttribute(e),!1),[t._v("\n            "+t._s(e.votes_up-e.votes_down)+"\n          ")]),t._v(" "),n("div",{staticClass:"media-similar-rating__action media-similar-rating__action_down",class:{"is-active":0==e.userVote},attrs:{"data-vote-type":"0"}},[n("svg",{staticClass:"media-similar-rating__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}},[n("path",{attrs:{fill:"currentColor",d:"M368 224H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h352c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}})])])])])])}),0)],1)},staticRenderFns:[]}},WNGz:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},WQFf:function(t,e,n){var r=n("VORN"),i=n("vi0E"),o=n("HT7L");t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},Wh6c:function(t,e,n){var r=n("M1c9");t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},WvIn:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},WxI4:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},WyC4:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},XDq1:function(t,e){},XIFe:function(t,e,n){var r=n("VU/8")(n("HxGM"),n("BscA"),!1,function(t){n("bzSw")},"data-v-2124f48d",null);t.exports=r.exports},"XM+g":function(t,e,n){var r=n("+opI");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},XgCd:function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n("p8xL"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},a)},Xitz:function(t,e,n){var r=n("VU/8")(n("6gc9"),n("KJcH"),!1,function(t){n("QAJx")},null,null);t.exports=r.exports},XnKE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gAt4"),i=n.n(r),o=n("IQ6b"),a=n.n(o),s=n("oJgM"),c=Date.now();e.default={components:{ChapterDownload:a.a},props:{chapter:Object,teamFilter:String,auth:Boolean,isManga:Boolean,manga:Object,user:Object,isAdmin:Boolean,paidChapters:Array,publisher:Object,licensed:Boolean,pricingType:Number,freeChapters:Array,purchased:Array},computed:{isDownloading:function(){return null!=s.a.downloads[this.chapter.chapter_id]},isNew:function(){return i()(c,this.chapter.chapter_created_at)<=6},lockTooltip:function(){if(this.licensed){if(1===this.pricingType)return"Доступно после покупки тома";if(2===this.pricingType)return"Доступно после покупки главы"}return"Глава в раннем доступе до ".concat(this.chapter.chapter_expired_at)},showEdit:function(){return!this.licensed||(!!this.isAdmin||!!this.user&&this.chapter.chapter_user_id===this.user.id)},showDownload:function(){return!this.isLocked&&(!this.licensed&&!!this.isManga)},isLocked:function(){var t=this;if(this.licensed){if(this.freeChapters.some(function(e){return t.chapter.chapter_id==e}))return!1;if(1===this.pricingType&&this.purchased.some(function(e){return t.chapter.chapter_volume===e}))return!1;if(2===this.pricingType){if(0===this.chapter.price)return!1;if(this.purchased.some(function(e){return t.chapter.chapter_id==e}))return!1}return!0}return 2===this.chapter.status&&!this.paidChapters.some(function(e){return t.chapter.chapter_id===e})}},methods:{chapterLink:function(t){var e="/".concat(this.manga.slug);return"edit"===t?"/manga".concat(e,"/chapter/").concat(this.chapter.chapter_id):(e="".concat(e,"/v").concat(this.chapter.chapter_volume,"/c").concat(this.chapter.chapter_number),this.chapter.branch_id?(e+="?bid=".concat(this.chapter.branch_id),this.user.id&&(e+="&ui=".concat(this.user.id))):this.user.id&&(e+="?ui=".concat(this.user.id)),e)}}}},Xqzd:function(t,e,n){var r=n("VU/8")(n("64e8"),n("uh5r"),!1,null,null,null);t.exports=r.exports},"Xt+5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("9UkZ"),a=n.n(o),s=n("kbi+"),c=n.n(s),u=n("I3G/"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("7/oE"),h=n("abp6"),v=n.n(h),m=n("oG8a"),g=n("DaqH"),b=n.n(g),y=n("oTFi"),_={1:"G",2:"PG",3:"PG-13",4:"R-17",5:"R+",6:"Rx"};function w(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){w(o,r,i,a,s,"next",t)}function s(t){w(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default=l.a.extend({components:{VueModal:v.a},mixins:[Object(p.a)(!1)],data:function(){return{score:[5,4,3,2,1],manga:{folders:{items:[],byId:{}}},anime:{folders:{items:[],byId:{}}},cachedItems:{},id:0,slug:null,loading:!0,changeStatusLoading:!1,type:null,siteId:null,loadedAnimeFolder:!1,loadedMangaFolder:!1}},computed:{titleInfo:function(){return this.cachedItems[this.type+"_"+this.id]},mangaStatusText:function(){return this.titleInfo&&!this.titleInfo.auth_user?null:this.bookmarkStatus?this.currentFolder.name:"Добавить в список"},currentFolder:function(){return"anime"===this.type?c()(this.anime.folders,{id:this.bookmarkStatus}):c()(this.manga.folders,{id:this.bookmarkStatus})},bookmarkStatus:function(){return this.titleInfo.book_status?this.titleInfo.book_status.status:null},currentRating:function(){return this.titleInfo?Math.round(parseFloat(this.titleInfo.rate_avg)):0},firstChapterOrEpisode:function(){return"anime"===this.type?this.titleInfo.first_episode:this.titleInfo.first_chapter},chapterOrEpisodeLink:function(){var t="/".concat(this.titleInfo.slug);if("anime"===this.type){var e=this.titleInfo.first_episode.id;return this.titleInfo.book_status&&null!==this.titleInfo.book_status.episode_id&&(e=this.titleInfo.book_status.episode_id),"/anime/".concat(this.titleInfo.id,"-").concat(this.titleInfo.slug,"/episode/").concat(e)}var n=0,r=1,i=this.titleInfo.first_chapter.volume,o=this.titleInfo.first_chapter.number;return this.titleInfo.book_status&&a()(this.titleInfo.book_status.dsc)&&(i=this.titleInfo.book_status.dsc.volume,o=this.titleInfo.book_status.dsc.number,r=this.titleInfo.book_status.dsc.page),this.titleInfo.auth_user&&(n=this.titleInfo.auth_user),"".concat(t,"/v").concat(i,"/c").concat(o,"?page=").concat(r,"&ui=").concat(n)},chapterOrEpisodeLinkText:function(){var t="читать";return"anime"===this.type&&(t="просмотр"),!this.titleInfo.book_status||-1!==this.titleInfo.book_status.page_id&&null===this.titleInfo.book_status.episode_id?"Начать "+t:"Продолжить "+t}},created:function(){var t=x(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._autoMount(),t.next=3,this.initFolders();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{initFolders:function(){var t=x(i.a.mark(function t(){var e,n,r=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"anime"===this.type?this.loadedAnimeFolder=!0:this.loadedMangaFolder=!0,t.prev=1,t.next=4,d.a.get("/bookmark-folder?site_id=".concat(this.siteId||1));case 4:e=t.sent,n=e.data,"anime"===this.type?this.anime.folders=n:this.manga.folders=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:this._changeStatusModal=new b.a({propsData:{folders:"anime"===this.type?this.anime.folders:this.manga.folders,onSelected:function(){r.changeStatusLoading=!0,y.a.close()},onChanged:function(t){r.changeStatusLoading=!1,r.titleInfo.book_status={status:t.id}},onCreated:function(t){"anime"===r.type?r.anime.folders.push(t):r.manga.folders.push(t)}}});case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),changeStatus:function(){this._changeStatusModal.show(this.id,this.slug,this.bookmarkStatus,this.siteId||1)},show:function(){var t=x(i.a.mark(function t(e,n){var r,o,a,s=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._autoMount(),this.$nextTick(function(){return y.a.show(s.$el)}),this.cachedItems[this.type+"_"+e]){t.next=17;break}return this.loading=!0,t.prev=4,r={slug:n,id:e,advanced_info:1,type:this.type},t.next=8,d.a.get("/manga-short-info",{params:r});case 8:o=t.sent,a=o.data,this.$set(this.cachedItems,this.type+"_"+e,a),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),console.error(t.t0),m.default.alert("Произошла ошибка при загрузке");case 17:this.id=e,this.slug=n,this.loading=!1;case 20:case"end":return t.stop()}},t,this,[[4,13]])}));return function(e,n){return t.apply(this,arguments)}}(),getAnimeRating:function(){return _[this.titleInfo.caution]},listHref:function(t,e){return"anime"===this.type?"/anime-list?"+t+"[include][]=".concat(e):"/manga-list?"+t+"[include][]=".concat(e)}}})},YDHx:function(t,e,n){var r=n("Uz1a"),i=n("UnEC");t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},YRFD:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),i=r(e).getTime();return n>i?-1:n<i?1:0}},YeCl:function(t,e,n){var r=n("CW5P"),i=n("A9mX"),o=n("v8Dt"),a=n("agim"),s=n("Dv2r");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},YkxI:function(t,e,n){var r=n("wSKX"),i=n("Q2wK"),o=n("WHce");t.exports=function(t,e){return o(i(t,e,r),t+"")}},Yr70:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"empty"},[n("app-loader",{attrs:{size:"small"}})],1):[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n        Покупка глав\n      ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),"chapters"===t.step?n("div",{staticClass:"modal__body"},[!t.showAllChapters&&t.size.purchased>0?n("div",{staticClass:"form__field small text-muted"},[n("span",[t._v("\n          Купленных глав: "+t._s(t.size.purchased)+"\n        ")]),t._v(" "),n("span",{staticClass:"text-hover ml-10",on:{click:function(e){t.showAllChapters=!0}}},[t._v("показать "),n("i",{staticClass:"fa fa-angle-down",staticStyle:{"font-size":"12px"}})])]):t._e(),t._v(" "),n("div",{staticClass:"form__field control-group"},t._l(t.chapters,function(e){return n("app-checkbox",{key:e.id,attrs:{value:e.id,disabled:t.isPurchased(e)},model:{value:t.model.selectedChapters,callback:function(e){t.$set(t.model,"selectedChapters",e)},expression:"model.selectedChapters"}},[n("span",[t._v("Глава "+t._s(e.number))]),t._v(" "),t.isPurchased(e)?n("span",{staticClass:"label label_info ml-10"},[t._v("уже куплена")]):t._e()])}),1),t._v(" "),0===t.size.chapters?n("div",{staticClass:"empty form__field"},[t._v("\n        Пока нет доступных томов к покупке\n      ")]):t.size.chapters>0&&t.size.purchased===t.size.chapters?n("div",{staticClass:"empty form__field"},[t._v("\n        Вы уже приобрели доступные на данный момент тома\n      ")]):t._e(),t._v(" "),t.size.chapters>0&&t.size.notPurchased>0?n("div",{staticClass:"alert alert_default alert_sm"},[n("strong",[t._v("К оплате:")]),t._v(" "+t._s(t.price)+" руб. (с учётом комиссии "+t._s(100*t.comissions[t.model.payment_method])+"%)\n      ")]):t._e(),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_primary button_block",attrs:{disabled:0===t.price||t.initPaymentLoading},on:{click:function(e){t.step="confirm"}}},[t._v("\n          Выбор способа оплаты "),n("i",{staticClass:"fa fa-arrow-right fa-sm ml-5",staticStyle:{"font-size":"12px"}})])])]):t._e(),t._v(" "),"confirm"===t.step?n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__label"},[t._v("\n        Способ оплаты\n      ")]),t._v(" "),n("div",{staticClass:"form__field control-group"},t._l(t.paymentMethods,function(e,r){return n("app-radio",{key:r,attrs:{name:"payment_method",value:r},model:{value:t.model.payment_method,callback:function(e){t.$set(t.model,"payment_method",e)},expression:"model.payment_method"}},[t._v("\n          "+t._s(e)+"\n        ")])}),1),t._v(" "),n("div",{staticClass:"alert alert_default alert_sm flex justify_between"},[n("div",[n("strong",[t._v("К оплате:")]),t._v(" "+t._s(t.price)+" руб. (с учётом комиссии "+t._s(100*t.comissions[t.model.payment_method])+"%)\n        ")]),t._v(" "),"confirm"!==t.defaultStep?n("span",{staticClass:"text-muted text-hover",on:{click:function(e){t.step="chapters"}}},[t._v("назад")]):t._e()]),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.initPaymentLoading},attrs:{disabled:0===t.price||t.initPaymentLoading},on:{click:t.initPayment}},[t._v("\n          Перейти к оплате\n        ")])])]):t._e()]],2)},staticRenderFns:[]}},YsVG:function(t,e,n){var r=n("z4hc"),i=n("S7p9"),o=n("Dc0G"),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},YveC:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},Z2pD:function(t,e,n){var r=n("dCZQ"),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},Z6uz:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"filterWrap",staticClass:"paper search-filter",class:{"search-filter_mobile":t.isMobile}},[n("div",{staticClass:"search-filter-layout",class:{"is-hidden":t.show.tags||t.show.genres}},[t.isMobile?n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.$dialog.close()}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Фильтры\n      ")]),t._v(" "),n("app-dialog-close")],1):t._e(),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("genres")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Жанры\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedGenres))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]),t._v(" "),n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("tags")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Теги\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedTags))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]),t._v(" "),t.isHentai?n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("series")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Серия\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedSeries))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]):t._e(),t._v(" "),"anime"===t.state.type?n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Количество эпизодов\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.episodes.min,expression:"state.episodes.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.episodes.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.episodes,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.episodes.max,expression:"state.episodes.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.episodes.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.episodes,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]):n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Количество глав\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.chapters.min,expression:"state.chapters.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.chapters.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.chapters,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.chapters.max,expression:"state.chapters.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.chapters.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.chapters,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Год выпуска\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.year.min,expression:"state.year.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.year.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.year,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.year.max,expression:"state.year.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.year.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.year,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Оценка\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.rating.min,expression:"state.rating.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.rating.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.rating,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.rating.max,expression:"state.rating.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.rating.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.rating,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),t.isHentai?t._e():n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Возрастной рейтинг\n          ")]),t._v(" "),"anime"!==t.state.type?n("MangaCaution",{attrs:{state:t.state}}):n("AnimeCaution",{attrs:{state:t.state}})],1),t._v(" "),n("div",{staticClass:"search-filter__categories search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Тип\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.types,function(e,r){return n("label",{key:r,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.types,expression:"state.types"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:r,checked:Array.isArray(t.state.types)?t._i(t.state.types,r)>-1:t.state.types},on:{change:function(e){var n=t.state.types,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=r,s=t._i(n,a);i.checked?s<0&&t.$set(t.state,"types",n.concat([a])):s>-1&&t.$set(t.state,"types",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.state,"types",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__format search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Формат выпуска\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.format,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.format,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])}),1)]),t._v(" "),n("div",{staticClass:"search-filter__status search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Статус перевода\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.status,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.status,expression:"state.status"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.status)?t._i(t.state.status,e.id)>-1:t.state.status},on:{change:function(n){var r=t.state.status,i=n.target,o=!!i.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);i.checked?s<0&&t.$set(t.state,"status",r.concat([a])):s>-1&&t.$set(t.state,"status",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"status",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.label))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__status search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Статус тайтла\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.manga_status,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.manga_status,expression:"state.manga_status"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.manga_status)?t._i(t.state.manga_status,e.id)>-1:t.state.manga_status},on:{change:function(n){var r=t.state.manga_status,i=n.target,o=!!i.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);i.checked?s<0&&t.$set(t.state,"manga_status",r.concat([a])):s>-1&&t.$set(t.state,"manga_status",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"manga_status",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.label))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Другое\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[t.auth&&"anime"!==t.state.type?n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.long_no_translation,expression:"state.long_no_translation"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.long_no_translation)?t._i(t.state.long_no_translation,null)>-1:t.state.long_no_translation},on:{change:function(e){var n=t.state.long_no_translation,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.state,"long_no_translation",n.concat([null])):o>-1&&t.$set(t.state,"long_no_translation",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.state,"long_no_translation",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Нет перевода уже 3 месяца")])]):t._e(),t._v(" "),t.isHentai?t._e():n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.licensed,expression:"state.licensed"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.licensed)?t._i(t.state.licensed,null)>-1:t.state.licensed},on:{change:[function(e){var n=t.state.licensed,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.state,"licensed",n.concat([null])):o>-1&&t.$set(t.state,"licensed",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.state,"licensed",i)},t.licenseChange]}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Лицензирован")])]),t._v(" "),!t.isHentai&&t.state.licensed&&"anime"!==t.state.type?n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.buy,expression:"state.buy"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.buy)?t._i(t.state.buy,null)>-1:t.state.buy},on:{change:function(e){var n=t.state.buy,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&t.$set(t.state,"buy",n.concat([null])):o>-1&&t.$set(t.state,"buy",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.state,"buy",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Можно приобрести")])]):t._e()])]),t._v(" "),t.auth?[n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n              Мои списки "),n("span",{staticClass:"text-muted text-hover small ml-5",on:{click:function(e){return t.selectAll("bookmarks")}}},[t._v("выделить все")])]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list"},t._l(t.list.bookmarks,function(e,r){return n("CheckboxWithExclude",{key:r,attrs:{state:t.state.bookmarks,value:r}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)])]:t._e()],2)]),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",attrs:{disabled:t.loading},on:{click:function(e){return t.resetFilter()}}},[t._v("\n        Сбросить\n      ")]),t._v(" "),n("button",{staticClass:"button button_green",attrs:{disabled:t.loading},on:{click:function(e){return t.applyFilter()}}},[t._v("\n        Показать\n      ")])])]),t._v(" "),n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.tags}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("tags")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Теги\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("tags")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.tags,expression:"filter.tags"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Фильтр по тегам"},domProps:{value:t.filter.tags},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("tags")},input:function(e){e.target.composing||t.$set(t.filter,"tags",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.tags.length,expression:"filter.tags.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("tags")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[!t.filter.tags.length&&t.list.tags_popular.length?[n("div",{staticClass:"search-filter-list-title"},[t._v("\n          Популярные\n        ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.list.tags_popular,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.tags,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n              "),n("span",{staticClass:"text-muted small search-filter__counter"},[t._v(t._s(e.count))])])}),1)])]:t._e(),t._v(" "),n("div",{staticClass:"search-filter-list-title"},[t._v("\n        По алфавиту\n      ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredTags,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.tags,value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)])],2),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("tags"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]),t._v(" "),n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.genres}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("genres")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Жанры\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("genres")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.genres,expression:"filter.genres"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Фильтр по жанрам"},domProps:{value:t.filter.genres},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("genres")},input:function(e){e.target.composing||t.$set(t.filter,"genres",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.genres.length,expression:"filter.genres.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("genres")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[!t.filter.genres.length&&t.list.genres_popular.length?[n("div",{staticClass:"search-filter-list-title"},[t._v("\n          Популярные\n        ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.list.genres_popular,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.genres,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n              "),n("span",{staticClass:"text-muted small search-filter__counter"},[t._v(t._s(e.count))])])}),1)])]:t._e(),t._v(" "),n("div",{staticClass:"search-filter-list-title"},[t._v("\n        По алфавиту\n      ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredGenres,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.genres,value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)])],2),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("genres"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]),t._v(" "),t.isHentai?n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.series}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("series")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Серия\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("series")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.series,expression:"filter.series"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Поиск серии"},domProps:{value:t.filter.series},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("series")},input:function(e){e.target.composing||t.$set(t.filter,"series",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.series.length,expression:"filter.series.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("series")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredSeries,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.series,expression:"state.series"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.series)?t._i(t.state.series,e.id)>-1:t.state.series},on:{change:function(n){var r=t.state.series,i=n.target,o=!!i.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);i.checked?s<0&&t.$set(t.state,"series",r.concat([a])):s>-1&&t.$set(t.state,"series",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"series",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.name))])])}),0)])]),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("series"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]):t._e()])},staticRenderFns:[]}},Z8WZ:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+l+u,"g");t.exports=function(t){for(var e=f.lastIndex=0;f.test(t);)++e;return e}},ZD0O:function(t,e,n){var r=n("CHen"),i=n("RfZv");t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},ZGh9:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},ZLZl:function(t,e,n){"use strict";n.d(e,"c",function(){return h}),e.b=function(t){if(m(t))return;d.push(t),p.push(t),v()},e.a=function(t,e,n){return _.apply(this,arguments)};var r=n("En79"),i=n.n(r),o=n("O4Lo"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("Jaym");function l(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)})}}var d=[],p=[],h={chapter:"Главы",comments:"Комментарии",friend:"Заявки",message:"Сообщения",other:"Другое"},v=a()(function(){var t={ids:[].concat(p)};c.a.delete("/notification/destroy",{data:t}),p.length=0},1e3),m=function(t){return-1!==Object(u.e)(d,function(e){return e===t})};var g=[],b=function(){var t=f(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=new FormData).append("_token",Object(u.h)()),g.forEach(function(t){e.append("ids[]",t)}),g=[],!navigator.sendBeacon){t.next=8;break}navigator.sendBeacon("/notification/read",e),t.next=16;break;case 8:return t.prev=8,t.next=11,c.a.post("/notification/read",e);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[8,13]])}));return function(){return t.apply(this,arguments)}}(),y=a()(b,1500);function _(){return(_=f(i.a.mark(function t(e,n,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:g.push(e),r?y():(b(),window.location=n);case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}},ZP0a:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal__body"},[n("app-dialog-close"),t._v(" "),t.rusName?n("div",{class:t.$style.item},[n("div",{class:t.$style.title},[t._v("\n      Название на русском\n    ")]),t._v(" "),n("div",{class:t.$style.name},[t._v("\n      "+t._s(t.rusName)+"\n    ")])]):t._e(),t._v(" "),t.name?n("div",{class:t.$style.item},[n("div",{class:t.$style.title},[t._v("\n      Оригинальное название\n    ")]),t._v(" "),n("div",{class:t.$style.name},[t._v("\n      "+t._s(t.name)+"\n    ")])]):t._e(),t._v(" "),t.name!==t.engName&&t.engName?n("div",{class:t.$style.item},[n("div",{class:t.$style.title},[t._v("\n      Название на английском\n    ")]),t._v(" "),n("div",{class:t.$style.name},[t._v("\n      "+t._s(t.engName)+"\n    ")])]):t._e(),t._v(" "),t.altNames&&t.altNames.length?n("div",{class:t.$style.item},[n("div",{class:t.$style.title},[t._v("\n      Альтернативные названия\n    ")]),t._v(" "),t._l(t.altNames,function(e,r){return n("div",{key:r,class:t.$style.name},[t._v("\n      "+t._s(e)+"\n    ")])})],2):t._e()],1)},staticRenderFns:[]}},ZT2e:function(t,e,n){var r=n("o2mx");t.exports=function(t){return null==t?"":r(t)}},Zk5a:function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"a+Ii":function(t,e){},"a/rO":function(t,e,n){"use strict";var r=n("9mDF"),i=n("HLWT"),o=n("eZ0g"),a=n("I1z2"),s=n("RxPu"),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"a3r/":function(t,e){t.exports={prices:"_1WOjoRPKwAgUTviC_n4sxV_0",item:"_286x-qJpMgxsEEaV4W3bCL_0",coupon:"_1_BBMYqL5fy57CFwVn_Bpe_0"}},a4aT:function(t,e,n){var r=n("q0qZ"),i=n("r54x"),o=n("l/2K"),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],u=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:c,f=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i(function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)})}},aCM0:function(t,e,n){var r=n("NkRn"),i=n("uLhX"),o=n("+66z"),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:c&&c in Object(t)?i(t):o(t)}},aPs8:function(t,e,n){var r=n("VU/8")(n("CUbW"),n("8usU"),!1,function(t){n("6/M0")},null,null);t.exports=r.exports},aQOO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},aZpi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("uUYp"),n("0vOO"),n("CwNI"),n("m1su"),n("qEBd"),n("MU8w");var r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1},o=Element.prototype;o.closest||(o.closest=function(t){for(var e=this;e;){if(i.call(e,t))return e;e=e.parentElement}});n("bRTM"),n("OpCx"),n("11ho");SVGElement.prototype.contains||(SVGElement.prototype.contains=HTMLDivElement.prototype.contains);var a=n("yPE/"),s=n.n(a);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l={paste:!0,type:!0,image:!0},f=/https?:\/\/[\S]/g,d=/(?:\s|^)(https?:\/\/[^\s]+)/,p=s.a.import("delta"),h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},l,{},n),this.opts.type&&this.registerTypeListener(e),this.opts.paste&&this.registerPasteListener(e)}var e,n,r;return e=t,(n=[{key:"registerTypeListener",value:function(t){var e=this;t.keyboard.addBinding({collapsed:!0,key:" ",prefix:d,handler:function(n,r){var i=e.sliceFromLastWhitespace(r.prefix),o=n.index-i.length,a=o?[{retain:o}]:[];return a.push({delete:i.length}),a.push({insert:i,attributes:{link:i}}),t.updateContents({ops:a}),!0}})}},{key:"registerPasteListener",value:function(t){var e=this;t.clipboard.addMatcher(Node.TEXT_NODE,function(t,n){if(f.test(t.nodeValue)){var r=new p;return t.nodeValue.replace(/(https?:\/\/[^\s]+)/g,"".concat("[link]","$1").concat("[link]")).split("[link]").filter(function(t){return t.length>0}).forEach(function(t){if(/https?:\/\/.*/.test(t)){if(t=t.trim(),e.opts.image&&/https?:\/\/[\S]+\.(jpe?g|png|gif|webp)/.test(t))return r.insert({image:t});r.insert(t,{link:t})}else r.insert(t)}),r}return n})}},{key:"sliceFromLastWhitespace",value:function(t){var e=t.lastIndexOf(" "),n=-1===e?0:e+1;return t.slice(n)}}])&&u(e.prototype,n),r&&u(e,r),t}(),v=n("Mqyi");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=s.a.import("blots/block/embed"),O=function(t){var e,n,r;function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=g(this,b(i).call(this,t));var n=t.querySelector(".ql-image-block__remove");return n.onclick=function(){n.onclick=null,t.parentNode.removeChild(t)},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,x),e=i,r=[{key:"create",value:function(t){return Object(v.a)("div",{contentEditable:!1,className:"ql-image-block"},Object(v.a)("div",{className:"ql-image-block__wrapper"},Object(v.a)("img",{src:"string"==typeof t?t:t.src,className:"ql-image-block__img"}),Object(v.a)("button",{className:"ql-image-block__remove"},Object(v.a)("i",{className:"ql-image-block__icon fa fa-fw fa-trash"}))))}},{key:"value",value:function(t){var e=t.querySelector("img");return!!e&&{src:e.src,width:e.naturalWidth,height:e.naturalHeight}}}],(n=null)&&y(e.prototype,n),r&&y(e,r),i}();w(O,"blotName","image"),w(O,"tagName","img");var k=O,j=n("lHK6"),C=n.n(j),E=n("VMsc"),S=n.n(E),P=n("7pyE"),A=n.n(P),T=n("oqL2"),N=n.n(T),L=n("kvU2"),M=n.n(L);s.a.prototype.getEscapedContents=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=M()(this.getContents.apply(this,e)),i=N()(r.ops);return"string"==typeof i.insert&&(i.insert=i.insert.replace(/\n+$/,"")),r.ops.forEach(function(t){"string"==typeof t.insert&&(t.insert=t.insert.replace(/(\n\n)+/g,"\n\n"),t.insert=t.insert.replace(/\n/g,"\\n"),A()(t.insert," ")&&(t.insert="\\s"+t.insert.slice(1)),S()(t.insert," ")&&(t.insert=t.insert.slice(0,-1)+"\\s"))}),r.ops=r.ops.filter(function(t){return!C()(t.insert)}),r},s.a.register("modules/autoLinks",h),s.a.register({"formats/image":k},!0);var I=n("mtWM"),D=n.n(I),R=n("Jaym"),q=n("En79"),B=n.n(q);function F(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var z=!1;var U=function(t){t.interceptors.response.use(function(t){return t},(e=B.a.mark(function e(n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.response)||419!==r.status||!/csrf token mismatch/i.test(r.data.message)||z){e.next=4;break}return z=!0,e.abrupt("return",t.get("/_refresh-token").then(function(e){var r=e.data;return t.defaults.headers["X-CSRF-TOKEN"]=r.csrf,n.config.headers&&(delete n.config.headers["X-CSRF-TOKEN"],delete n.config.headers["X-XSRF-TOKEN"]),t.request(n.config)}));case 4:return e.abrupt("return",Promise.reject(n));case 5:case"end":return e.stop()}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(t){F(o,r,i,a,s,"next",t)}function s(t){F(o,r,i,a,s,"throw",t)}a(void 0)})},function(t){return n.apply(this,arguments)}));var e,n};var H=function(t){},$=n("Q7hp"),V=n.n($),W=n("Ngrm");var G=function(t){t.interceptors.response.use(function(t){var e=V()(t,"data.toast",null);if(e){var n=e.type||"info";W.a[n](e.message)}return t},function(t){var e=t.response;if(e&&e.data&&404!==e.status){var n=e.data,r=n.errors,i=n.message;if(r)if(Object(R.j)(r))i=r[0];else if(Object(R.n)(r)){var o=r[Object.keys(r)[0]];Object(R.j)(o)&&(i=o[0]),Object(R.o)(o)&&(i=o)}i&&(/csrf token/gi.test(i)&&(i="Сессия устарела, перезагрузите страницу и повторите действие"),W.a.alert(i))}return console.error(t),Promise.reject(t)})};D.a.defaults.headers["X-CSRF-TOKEN"]=Object(R.h)(),D.a.defaults.headers["X-Requested-With"]="XMLHttpRequest",U(D.a),G(D.a),H(D.a);var Y=n("u5FJ"),K=n("0uHm"),Z=n.n(K),J=n("alMs"),X=n("I3G/"),Q=n.n(X),tt=n("vBvW"),et=n.n(tt),nt=function(t,e,n){var r=n.includeSeconds,i=n.addSuffix;return void 0===i&&(i=!0),et()(t,{locale:e,includeSeconds:r,addSuffix:i})},rt=function(t,e){if(!t.prototype.$timeago){var n={locale:e.locale};t.prototype.$timeago=t.observable?t.observable(n):new t({data:n});var r=function(t){void 0===t&&(t={});var e=t.locales||{};return{name:t.name||"Timeago",props:{datetime:{required:!0},title:{type:[String,Boolean]},locale:{type:String},autoUpdate:{type:[Number,Boolean]},converter:{type:Function},converterOptions:{type:Object}},data:function(){return{timeago:this.getTimeago()}},computed:{localeName:function(){return this.locale||this.$timeago.locale}},mounted:function(){this.startUpdater()},beforeDestroy:function(){this.stopUpdater()},render:function(t){return t("time",{attrs:{datetime:new Date(this.datetime),title:"string"==typeof this.title?this.title:!1===this.title?null:this.timeago}},[this.timeago])},methods:{getTimeago:function(n){return(this.converter||t.converter||nt)(n||this.datetime,e[this.locale||this.$timeago.locale],this.converterOptions||{})},convert:function(t){this.timeago=this.getTimeago(t)},startUpdater:function(){var t=this;if(this.autoUpdate){var e=!0===this.autoUpdate?60:this.autoUpdate;this.updater=setInterval(function(){t.convert()},1e3*e)}},stopUpdater:function(){this.updater&&(clearInterval(this.updater),this.updater=null)}},watch:{autoUpdate:function(t){this.stopUpdater(),t&&this.startUpdater()},datetime:function(){this.convert()},localeName:function(){this.convert()},converter:function(){this.convert()},converterOptions:{handler:function(){this.convert()},deep:!0}}}}(e);t.component(r.name,r)}},it=n("1Vro"),ot=n.n(it),at=n("+nGo"),st=n.n(at),ct=n("Eoz/"),ut=n.n(ct),lt={install:function(t){t.filter("date",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return(arguments.length>2?arguments[2]:void 0)&&(t=st()(t)),ut()(t,e)})}},ft=/\.0+$|(\.[0-9]*[1-9])0+$/,dt=[{value:1e9,symbol:"млрд"},{value:1e6,symbol:"млн."},{value:1e3,symbol:"тыс."}];function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(R.d)(dt,function(e){return t>=e.value});return n?(t/n.value).toFixed(e).replace(ft,"$1")+" "+n.symbol:t}Q.a.use(lt),Q.a.use(function(t){t.filter("formatNumber",pt)});var ht=n("iSNJ");function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mt={install:function(t,e){function n(t,n,r){var i=r.data&&r.data.on||r.componentOptions&&r.componentOptions.listeners,o=n.value||{};o=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){vt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({showOnLoad:!1},e,{},o),i&&i.show&&(o.onShow=function(){i.show.fns()}),i&&i.shown&&(o.onShown=function(){i.shown.fns()}),i&&i.hidden&&(o.onHidden=function(){i.hidden.fns()}),i&&i.hide&&(o.onHide=function(){i.hide.fns()}),o.html&&(o.reactive?o.html=Object(Y.l)(o.html):Object(Y.l)(o.html)._tipppyReference=t),new ht.a(t,o),Object(Y.f)(t,"data-tippy-html")&&(Object(Y.l)(Object(Y.f)(t,"data-tippy-html"))._tipppyReference=t),o.showOnLoad&&t._tippy.show()}t.directive("tippy-html",{componentUpdated:function(e){var n=e._tipppyReference._tippy;n&&t.nextTick(function(){Object(Y.l)(".tippy-content",n.popper).innerHTML=e.innerHTML})},unbind:function(t){t._tippy&&t._tippy.destroy(),delete t._tipppyReference}}),t.directive("tippy",{inserted:function(t,e,r){n(t,e,r)},unbind:function(t){t._tippy&&t._tippy.destroy()},componentUpdated:function(t,e,r){var i=e.value||{},o=e.oldValue||{};t._tippy&&JSON.stringify(i)!==JSON.stringify(o)&&n(t,e,r),t._tippy&&i.show?t._tippy.show():t._tippy&&!i.show&&"manual"===i.trigger&&t._tippy.hide()}})}},gt=n("BV6Q"),bt={install:function(t){t.directive("magic-line",{inserted:function(t){t.__line__=new gt.a(t,{onClick:!1})},componentUpdated:function(t){t.__line__&&t.__line__._update()},unbind:function(t){t.__line__&&t.__line__.destroy(),delete t.__line__}})}},yt=n("JnrT"),_t=n.n(yt);Q.a.use(mt),Q.a.use(bt),Q.a.use(function(t){t.directive("auto-height",{inserted:function(t){_t()(t)},unbind:function(t){var e=t.offsetHeight;_t.a.destroy(t),t.style.height=e+"px"}})});var wt=n("Us2S"),xt=n("ATG8");Q.a.use(rt,{name:"Timeago",locale:"ru",locales:{ru:ot.a},converter:function(t,e){return et()(st()(t),{locale:e,addSuffix:!0})}}),Q.a.prototype.$AppEmitter=R.b,Q.a.prototype.$url=wt.a,Q.a.prototype.$toast=W.a,Q.a.prototype.$pageLoader=xt.a,n("J+MW"),n("ykT4"),n("vYLk"),n("oG8a"),n("OJry");var Ot=n("vrSs");function kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object(ht.a)("[data-tippy-content]",Ot.d),document.addEventListener("DOMContentLoaded",function(){Object(ht.a)("[data-dropdown]",function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){kt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Ot.e,{content:function(t){var e=t.closest(".dropdown");return Object(Y.l)(".menu",e)},onHide:function(t){R.b.emit("dropdown.hide",t),Y.g.remove(this._reference,"dropdown_active")},onShow:function(t){R.b.emit("dropdown.show",t),Y.g.add(this._reference,"dropdown_active")}}))});var jt=n("arOy");new(n.n(jt).a)({elements_selector:".lazyload",callback_error:function(t){Y.g.has(t,"avatar")&&(t.src="/uploads/users/placeholder.png")}});var Ct=Object(Y.l)(".m-menu"),Et=Object(Y.l)(".header-toggle, [data-toggle-menu]"),St=Object(Y.l)("#page-overlay"),Pt=document.body,At=function(){Y.g.remove(Pt,"m-menu-opened"),Y.g.remove(Ct,"m-menu_hidden"),Object(R.f)(Object(Y.m)(".".concat("m-submenu_open")),function(t){return Y.g.remove(t,"m-submenu_open")}),Pt.style.paddingRight=""};Object(Y.c)(Et,"click",function(){var t=window.innerWidth-Pt.offsetWidth;Y.g.add(Pt,"m-menu-opened"),Pt.style.paddingRight="".concat(t,"px")}),Object(Y.c)(St,"click",At),Object(Y.a)(Ct,"click","[data-close-menu]",At),Object(Y.a)(Ct,"click","[data-open]",function(t,e){t.preventDefault();var n=Object(Y.f)(e,"data-open"),r=Object(Y.l)('[data-submenu="'.concat(n,'"]'),Ct);Y.g.add(Ct,"m-menu_hidden"),Y.g.add(r,"m-submenu_open")}),Object(Y.a)(Ct,"click",".m-submenu__back",function(t,e){var n=e.closest(".m-submenu");Y.g.remove(n,"m-submenu_open"),Y.g.remove(Ct,"m-menu_hidden")});var Tt=n("ZLZl");function Nt(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}Object(Y.c)('[data-notification-action="remove-all"]',"click",function(){confirm("Удалить все уведомления?")&&D.a.delete("/notification/destroy",{data:{destroyAll:!0}}).then(function(){return location.reload()})}),Object(Y.c)('[data-notification-action="read-all"]',"click",function(t){var e=Y.f.get(t.currentTarget,"data-type"),n="Отметить всё как прочитанное?";"all"!==e&&(n='Отметить всё прочитанным из категории "'.concat(Tt.c[e],'"?')),J.a.confirm({text:n,onConfirm:function(){var t,n=(t=B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.post("/notification/read-all",{type:e});case 3:location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),W.a.httpError(t.t0,"Приозошла неизвестная ошибка");case 9:J.a.close(!0);case 10:case"end":return t.stop()}},t,null,[[0,6]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Nt(o,r,i,a,s,"next",t)}function s(t){Nt(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return n.apply(this,arguments)}}()})}),Object(Y.a)("#user-notifications","click","a[data-id]",function(t,e){t.preventDefault();var n=Object(Y.f)(e,"data-id"),r=Object(Y.f)(e,"href");Object(Tt.a)(n,r)}),Object(Y.a)("#user-notifications","click",".notification-item__remove",function(t,e){t.preventDefault();var n=e.parentNode,r=n.parentNode,i=1===r.children.length,o=Object(Y.l)("[data-id]",n),a=Object(Y.f)(o,"data-id");!function(t,e){var n=function(){return t.removeChild(e)};arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n():(e.style.height="".concat(e.offsetHeight,"px"),Object(R.c)(function(){e.style.height=0,e.style.opacity=0}),Object(R.c)(n,200))}(r,n,!i),i&&r.appendChild(Object(v.a)("div",{className:"notifications__empty"},"Нет новых уведомлений")),Object(Tt.b)(a)});var Lt=n("LQly"),Mt=n("oTFi");function It(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var Dt=Object(Y.l)("#sign-in-form");if(Dt){var Rt=Object(Y.l)('button[type="submit"]',Dt);Object(Y.c)(Dt,"submit",function(t){var e=new FormData(Dt),n=Object(Y.f)(Dt,"action");t.preventDefault(),Object(Lt.a)(Rt,!0),D.a.post(n,e).then(function(t){return t.data}).then(function(t){var e=t.status,n=t.message,r="success"===e?"confirm":"alert";W.a[r](n),Object(Lt.a)(Rt,!1),"success"===e&&location.reload()}).catch(function(){return Object(Lt.a)(Rt,!1)})}),Object(Y.c)("#show-login-button","click",function(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){It(o,r,i,a,s,"next",t)}function s(t){It(o,r,i,a,s,"throw",t)}a(void 0)})}}(B.a.mark(function t(){var e,n,r,i,o;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Mt.a.show("#sign-in-modal"),t.t0=B.a.keys(Ot.i.domainsById);case 2:if((t.t1=t.t0()).done){t.next=21;break}if(n=t.t1.value,!Ot.i.isNot(n)){t.next=19;break}return r=Ot.i.domainsById[n],t.prev=6,t.next=9,D.a.get("https://".concat(r,"/auth/user"),{transformRequest:function(t,e){return delete e["X-CSRF-TOKEN"],delete e["X-Requested-With"],t}});case 9:if(i=t.sent,!(o=i.data).token){t.next=14;break}return e=o.token,t.abrupt("break",21);case 14:t.next=19;break;case 16:t.prev=16,t.t2=t.catch(6),console.error(t.t2);case 19:t.next=2;break;case 21:if(!e){t.next=33;break}return t.prev=22,t.next=25,D.a.post("/api/auth/user/get",{token:e});case 25:if(!t.sent.data.success){t.next=28;break}return t.abrupt("return",location.reload());case 28:t.next=33;break;case 30:t.prev=30,t.t3=t.catch(22),console.error(t.t3);case 33:case"end":return t.stop()}},t,null,[[6,16],[22,30]])})))}Object(Y.c)("#logout-button","click",function(t){t.preventDefault();var e=Object(v.a)("form",{className:"hidden",action:"".concat(location.origin,"/auth/logout"),method:"GET"},Object(v.a)("input",{type:"hidden",name:"_token",value:Object(R.h)()}));document.body.appendChild(e),e.submit()});var qt=Object(Y.l)(".flash-messages");if(qt){var Bt=Object(Y.m)(".alert",qt);Object(Y.a)(Bt,"click",".alert__close",function(t,e){var n=e.closest(".alert");qt.removeChild(n)})}var Ft=Object(Y.m)(".".concat("form__input_error"));if(Ft.length){var zt=function t(){var e=this.closest(".form__field");if(Y.g.remove(this,"form__input_error"),e){var n=Object(Y.l)(".form__error",e);Y.g.add(n,"hidden")}Object(Y.b)(this,"focus",t)};Ft.forEach(function(t){return Object(Y.c)(t,"focus",zt)})}var Ut=n("gksw"),Ht=n("pfG0"),$t=n("zFhg"),Vt=n("OAgh");function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt=Object(Y.m)("[data-uploader-init]");Gt.length&&Object(R.f)(Gt,function(t){var e=Y.f.get(t,"data-uploader-init",{parseJSON:!0},{}),n=new Ut.a({el:t,uploadAfterChange:!1,formData:function(t){t.append("type",e.type),t.append("image_category","cover")},plugins:{preview:{class:Ht.a,config:{src:e.src}},cropper:{class:$t.a,config:{options:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Wt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Ot.b),croppedCanvasData:{minWidth:375}}}}});!1===e.canEdit&&n.disable(),n.on(Vt.a.complete,Ut.a.setInputValue(e.input)),n.on(Vt.a.imageRemoved,Ut.a.setInputValue(e.input))});var Yt=n("O4Lo"),Kt=n.n(Yt);function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jt,Xt,Qt=D.a.CancelToken,te=Object(Y.m)(".choice-init"),ee={removeItemButton:!0,duplicateItems:!1,searchResultLimit:30,loadingText:"Поиск...",searchFields:["label"],noResultsText:"...",noChoicesText:"Больше нечего выбрать",itemSelectText:"Нажмите чтобы выбрать",searchPlaceholderValue:"Поиск...",callbackOnInit:function(){var t=this.containerOuter.parentNode,e=Object(Y.l)(".form__input",t);t.removeChild(e)}};function ne(){te.forEach(function(t){var e=Object(Y.l)(".choice-target",t),n=Object(Y.f)(t,"data-options");if(e){if(n)try{n=JSON.parse(n)}catch(t){n={}}var r=new Jt(e,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Zt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},ee,{},n));if(n&&n.search){var i=Kt()(function(t){var e=t.detail.value.trim();if(!(e.length<2)){if(Xt)try{Xt()}catch(t){}D.a.get(n.search,{params:{q:e},cancelToken:new Qt(function(t){return Xt=t})}).then(function(t){return t.data}).then(function(t){t.forEach(function(t){return t.id=String(t.id)}),r.setChoices(t,"id","value",!0)}).catch(function(){})}},300);r.passedElement.addEventListener("search",i)}}})}te.length&&new Promise(function(t){n.e(33).then(function(e){t(n("Deij"))}.bind(null,n)).catch(n.oe)}).then(function(t){Jt=t,ne()});var re=n("A7pH"),ie=function(t,e){t.disabled=e,Y.g.toggle(t,"buton_loading",e)};function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object(Y.m)(".editor[data-autoinit]").forEach(function(t){var e=Object(Y.l)(".editor__toolbar",t),n=Object(Y.l)(".editor__content",t),r=n.innerHTML,i=Object(re.a)(n,{toolbar:e}),o=t.closest("form"),a=Object(Y.f)(t,"data-name"),s=Y.f.has(t,"data-required"),c=Object(v.a)("textarea",{name:a,className:"hidden",hidden:!0});i.setHTML(r),i.addEventListener("input",function(){c.value=i.getParsedHTML()}),o&&(c.value=i.getParsedHTML(),o.appendChild(c),Object(Y.c)(o,"submit",function(t){t.preventDefault();var e=Object(Y.l)('button[type="submit"]',o),n=Y.f.has(o,"data-ajax-form");if(s&&i.isEmpty())return W.a.alert("Сообщение не должно быть пустым");if(o.appendChild(c),ie(e,!0),n){var r=new FormData(o),a=Object(Y.f)(o,"action");D.a.post(a,r).then(function(t){return t.data}).then(function(t){R.b.emit("editorSend",t),i.clearEditor(),ie(e,!1)}).catch(function(){W.a.alert("Произошла ошибка при отправке"),ie(e,!1)})}else o.submit()}))});var se={openCls:"collapse_open",contentCls:"collapse__content",triggerCls:"collapse__trigger"},ce=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){oe(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},se,{},n),this.options=n,this.el=e,this.trigger=Object(Y.l)(".".concat(n.triggerCls),e),this.content=Object(Y.l)(".".concat(n.contentCls),e),this.bindEvents()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){Object(Y.c)(this.trigger,"click",this.toggle.bind(this))}},{key:"toggle",value:function(){Y.g.has(this.el,this.options.openCls)?this.close():this.open()}},{key:"open",value:function(){Y.g.add(this.el,this.options.openCls)}},{key:"close",value:function(){Y.g.remove(this.el,this.options.openCls)}}])&&ae(e.prototype,n),r&&ae(e,r),t}();Object(R.f)(Object(Y.m)(".collapse"),function(t){return new ce(t)});var ue=n("wC5p");Object(Y.m)("[data-tabs-init]").forEach(function(t){var e,n=Object(Y.f)(t,"data-tabs-init");if(n)try{e=JSON.parse(n)}catch(t){console.error(t)}new ue.a(t,e)});var le=n("fK0A");Object(Y.a)(document,"click","[data-toggle-theme]",function(t){t.preventDefault();var e=R.u.get("dark-theme",le.a),n=Object(Y.f)(this,"data-toggle-theme");n||(n=e.enabled?"light":"dark");var r="dark"===n;Object(le.e)(n),e.enabled=r,e.autoEnable=!1,R.u.save("dark-theme",e)});var fe,de,pe,he=n("l4he"),ve=n.n(he),me=n("mlqH"),ge=n("Fwt4"),be=Object(Y.l)(".search"),ye=Object(Y.l)(".search__input",be),_e=Object(Y.l)(".search__types",be);function we(t,e){var n="";return t.rus_name&&(n=ve()(t.rus_name)),t.alt_name&&(n&&(n+=" / "),n+=t.alt_name),C()(n)||(n=Object(v.a)("div",{className:"small text-muted text-truncate"},n)),Object(v.a)("a",{href:"".concat(e),class:"list-item link-default"},t.value,n)}Object(Y.c)(".search .search__type","click",function(t){Oe(Object(Y.h)(t.currentTarget))}),Object(Y.c)("[data-search-toggle]","click",ke),Object(Y.c)(be,"mousedown",function(t){t.target===t.currentTarget&&ke(t)}),Object(Y.c)(ye,"keydown",function(t){if((t.which||t.keyCode)===Ot.f.TAB){var e=Object(Y.l)(".search__type_active",_e),n=Object(Y.h)(e,_e);t.shiftKey?n-=1:n+=1,n<0&&(n=_e.childElementCount-1),n===_e.childElementCount&&(n=0),Oe(n),t.preventDefault()}}),Object(Y.c)(window,"keyup",function(t){var e=t.which||t.keyCode;if(!ye)return;e!==Ot.f.ESC||Y.g.has(be,"hidden")||ke(t)});var xe={manga:function(t){return Object(v.a)("a",{href:"/".concat(t.slug),className:"manga-list-item manga-list-item_sm list-item"},Object(v.a)("div",{className:"manga-list-item__cover"},Object(v.a)("div",{className:"cover cover_responsive cover_shadow",style:"background-image: url(".concat(wt.a.coverThumb(t),")")})),Object(v.a)("div",{className:"manga-list-item__body"},Object(v.a)("div",{className:"manga-list-item__name"},t.rus_name||t.name,Object(v.a)("span",null,t.name||t.eng_name)),Object(v.a)("div",{className:"manga-list-item__meta"},Object(v.a)("span",{className:"manga-list-item__meta-rating","data-rating":"".concat(t.rate_avg>3.5?"positive":"negative")},t.rate_avg),Object(v.a)("span",{className:"manga-list-item__meta-type"},Ot.m[t.type_id]))))},default:function(t){return Object(v.a)("div",{class:"list-item"},t.value)},user:function(t){return Object(v.a)("div",{className:"person-profile list-item"},Object(v.a)("img",{className:"person-profile__avatar avatar avatar_sm avatar_round cover shadow-sm",src:wt.a.avatar(t)}),Object(v.a)("span",{className:"person-profile__name"},t.value))},serie:function(t){var e=null,n=null;return t.items&&t.items.length&&(e=Object(v.a)("div",{className:"search-serie-list"},t.items.map(this.manga)),t.items_count>3&&(n=Object(v.a)("span",null,"показать все ",t.items_count))),Object(v.a)("div",{className:"search-serie-item"},Object(v.a)("div",{className:"search-serie-item__head"},Object(v.a)("div",{className:"search-serie-item__name"},Object(v.a)("a",{href:"/manga-list/?series[]=".concat(t.id),className:"link-default"},t.value,n))),e)},publisher:function(t){return we(t,"/publisher/".concat(t.slug))},author:function(t){return we(t,"/people/".concat(t.id))},anime:function(t){return Object(v.a)("a",{href:"".concat(t.href),className:"manga-list-item manga-list-item_sm list-item"},Object(v.a)("div",{className:"manga-list-item__cover"},Object(v.a)("div",{className:"cover cover_responsive cover_shadow",style:"background-image: url(".concat(t.coverImage,")")})),Object(v.a)("div",{className:"manga-list-item__body"},Object(v.a)("div",{className:"manga-list-item__name"},t.rus_name||t.name,Object(v.a)("span",null,t.name||t.eng_name)),Object(v.a)("div",{className:"manga-list-item__meta"},Object(v.a)("span",{className:"manga-list-item__meta-rating","data-rating":"".concat(t.rate_avg>3.5?"positive":"negative")},t.rate_avg),Object(v.a)("span",{className:"manga-list-item__meta-type"},Ot.m[t.type_id]))))}};function Oe(t){var e=Object(Y.l)(".".concat("search__type_active"),_e);Object(R.p)(t)&&(t=Object(Y.h)(e,_e));var n=_e.children[t],r=Object(Y.f)(n,"data-term");Y.g.remove(e,"search__type_active"),Y.g.add(n,"search__type_active"),pe=Object(Y.f)(n,"data-url"),de=Object(Y.f)(n,"data-type"),ye.value="",ye.focus(),Object(Y.f)(ye,"placeholder","Поиск ".concat(r)),fe.clearSuggestions().cancelRequest().toggleLoading(!1)}function ke(t){t.preventDefault(),Y.g.toggle(be,"hidden");var e=!Y.g.has(be,"hidden");e&&ye.focus(),Object(me.a)(e)}ye&&(fe=new ge.a({el:Object(Y.l)(".autocomplete",be),requestUrl:function(){return"".concat(pe)},renderItem:function(t){return de in xe?xe[de](t):xe.default(t)},onSelect:function(t){var e=t.item,n={team:"/team/".concat(e.slug),user:"/user/".concat(e.id)};if(de in n)return location.assign(n[de])}}),Oe(0));var je=Object(Y.l)(".header_transparent"),Ce=function(){pageYOffset>=30?Y.g.add(je,"header_highlight"):Y.g.remove(je,"header_highlight")};je&&(Object(Y.c)(window,"scroll",Ce),Ce());var Ee=n("08WP"),Se=n.n(Ee),Pe=n("Q/p3"),Ae=n.n(Pe);if(Object(Y.m)("[data-poll]").length){var Te={};Se()("[data-poll]").on("enter",function(t){var e=Object(Y.f)(t,"data-poll");e in Te||(Te[e]=!0,new Ae.a({propsData:{id:e}}))})}function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Le(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var Me,Ie=Object(Y.l)("[data-toggle-subscription]");if(Object(Y.c)("[data-toggle-subscription]","click",function(){var t,e=(t=B.a.mark(function t(e){var n,r,i,o,a,s,c,u,l,f;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentTarget,r=n.closest(".subscribe-el"),i=Y.f.get(n,"data-type-id"),o=Y.f.get(n,"data-source-id"),!Y.g.has(n,"is-loading")){t.next=6;break}return t.abrupt("return");case 6:return Y.g.add(n,"is-loading"),t.prev=7,t.next=10,D.a.post("/subscription",{typeId:i,sourceId:o});case 10:a=t.sent,s=a.data,c=Object(Y.l)("span",n),u=Object(Y.l)('[data-subscribe-counter="'.concat(o,'"]'),r),l=Y.f.get(u,"data-count",{parseNumbers:!0}),Y.g.toggle(n,"is-active",s.active),Y.g.toggle(n,"button_blue",!s.active),u&&(f=s.active?l+1:l-1,u.textContent=f,Object(Y.f)(u,"data-count",f)),s.active?(c.textContent="Вы подписаны",R.u.update("hiddenTooltips",Ne({},"subscriptions.".concat(i),!0))):c.textContent="Подписаться",Me&&Me.destroy(),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(7),W.a.httpError(t.t0,"Упс, произошла ошибка, попробуйте позже");case 25:Y.g.remove(n,"is-loading");case 26:case"end":return t.stop()}},t,null,[[7,22]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Le(o,r,i,a,s,"next",t)}function s(t){Le(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()),Y.f.has(Ie,"data-subscribe-tooltip")){var De=R.u.get("hiddenTooltips",{}),Re=Y.f.get(Ie,"data-type-id"),qe={1:"Присылать уведомления когда команда будет добавлена в новый тайтл",2:"Присылать уведомления о новом тайтле связанным с этой персоной",3:"Присылать уведомления о новом тайтле из этой серии"};if(!("subscriptions.".concat(Re)in De)){var Be=Ie.offsetWidth;null!=Ie.closest(".subscribe-el")&&(Be=Ie.parentNode.offsetWidth),(Me=Object(ht.a)(Ie,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Ne(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Ot.d,{interactive:!0,content:function(t){var e=Y.f.get(t,"data-subscribe-tooltip");return qe[e]},placement:"bottom-start",arrow:!0,hideOnClick:!1,offset:[0,16],appendTo:document.body,maxWidth:Be,onHide:function(t){var e=Y.f.get(t.reference,"data-type-id");R.u.update("hiddenTooltips",Ne({},"subscriptions.".concat(e),!0))}}))).show()}}var Fe=n("39/3"),ze=n.n(Fe);Object(Y.c)("[data-balance-dialog]","click",function(){J.a.open({component:ze.a})});var Ue=n("QX9i"),He=n("KO5a"),$e=n("LiUp"),Ve=n("ln3S"),We=n.n(Ve),Ge=n("f6yZ");if(Ue.a.listContainer){$e.b(),Object(Ue.d)(),Object(Ue.e)();Object(Y.l)("#search_input");Object(He.b)(Ue.a.listContainer),Object(Ue.f)(),Object(Y.c)(".manga-search__input","keyup",function(t){(t.which||t.keyCode)===Ge.a.ENTER&&($e.d.filter.name=t.target.value,$e.d.filter.page=1,Object(Ue.b)())}),Object(Y.c)(Ue.a.sortInputs,"change",function(){$e.d.filter[this.name]=this.value,$e.d.filter.page=1,Object(Ue.b)({preventPushState:null===Ue.a.filterContainer})}),Object(Y.c)(window,"scroll",function(){if(!$e.d.loading&&$e.d.hasNextPage){var t=window.innerHeight;window.pageYOffset+t>=Ue.c-t/2&&($e.d.filter.page=parseInt($e.d.filter.page)+1,Object(Ue.b)({preventPushState:!0}))}},{passive:!0}),Ue.a.filterContainer&&(new We.a).$mount("#manga-list-filter"),Object(Y.c)("#search-filter-button","click",function(){J.a.open({component:We.a})})}var Ye=n("BHJ2"),Ke=n.n(Ye),Ze=n("DaqH"),Je=n.n(Ze);function Xe(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Qe(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tn=Object(Y.l)("#button-change-status");if(tn){var en,nn={dataPresets:{status:Object(Y.f)(tn,"data-status"),mangaId:Object(Y.f)(tn,"data-id"),mangaSlug:Object(Y.f)(tn,"data-slug")},onSelected:function(){Object(Lt.a)(tn,!0),en?en.hide():Mt.a.close()},onChanged:function(t){if(Object(Lt.a)(tn,!1),t.id?Object(Y.f)(tn,"data-status",t.id):Y.f.remove(tn,"data-status"),Object(Y.l)("[data-text]",tn).textContent=t.name||"Добавить в список",Ot.k){var e=Object(Y.l)(".media-bottom-menu__icon",tn);t.color?e.style.color=t.color:e.style.color=""}else t.color?Object(Y.f)(tn,"style","background-color: ".concat(t.color,"; color: ").concat(t.textColor,";")):Y.f.remove(tn,"style")}};if(Ot.k)new Je.a({propsData:nn}),Object(Y.f)(tn,"data-open-modal","#bookmark-change-status-modal"),Object(Y.f)(tn,"tabindex","-1");else{var rn=new Ke.a({propsData:Xe({},nn,{className:"manga-bookmark-menu"})}).$mount();en=Object(ht.a)(tn,Xe({},Ot.e,{interactive:!0,maxWidth:tn.offsetWidth,content:function(){return rn.$el}}))}}var on,an="media-description",sn="".concat(an,"_short"),cn=Object(Y.l)(".".concat(sn));function un(){var t=Object(Y.l)(".media-description__text",cn);if(t.scrollHeight>t.offsetHeight){var e=Object(v.a)("button",{className:"media-description__expand"},"Подробнее...");Object(Y.c)(e,"click",function(t){var e=t.currentTarget,n="".concat(an,"_open");e.textContent=Y.g.has(e,n)?"Подробнее...":"свернуть",Y.g.toggle(cn,sn),Y.g.toggle(e,n)}),cn.appendChild(e)}else Y.g.remove(cn,sn)}function ln(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function fn(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){ln(o,r,i,a,s,"next",t)}function s(t){ln(o,r,i,a,s,"throw",t)}a(void 0)})}}cn&&("IntersectionObserver"in window?(on=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(un(),on.unobserve(cn),on.disconnect&&on.disconnect(),on=null)})})).observe(cn):un());var dn=Object(Y.l)(".manga-rating__stars, .media-rating-stars"),pn=!1;function hn(t){return vn.apply(this,arguments)}function vn(){return(vn=fn(B.a.mark(function t(e){var n,r,i,o,a,s,c,u;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=R.r.get("anime.id",null),r=R.r.get("manga.id",null),i=null,o=null,r?(i=r,o=1):n&&(o=2,i=n),a=R.r.get("auth",!1),s=Object(Y.m)("[data-user-score]"),c=Object(Y.m)("[ data-user-rating]"),a){t.next=10;break}return t.abrupt("return",W.a.error("Авторизуйтесь, чтобы оценить этот тайтл"));case 10:if(i){t.next=12;break}return t.abrupt("return");case 12:return t.prev=12,t.next=15,D.a.post("/save/item_rating",{item_id:i,score:e,type:o});case 15:s.forEach(function(t){return t.textContent=e}),c.forEach(function(t){return Y.g.toggle(t,"hidden",0==e)}),(u=Object(Y.l)(".media-rating-wrap__btn"))&&(Object(Y.n)(u),Y.g.toggle(u,"is-rated",e>0),e>0?(Y.f.remove(u,"data-open-modal"),u.appendChild(Object(v.a)("span",{class:"media-rating-wrap__btn-text-default"},e," - моя оценка")),u.appendChild(Object(v.a)("span",{class:"media-rating-wrap__btn-text-delete"},Object(v.a)("i",{class:"fa fa-trash-o mr-5 text-danger"})," удалить"))):(u.appendChild(Object(v.a)("span",null,Object(v.a)("i",{class:"fa fa-star-o"})," Оценить")),Object(Y.f)(u,"data-open-modal","#rating-modal"))),W.a.confirm("Ваша оценка учтена"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(12),console.error(t.t0),W.a.httpError(t.t0,"Произошла ошибка ваш голос не учелся");case 26:case"end":return t.stop()}},t,null,[[12,22]])}))).apply(this,arguments)}Object(Y.a)(dn,"click","[data-score]",function(){var t=fn(B.a.mark(function t(e,n){var r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!pn){t.next=2;break}return t.abrupt("return");case 2:return r=Object(Y.f)(n,"data-score"),pn=!0,t.next=6,hn(r);case 6:pn=!1;case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),Object(Y.c)(".media-rating-wrap__btn","click",function(){var t=fn(B.a.mark(function t(e){var n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentTarget,!Y.g.has(n,"is-rated")){t.next=5;break}return t.next=4,hn(0);case 4:Object(Y.f)(n,"data-open-modal","#rating-modal");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());var mn=n("AgIj"),gn=n.n(mn),bn=n("KgVm"),yn=n.n(bn),_n=n("b5Da"),wn=Object(Y.m)("[data-slider]"),xn=[],On={align:"start",dragFree:!0,speed:15,containScroll:"trimSnaps"};function kn(t){var e,n=Object(Y.l)(".media-slider",t),r=Object(Y.l)(".media-slider-arrows",t);Object(Y.a)(r,"click","[data-direction]",function(t,n){var r,i=Y.f.get(n,"data-direction"),o=e.slideNodes();"prev"===i?(r=yn()(o,function(t){return Y.g.has(t,"is-selected")}),e.scrollTo(r-2)):(r=gn()(o,function(t){return Y.g.has(t,"is-selected")}),e.scrollTo(r))}),Ot.k?Y.g.add(t,"is-native"):requestAnimationFrame(function(){e=Object(_n.a)(n,On),xn.push(e)})}function jn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}R.b.on("similar.changed",function(){xn.forEach(function(t){t.reInit()})}),wn.forEach(function(t){"IntersectionObserver"in window?new IntersectionObserver(function(t){return function(e){var n=this;e.forEach(function(e){kn(t),e.isIntersecting&&(n.unobserve(t),n.disconnect&&n.disconnect())})}}(t)).observe(t):kn(t)}),Object(Y.c)(".media-tag-item_more","click",function(t){var e=Object(Y.m)(".media-tag-item");Object(R.f)(e,function(t){return Y.g.remove(t,"hidden")}),Y.g.add(t.currentTarget,"hidden")});var Cn={};Object(Y.a)(document,"click",".media-similar-rating",function(){var t,e=(t=B.a.mark(function t(e,n){var r,i,o,a,s,c,u,l,f;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),e.preventDefault(),r=e.target.closest(".media-similar-rating__action")){t.next=5;break}return t.abrupt("return");case 5:if(R.r.get("auth")){t.next=7;break}return t.abrupt("return",W.a.error("Вы не авторизованы"));case 7:if(i=Object(Y.l)(".media-similar-rating__value",n),o=Y.f.get(n,"data-id",{parseNumbers:!0}),a=Y.f.get(r,"data-vote-type",{parseNumbers:!0}),s=Ot.i.isAnime?R.r.get("anime.id"):R.r.get("manga.id"),!Cn[o]){t.next=13;break}return t.abrupt("return");case 13:return Cn[o]=!0,(c=n.querySelector(".is-active"))&&c!=r&&Y.g.remove(c,"is-active"),Y.g.toggle(r,"is-active"),t.prev=17,t.next=20,D.a.post("/similar/vote",{id:o,vote_type:a,item_id:s,type:Ot.i.isAnime?2:1});case 20:u=t.sent,l=u.data,f=l.votes_up-l.votes_down,i.textContent=f,Object(Y.f)(i,"data-votes",f),0===f?Y.f.remove(i,"data-rating"):Object(Y.f)(i,"data-rating",f>0?"positive":"negative"),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(17),W.a.httpError(t.t0,"Ошибка, ваш голос не учёлся");case 31:Cn[o]=!1;case 32:case"end":return t.stop()}},t,null,[[17,28]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){jn(o,r,i,a,s,"next",t)}function s(t){jn(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}());var En=n("AZEo"),Sn=n.n(En),Pn=n("XIFe"),An=n.n(Pn),Tn=n("6l0T"),Nn=n.n(Tn),Ln=n("BsFZ"),Mn=n.n(Ln);Object(Y.l)("#media-chapters-container")&&((new Sn.a).$mount("#media-chapters-container"),Object(Y.c)("#add-similar-item","click",function(t){if(t.preventDefault(),!R.r.get("auth"))return W.a.error("Вы не авторизованы");J.a.open({component:An.a})}),Object(Y.c)(".media-slider__item_more","click",function(t){t.preventDefault(),J.a.open({component:Nn.a})}),Object(Y.d)(".media-info-list__item_alt-names","click",function(t){Y.g.add(t.currentTarget,"is-expanded")}),Object(Y.c)("[data-show-alt-names]","click",function(){var t=R.r.get("manga");J.a.open({component:Mn.a,props:{name:t.name,engName:t.engName,rusName:t.rusName,altNames:t.altNames}})}));Object(Y.l)("#bookmark-migration")&&new Promise(function(t){n.e(28).then(function(e){t(n("pHqb"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t});var In=n("Xitz"),Dn=n.n(In);Object(Y.l)("#media-schedule-container")&&(new Dn.a).$mount("#media-schedule-container");Ot.i.isAnime&&(Object(Y.c)("#add-similar-item","click",function(t){if(t.preventDefault(),!R.r.get("auth"))return W.a.error("Вы не авторизованы");J.a.open({component:An.a})}),Object(Y.c)(".media-slider__item_more","click",function(t){t.preventDefault(),J.a.open({component:Nn.a})}),Object(Y.d)(".media-info-list__item_alt-names","click",function(t){Y.g.add(t.currentTarget,"is-expanded")}),Object(Y.c)("[data-show-alt-names]","click",function(){var t=R.r.get("anime");console.log(t),J.a.open({component:Mn.a,props:{name:t.name,engName:t.engName,rusName:t.rusName,altNames:t.altNames}})}));var Rn=Object(Y.l)("#message-modal");if(Rn){var qn=Object(Y.l)('input[name="subject"]',Rn);Mt.a.on("show",function(){return qn.focus()}),R.b.on("editorSend",function(t){t.message.success.forEach(function(t){W.a.confirm(t)}),qn.value=""})}var Bn=Object(Y.l)(".friends");function Fn(t){var e=t.avatar,n=t.userId,r=t.username,i=t.showRemoveBtn;return Object(v.a)("div",{className:"friends-item",title:r},Object(v.a)("a",{className:"friends-item__avatar-wrap avatar_md",href:"/user/".concat(n)},Object(v.a)("img",{className:"friends-item__avatar avatar avatar_md avatar_circle shadow-sm",alt:r,src:e})),Object(v.a)("div",{className:"friends-item__right"},Object(v.a)("a",{href:"/user/".concat(n),className:"friends-item__name"},r),i&&Object(v.a)("div",{class:"friends-item__remove","data-url":"/user/".concat(n,"/following/unfriend")},"Удалить из друзей")))}function zn(t){return Object(v.a)("div",{className:"friends__empty empty"},t)}var Un=Object(Y.l)(".friends-confirmation");Object(Y.a)(Un,"click","[data-confirmation]",function(t,e){t.preventDefault();var n=Y.f.getObject(e,"data-confirmation","data-recipient","data-url"),r=e.closest(".friends-confirmation__item");if("accept"===n["data-confirmation"]){var i=Object(Y.l)("img",r),o=Y.f.getObject(i,"src","alt","data-id"),a=Object(Y.l)(".friends__empty",Bn);a&&Bn.removeChild(a),Bn.appendChild(Fn({avatar:o.src,userId:o["data-id"],username:o.alt,showRemoveBtn:!0}))}r.parentNode.removeChild(r),Un.childElementCount||Un.appendChild(zn("Нет запросов")),D.a.post(n["data-url"],{recipient_id:n["data-recipient"]})}),Object(Y.a)(Bn,"click",".friends-item__remove",function(t,e){var n=e.closest(".friends-item"),r=Object(Y.l)(".friends-item__name",n),i=Object(Y.f)(e,"data-url");confirm('Удалить пользователя "'.concat(r.textContent,'" из друзей?'))&&(Y.g.has(n,"is-loading")||(Y.g.add(n,"is-loading"),D.a.post(i).then(function(){Bn.removeChild(n),Bn.childElementCount||Bn.appendChild(zn("Никого нет"))}).catch(function(){W.a.alert("Произошла ошибка при удалении"),Y.g.remove(n,"is-loading")})))});var Hn,$n=n("+X65"),Vn=n.n($n);function Wn(){return Object(Y.i)(Bn).bottom-innerHeight/2}function Gn(t,e){var n=Object(v.a)("div",{className:"loader-wrapper"},Object(v.a)("div",{className:"loader-circle"}));return Hn.appendChild(n),D.a.get(t).then(function(t){var r=t.data,i=r.data,o=document.createDocumentFragment();Object(R.f)(i,function(t){o.appendChild(Fn({avatar:t.avatar,userId:t.id,username:t.username,showRemoveBtn:t.btn}))}),Hn.removeChild(n),Bn.appendChild(o),e(r)})}if(Y.f.has(Bn,"data-next-page")){var Yn=Object(Y.f)(Bn,"data-next-page"),Kn=Wn(),Zn=!1;Hn=Bn.parentNode;var Jn=Vn()(function(){Zn||pageYOffset+innerHeight>Kn&&Yn&&(Zn=!0,Gn(Yn,function(t){var e=t.next_page_url;Zn=!1,Yn=e,Kn=Wn(),e||Object(Y.b)(window,"scroll",Jn)}))},200);Object(Y.c)(window,"scroll",Jn)}var Xn=Object(Y.l)("#follow-toggle"),Qn=function(t){Y.g.remove(Xn,t?"button_green":"button_red"),Y.g.add(Xn,t?"button_red":"button_green")};Object(Y.c)(Xn,"click",function(){var t=Object(Y.f)(Xn,"data-follower-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),W.a.alert(t)};D.a.post("/follow",{follower_id:t}).then(function(t){return t.data}).then(function(t){if("success"===t.status){var n='<i class="fa fa-fw fa-{{icon}}"></i>';"удален"===t.message?(n=n.replace("{{icon}}","user-plus"),Xn.innerHTML="".concat(n," Добавить в друзья"),W.a.confirm("Пользователь удален из друзей"),Qn()):(n=n.replace("{{icon}}","user-times"),Xn.innerHTML="".concat(n," Удалить из друзей"),W.a.confirm("Пользователь добавлен в друзья"),Qn(!0))}else e(t.message)}).catch(e)});var tr=Object(Y.l)("#block-toggle");Object(Y.c)(tr,"click",function(){var t=Object(Y.f)(tr,"data-block-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),W.a.alert(t)};D.a.post("/block",{block_id:t}).then(function(t){return t.data}).then(function(t){"success"===t.status?(tr.innerHTML=t.message.icon+" "+t.message.button,W.a.confirm(t.message.message)):e(t.message)}).catch(e)});var er=Object(Y.l)("#send-again-container"),nr=!1;Object(Y.c)(er,"click",function(t){var e=this;t.preventDefault(),this.style.display="none",nr||(nr=!0,D.a.post("/resend-verification").then(function(){return W.a.confirm("Сообщение отправлено на email")}).catch(function(t){var n=t.response,r="Произошла ошибка";n.message&&(r=n.message),nr=!1,e.style.display="",W.a.alert(r)}))});var rr=Object(Y.l)(".settings-tabs");function ir(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){or(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}rr&&new ue.a(rr,{tabListSelector:".menu",tabItemSelector:".menu__item",active:"is-active",history:!0});var ar,sr=Object(Y.l)(".settings-upload .uploader_avatar"),cr=Object(Y.l)(".settings-upload .uploader_background");if(sr||cr){var ur=new Ut.a({el:sr,uploadAfterChange:!1,formData:function(t){t.append("type","user"),t.append("image_category","avatar")},plugins:{preview:{class:Ht.a,config:{confirmRemove:{text:"Вы уверены, что хотите удалить Аватар?"}}},cropper:{class:$t.a,config:{checkSize:{width:110,height:110},checkShowCropper:function(t){var e=t.type;return!/gif/gi.test(e)},options:ir({},Ot.c,{aspectRatio:1}),croppedCanvasData:{minWidth:120,maxWidth:600}}}}}),lr=new Ut.a({el:cr,uploadAfterChange:!1,formData:function(t){t.append("type","user"),t.append("image_category","profileBackground")},plugins:{preview:{class:Ht.a,config:{confirmRemove:{text:"Вы уверены, что хотите удалить Фон?"}}},cropper:{class:$t.a,config:{checkSize:{width:1200,height:220},options:ir({},Ot.c,{aspectRatio:1200/220}),croppedCanvasData:{width:1200}}}}}),fr=function(){return W.a.success("Изменения сохранены")},dr=function(t){return function(){D.a.post("/deleteUserFiles/".concat(window.__USER_ID__),{action:t}),fr()}};ur.on(Vt.a.complete,fr),ur.on(Vt.a.imageRemoved,dr("avatar")),lr.on(Vt.a.complete,fr),lr.on(Vt.a.imageRemoved,dr("cover"))}function pr(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){hr(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vr=R.u.get("dark-theme",{}),mr=pr({},le.a,{},vr),gr=Object(Y.l)(".settings-theme"),br=Object(Y.l)(".settings-theme__mode"),yr=Object(Y.l)(".settings-theme__schedule"),_r=Object(Y.l)(".settings-theme__schedule-times"),wr=Object(Y.l)('[name="time-from"]',gr),xr=Object(Y.l)('[name="time-to"]',gr);function Or(){Y.g.toggle(_r,"is-disabled",!mr.enabled),yr.disabled=!mr.enabled}function kr(t){mr=pr({},mr,{},t),R.u.save("dark-theme",mr);var e=mr.time,n=e.from,r=e.to;if(Or(),mr.enabled&&mr.autoEnable)return Object(le.e)(Object(le.b)(n,r));Object(le.e)(mr.enabled)}function jr(t){return function(e){var n=e.target.value;Object(le.c)(n)&&kr({time:pr({},mr.time,hr({},t,n))})}}gr&&new Promise(function(t){n.e(32).then(function(e){t(n("cQ68"))}.bind(null,n)).catch(n.oe)}).then(function(t){var e,n,r;ar=t.default,n=new ar(wr,e={time:!0,timePattern:["h","m"]}),r=new ar(xr,e),Or(),br.checked=mr.enabled,yr.checked=mr.autoEnable,n.setRawValue(mr.time.from),r.setRawValue(mr.time.to),Object(Y.c)(br,"change",function(){kr({enabled:br.checked})}),Object(Y.c)(yr,"change",function(){kr({autoEnable:yr.checked})}),Object(Y.c)(wr,"input blur",jr("from")),Object(Y.c)(xr,"input blur",jr("to"))});var Cr=n("GAMr"),Er=n.n(Cr);if(Object(Y.l)("#ban-expired-at")&&new Promise(function(t){n.e(29).then(function(e){t(n("axh2"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)("#comments-filter")&&new Promise(function(t){n.e(36).then(function(e){t(n("NuLb"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)("#user-bookmark-list")&&new Promise(function(t){n.e(5).then(function(e){t(n("p6Ak"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)(".messenger-items")&&new Promise(function(t){n.e(34).then(function(e){t(n("NDa3"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)(".ignore-list")&&new Promise(function(t){n.e(35).then(function(e){t(n("TVeU"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)("#balance-log")){var Sr=Object(Y.l)("#balance-log");new Er.a({propsData:{belongsId:Object(Y.f)(Sr,"data-belongs-id"),belongsModel:Object(Y.f)(Sr,"data-belongs-model")}})}var Pr=n("rxKx"),Ar=n.n(Pr),Tr=n("mw3O"),Nr=n.n(Tr);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mr(t,e,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(Lr(r)));var i=!1;return{configurable:!0,get:function(){if(i||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof r)return r;var n=r.bind(this);return i=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return n},set:function(t){r=t,delete this[e]}}),i=!1,n},set:function(t){r=t}}}var Ir,Dr=n("2XyW"),Rr=n("fWMS"),qr=n("1UPi"),Br=n("nctS"),Fr=n("OLx3"),zr=n("PeQm"),Ur=n.n(zr);function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e){return!e||"object"!==Hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wr(t,e,n){return(Wr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gr(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Gr(t){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yr(t,e){return(Yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}var Zr={root:Object(Y.l)(".reader"),header:Object(Y.l)(".header_reader"),headerWrapper:Object(Y.l)(".reader-header__wrapper"),view:Object(Y.l)(".reader-view"),select:Object(Y.l)("#reader-pages"),selectLabel:Object(Y.l)(".reader-pages__label span"),comments:Object(Y.l)(".reader-comments"),commentsDrag:Object(Y.l)(".reader-comments-drag"),imgContainer:Object(Y.l)(".reader-view__container"),brokenImg:Object(Y.l)("#broken-image"),preload:Object(Y.l)(".reader-view__loader"),ads:Object(Y.l)(".ads")};function Jr(t){t.stopPropagation(),Mt.a.show("#reader-settings")}function Xr(t){location.reload(),t instanceof Event&&(t.stopPropagation(),t.preventDefault())}function Qr(t){return Object(Y.l)('[data-p="'.concat(t,'"]'),Zr.imgContainer)}function ti(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return pageYOffset+t.getBoundingClientRect().top-e}var ei=(Kr((Ir=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Object(Rr.a)(),r={theme:"dark",mode:"horizontal",containerWidth:window.innerWidth,imageServer:n.img.server,imageFit:"width",showComments:!1,commentsSize:500,clickTargetArea:"image",disableHeader:!1,caution:!0,turningPage:"image",zoom:"disabled"};return(t=Vr(this,Gr(e).call(this,r))).commentsDrag={size:300,start:!1},t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yr(t,e)}(e,Dr["a"]),n=e,(r=[{key:"checkPageProgress",value:function(){if(!C()(this.data.bookmark)&&!/comm_id/.test(location.search)){var t=parseFloat(this.data.current.number),e=parseFloat(this.data.current.volume),n={num:0,vol:0};if(this.data.bookmark.chapter&&(n.num=parseFloat(this.data.bookmark.chapter.number),n.vol=parseFloat(this.data.bookmark.chapter.volume)),!(n.vol>=e&&n.num>=t)){var r=parseFloat((this.current/this.total).toFixed(2)),i=Math.min(this.total-this.data.initialPage,5);this.current-this.data.initialPage>=i&&r>=.7&&(this.header.autoBookmarkCalled||this.header.addToBookmark(!0))}}}},{key:"findImageSrc",value:function(t){var e=Object(R.d)(this.data.pages,function(e){return t===e.page_slug});return e.serverTries=[this.server],e.currentServer=this.server,this.imageSrc(e.page_image)}},{key:"imageSrc",value:function(t){var e="".concat(this.server,"/").concat(this.data.img.url).concat(t);return e=e.replace(/test\d\./,"")}},{key:"init",value:function(){var t=this;if(this.data.pages.length){this._hideAds(),this.initElements(),this.changePageSelect(),this.renderOptionsForPageSelect(),this.checkPageProgress(),this.bindEvents();var e=Qr(this.current),n=Qr(this.current+1);Y.g.remove(e,"hidden"),this._updateComments(),Fr.a.chapter.totalPages=this.total,this.replaceSrc(e,function(){t.pushState(),t.initScrollObserver(),t.replaceSrc(n),t._showAds()})}}},{key:"pushState",value:function(){var t=Object(R.g)(),e=null;this.isHorizontalMode&&(t.page=this.current,e={page:this.current}),history.pushState(e,null,"".concat(location.pathname,"?").concat(Nr.a.stringify(t)))}},{key:"bindEvents",value:function(){var t=this;Object(Y.a)(".reader-paginate","click","[data-direction]",function(e,n){if(t.isHorizontalMode){var r="next"===Object(Y.f)(n,"data-direction")?t.current+1:t.current-1;t.changePage(r)}}),Object(Y.c)(".reader-view","click",function(e){if(t.isHorizontalMode){var n=t.current,r=e.currentTarget.getBoundingClientRect(),i=e.pageX,o=.42;if("arrow"!==t.settings.turningPage){if("image"===t.settings.clickTargetArea){var a=e.target.closest("img");if(!a){var s=e.target.closest(".reader-view__wrap_error");s&&(a=s)}if(!a)return;o=.35,r=a.getBoundingClientRect(),i=e.pageX-r.left}n=parseFloat((i/r.width).toFixed(1))>o?t.current+1:t.current-1}else n+=1;t.changePage(n)}}),Object(Y.c)('[data-reader-modal="settings"]',"click",function(){J.a.open({component:Ur.a,props:{settings:t.settings}})}),Object(Y.c)(Zr.select,"change",function(){var e=Zr.select.value;if(Zr.select.blur(),t.isHorizontalMode)return t.changePage(e);t.current=e,window.scroll(0,ti(Qr(e),56))}),Object(Y.c)(window,"popstate",function(){if(t.isHorizontalMode){var e=t.current,n=history.state;n&&n.page&&(e=n.page),t.changePage(e,!0)}}),Object(Y.c)("[data-reader-comments-toggler]","click",function(){t.settings.showComments=!t.settings.showComments,R.u.update("reader",t.settings),t.toggleShowComments()}),Object(Y.c)(window,"keyup",function(e){var n=e.keyCode||e.which;if(n===Ge.a.ARROW_LEFT||n===Ge.a.ARROW_RIGHT){var r=document.activeElement;if(r&&(Y.g.has(r,"comment-reply__editor")||Y.g.has(r,"chat-send__area")))return;if(t.isHorizontalMode){var i=n===Ge.a.ARROW_RIGHT?t.current+1:t.current-1;t.changePage(i)}else n===Ge.a.ARROW_LEFT&&t.changeChapter("prev"),n===Ge.a.ARROW_RIGHT&&t.changeChapter("next")}}),Zr.commentsDrag&&(this.mc=new Ar.a(Zr.commentsDrag),this.mc.add(new Ar.a.Pan({direction:Ar.a.DIRECTION_HORIZONTAL})),this.mc.on("panstart",this.changeCommentsSizeStart),this.mc.on("panmove",this.changeCommentsSizeMove),this.mc.on("panend",this.changeCommentsSizeEnd))}},{key:"pageWrapper",value:function(t){var e=t.page_slug,n=Object(v.a)("img",null),r=Object(v.a)("div",{className:"reader-view__wrap".concat(this.isHorizontalMode?" hidden":""),"data-p":e,"data-loaded":"false"},n);return console.log(this.data),(2===this.data.current.status||this.data.current.price>0||5===this.data.media.close_view)&&n.addEventListener("contextmenu",function(t){return t.preventDefault()}),r}},{key:"initElements",value:function(){var t=this,e=document.createDocumentFragment();Object(R.f)(this.data.pages,function(n){e.appendChild(t.pageWrapper(n))}),Zr.preload&&Zr.imgContainer.replaceChild(e,Zr.preload)}},{key:"renderOptionsForPageSelect",value:function(){var t=this;Object(R.f)(this.data.pages,function(e){var n={value:e.page_slug};e.page_slug===t.current&&(n.selected=!0),Zr.select.add(Object(v.a)("option",n,"Страница ",e.page_slug," / ",t.total))}),Y.g.remove(Zr.select.parentNode,"hidden")}},{key:"initScrollObserver",value:function(){var t=this,e=!1;document.elementFromPoint&&(e=!0,this.isHorizontalMode||this.checkPageByPoint(),Object(Y.c)(window,"scroll",Kt()(this.checkPageByPoint,100),{passive:!0})),Se()(".reader-view__wrap").on("enter",function(n){if(!t.isHorizontalMode){var r=n.nextElementSibling;if(!e){var i=Object(Y.f)(n,"data-p");t.current=i,t._updateComments(!0),t.checkPageProgress()}t.replaceSrc(n,function(){return t.replaceSrc(r)})}})}},{key:"initSettings",value:function(){var t=this;Wr(Gr(e.prototype),"initSettings",this).call(this),this.data.pages.length&&(this.data.img.supportWebp||"main"!==this.settings.imageServer||(this.settings.imageServer="compress"),R.b.on("settings.containerWidth",this.setContainerWidth),R.b.on("settings.imageFit",this.setImageFit),R.b.on("settings.imageServer",function(){return location.reload()}),R.b.on("settings.mode",this.modeChanged),R.b.on("settings.clickTargetArea",this.targetAreaChanged),R.b.on("settings.zoom",this.toggleZoomMode.bind(this)),R.b.on("settings.turningPage",function(){return t.toggleNavigationArrows()}),this.toggleZoomMode(),this.setContainerWidth(),this.setImageFit(),this.modeChanged(),this.targetAreaChanged())}},{key:"checkPageByPoint",value:function(){if(!this.isHorizontalMode){var t=Zr.view.offsetWidth,e=window.innerHeight,n=document.elementFromPoint(t/2,e/2);Y.f.has(n,"data-p")||(n=n.closest("[data-p]"));var r=Object(Y.f)(n,"data-p");r&&(this.current=r,this._updateComments(!0),this.checkPageProgress())}}},{key:"changePage",value:function(t,e){var n=this;if((t=parseInt(t,10))>this.total||t<=0)return this.redirectPage(t);var r=Qr(t),i=Qr(this.current),o=t<this.current?"prev":"next";this.current=t,this.header.unpin(),this.header.freeze(),window.scrollTo(0,Object(Y.i)(Zr.imgContainer).top),requestAnimationFrame(function(){requestAnimationFrame(function(){n.header.unfreeze(),0===pageYOffset?n.header.pin():n.header.unpin()})}),this.isHorizontalMode&&this._hideAds(),this._updateComments(),this.checkPageProgress(),Zr.brokenImg.value="".concat(Object(Y.f)(Zr.brokenImg,"data-text")," ").concat(t),document.title=document.title.replace(/\[(.*)\]/,function(){return"[Страница ".concat(t,"]")}),Y.g.add(i,"hidden"),Y.g.remove(r,"hidden"),e||this.pushState(),this.replaceSrc(r,function(){var e="prev"===o?t-1:t+1;n.replaceSrc(Qr(e)),n._showAds()})}},{key:"modeChanged",value:function(){var t=this,e=Qr(this.current),n=Object(Y.m)(".reader-view__wrap");this.toggleBlockByMode(),Object(R.f)(n,function(n){t.isHorizontalMode?(Y.g.add(n,"hidden"),n===e&&Y.g.remove(n,"hidden")):Y.g.remove(n,"hidden")}),this.isHorizontalMode?this.commentsSetSize(""):(window.scroll(0,ti(e,56)),this.isMobile||this.toggleShowComments(this.settings.showComments))}},{key:"toggleShowComments",value:function(){var t=this.settings.showComments,e=this.settings.commentsSize,n="";this.isMobile&&Object(me.a)(t),t&&(this._updateComments(),this.isMobile||this.isHorizontalMode||(n="".concat(e,"px"))),this.setCommentsItemSize(e),this.commentsSetSize(n),Y.g.toggle(document.body,"is-comments-enabled",t)}},{key:"changePageSelect",value:function(){var t="".concat(this.current," / ").concat(this.total);Zr.selectLabel.textContent=this.isMobile?t:"Страница ".concat(t),Zr.select.value=this.current}},{key:"toggleZoomMode",value:function(){Object(Y.f)(document.body,"data-zoom",this.settings.zoom)}},{key:"toggleNavigationArrows",value:function(){var t=Object(Y.l)(".reader-paginate");"arrow"===this.settings.turningPage&&this.isHorizontalMode?Y.g.toggle(t,"hidden",!1):Y.g.toggle(t,"hidden",!0)}},{key:"toggleBlockByMode",value:function(){Object(Y.f)(document.body,"data-mode",this.settings.mode),this.toggleNavigationArrows(),Y.g.toggle(Object(Y.l)("#reader-next"),"hidden",this.isHorizontalMode),Y.g.toggle(document.body,"is-vertical",!this.isHorizontalMode),Y.g.toggle(Object(Y.l)(".reader-comments-toggler"),"hidden",this.isHorizontalMode)}},{key:"redirectPage",value:function(t){return t>this.total?this.changeChapter("next"):t<=0?this.changeChapter("prev"):location.href="/".concat(this.data.media.slug)||"/"}},{key:"changeChapter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",e="/".concat(this.data.media.slug);return this.data[t]&&(e=this.data[t].url),location.href=e}},{key:"replaceSrc",value:function(t,e){var n=this;if(Object(Y.j)(t)){var r=parseInt(Object(Y.f)(t,"data-p")),i=this.findImageSrc(r),o=Object(Y.l)("img",t);if(o){if(!Y.f.has(t,"data-loaded"))return e&&e();o.onload=function(){e&&e(),t.removeAttribute("data-loaded")},o.onerror=function(){n.tryLoadAnotherServer(o,r),e&&e()},o.src=i}}}},{key:"tryLoadAnotherServer",value:function(t,e){var n=this,r=Object(R.d)(this.data.pages,function(t){return e===t.page_slug}),i=null,o=function(t){var e=n.data.servers[t];if(!r.serverTries.some(function(t){return t===e}))return i=e,"break"};for(var a in this.data.servers){if("break"===o(a))break}if(i)t.src=t.src.replace(r.currentServer,i),r.currentServer=i,r.serverTries.push(i);else{var s=Qr(e);t.onload=null,t.onerror=null,Y.g.add(s,"reader-view__wrap_error"),Y.f.remove(s,"data-loaded"),s.replaceChild(this.errorMessage(r.serverTries.length),t)}}},{key:"changeCommentsSizeStart",value:function(){var t=Zr.comments.offsetWidth;this.commentsDrag.start=!0,this.commentsDrag.size=t}},{key:"changeCommentsSizeMove",value:function(t){var e=this;this.commentsDrag.start&&requestAnimationFrame(function(){var n=e.commentsDrag.size-t.deltaX,r=Object(qr.a)(n,400,800),i="".concat(r,"px");e.commentsDrag.current=r,e.commentsSetSize(i)})}},{key:"changeCommentsSizeEnd",value:function(){this.commentsDrag.start&&(this.settings.commentsSize=this.commentsDrag.current,this.commentsDrag.start=!1,this.setCommentsItemSize(this.commentsDrag.current))}},{key:"commentsSetSize",value:function(t){Zr.comments&&(Zr.comments.style.width=t,Zr.root.style.paddingRight=t,Zr.headerWrapper.style.paddingRight=t)}},{key:"setCommentsItemSize",value:function(t){this.isMobile||Y.g.toggle(Zr.comments,"is-small",t<=550)}},{key:"setContainerWidth",value:function(t){"width"===this.settings.imageFit?Zr.imgContainer.style.maxWidth="".concat(t,"px"):Zr.imgContainer.style.maxWidth=""}},{key:"setImageFit",value:function(){Object(Y.f)(document.body,"data-image-fit",this.settings.imageFit),this.setContainerWidth(this.settings.containerWidth)}},{key:"targetAreaChanged",value:function(){Object(Y.f)(document.body,"data-target-area",this.settings.clickTargetArea)}},{key:"errorMessage",value:function(t){return Object(v.a)("div",{className:"reader-image-error"},"Произошла ошибка при загрузке изображения ",Object(v.a)("br",null),"Попробуйте сменить сервер в",Object(v.a)("span",{onClick:Jr}," Настройках ",Object(v.a)("i",{className:"fa fa-cog"})),Object(v.a)("br",null),"или ",Object(v.a)("span",{onClick:Xr},Object(v.a)("i",{className:"fa fa-refresh"})," перезагрузить")," страницу ",Object(v.a)("br",null),t&&Object(v.a)("small",{className:"text-muted"},"Количество попыток ",t))}},{key:"_updateComments",value:function(t){t&&!this.settings.showComments||R.b.emit(Br.a.changePage,this.current)}},{key:"_showAds",value:function(){Zr.ads&&(Zr.ads.style.opacity="",Zr.ads.style.visibility="")}},{key:"_hideAds",value:function(){this.isHorizontalMode&&Zr.ads&&(Zr.ads.style.opacity=0,Zr.ads.style.visibility="hidden")}},{key:"isHorizontalMode",get:function(){return"horizontal"===this.settings.mode}},{key:"total",get:function(){return this.data.pages.length}},{key:"server",get:function(){return this.data.servers[this.settings.imageServer]}},{key:"current",get:function(){return this.data.page},set:function(t){return t=parseInt(t,10),this.data.page=t,this.changePageSelect(),t}},{key:"isMobile",get:function(){return window.matchMedia("(max-width: 768px)").matches}}])&&$r(n.prototype,r),i&&$r(n,i),e}()).prototype,"checkPageByPoint",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"checkPageByPoint"),Ir.prototype),Kr(Ir.prototype,"modeChanged",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"modeChanged"),Ir.prototype),Kr(Ir.prototype,"toggleShowComments",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"toggleShowComments"),Ir.prototype),Kr(Ir.prototype,"changeCommentsSizeStart",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"changeCommentsSizeStart"),Ir.prototype),Kr(Ir.prototype,"changeCommentsSizeMove",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"changeCommentsSizeMove"),Ir.prototype),Kr(Ir.prototype,"changeCommentsSizeEnd",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"changeCommentsSizeEnd"),Ir.prototype),Kr(Ir.prototype,"setContainerWidth",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"setContainerWidth"),Ir.prototype),Kr(Ir.prototype,"setImageFit",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"setImageFit"),Ir.prototype),Kr(Ir.prototype,"targetAreaChanged",[Mr],Object.getOwnPropertyDescriptor(Ir.prototype,"targetAreaChanged"),Ir.prototype),Ir);"manga"===document.documentElement.getAttribute("data-reader")&&new ei;var ni=n("sm/b"),ri=n.n(ni);function ii(t){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ai(t,e){return!e||"object"!==ii(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function si(t,e,n){return(si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ci(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ci(t){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ui(t,e){return(ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var li={root:Object(Y.l)(".reader"),container:Object(Y.l)(".reader-container"),buttons:Object(Y.l)("#reader-next"),comments:Object(Y.l)(".reader-comments")},fi=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return ai(this,ci(e).call(this,{theme:"light",font:"Helvetica",fontSize:16,lineHeight:1.6,containerWidth:840,paragraphOffset:10,textIndent:"disabled",color:{text:"#ffffff",background:"#000000"}}))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ui(t,e)}(e,Dr["a"]),n=e,(r=[{key:"init",value:function(){var t=this;this.createStyleElement(),Y.g.remove(li.container,"hidden"),Y.g.remove(li.buttons,"hidden"),Y.g.remove(li.comments,"hidden"),Object(Y.c)('[data-reader-modal="settings"]',"click",function(){J.a.open({component:ri.a,props:{settings:t.settings}})}),this.bindEvents()}},{key:"createStyleElement",value:function(){this.style=document.createElement("style"),document.head.appendChild(this.style)}},{key:"initSettings",value:function(){si(ci(e.prototype),"initSettings",this).call(this),R.b.on("settings",this.setStyles.bind(this)),this.setStyles()}},{key:"bindEvents",value:function(){var t=this;if(Object(Y.c)(window,"keyup",function(e){var n=e.keyCode||e.which,r=document.activeElement;if(!r||!Y.g.has(r,"comment-reply__editor")&&!Y.g.has(r,"chat-send__area"))return n===Ge.a.ARROW_LEFT?t.changeChapter("prev"):n===Ge.a.ARROW_RIGHT?t.changeChapter("next"):void 0}),!C()(this.data.bookmark)){if(this.data.bookmark.dsc){var e=this.data.current.volume-this.data.bookmark.dsc.volume,n=this.data.current.number-this.data.bookmark.dsc.number;if(this.data.bookmark.dsc.volume<this.data.current.volume||0===e&&n>4||0===e&&n<0)return}if(!C()(this.data.bookmark)){var r=V()(this.data.bookmark,"dsc.index",this.data.current.index),i=this.data.current.index-r;if(i<0||i>5)return;/comm_id/.test(location.search)||(this._checkProgress=this.checkProgress.bind(this),window.addEventListener("scroll",this._checkProgress,{passive:!0}),this._checkProgress())}}}},{key:"changeFont",value:function(t){var e="Helvetica"===t?"sans-serif":"serif";li.container.style.fontFamily="".concat(t,", ").concat(e)}},{key:"toggleIndent",value:function(t){var e="1.2em";"disabled"===t&&(e=""),this.setStyle("textIndent","")(e)}},{key:"setStyle",value:function(t,e){return function(n){var r="".concat(n).concat(e);li.container.style[t]=r}}},{key:"setStyles",value:function(){var t=["max-width: ".concat(this.settings.containerWidth,"px !important;"),"font-size: ".concat(this.settings.fontSize,"px;"),"font-family: ".concat(this.settings.font,";"),"line-height: ".concat(this.settings.lineHeight,";")],e=["margin-bottom: ".concat(this.settings.paragraphOffset,"px;")];"enabled"===this.settings.textIndent&&t.push("text-indent: 1.2em;");var n=".reader-container { ".concat(t.join("")," } ");n+=".reader-container p { ".concat(e.join("")," } "),this.style.textContent=n}},{key:"updateElValue",value:function(t,e){Object(Y.l)(".reader-settings__".concat(e)).textContent="[".concat(t,"]")}},{key:"checkProgress",value:function(){var t=Object(Y.i)(li.container);window.pageYOffset>t.bottom/2&&(this.header.autoBookmarkCalled||this.header.addToBookmark(!0),window.removeEventListener("scroll",this._checkProgress,{passive:!0}))}}])&&oi(n.prototype,r),i&&oi(n,i),e}();function di(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}"ranobe"===document.documentElement.getAttribute("data-reader")&&new fi;var vi=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){pi(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Object(Rr.a)()),this.addToBookmarkButton=Object(Y.l)("#add-chapter-bookmark"),Object(Y.c)(this.addToBookmarkButton,"click",function(){return e.addToBookmark()})}var e,n,r;return e=t,(n=[{key:"addToBookmark",value:function(){var t,e=(t=B.a.mark(function t(e){var n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addBookmarkLoading){t.next=2;break}return t.abrupt("return");case 2:return n={episode_id:this.data.current.id,media_id:this.data.media.id},this.toggleLoading(!0),Y.g.add(this.addToBookmarkButton,"is-marked","is-animated"),t.prev=5,t.next=8,D.a.post("/anime/bookmark",n);case 8:e?this.autoBookmarkCalled=!0:W.a.confirm("Закладка добавлена"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(5),console.error(t.t0),Y.g.remove(this.addToBookmarkButton,"is-marked","is-animated");case 15:this.toggleLoading(!1);case 16:case"end":return t.stop()}},t,this,[[5,11]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){di(o,r,i,a,s,"next",t)}function s(t){di(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()},{key:"toggleLoading",value:function(t){var e=this;this.addBookmarkLoading=t,!t&&this.addToBookmarkButton._tippy&&setTimeout(function(){e.addToBookmarkButton._tippy.hide()},300)}}])&&hi(e.prototype,n),r&&hi(e,r),t}();function mi(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}"anime"===document.documentElement.getAttribute("data-reader")&&new vi;var gi=!1;function bi(){return yi.apply(this,arguments)}function yi(){var t;return t=B.a.mark(function t(){var e,n,r,i;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=Object(Y.m)("[data-reader-like]")).length){t.next=3;break}return t.abrupt("return");case 3:if(n=e[0],!Y.g.has(n,"is-liked")&&!gi){t.next=6;break}return t.abrupt("return");case 6:if(Y.f.has(n,"data-id")||Y.f.has(n,"data-chapter-id")){t.next=8;break}return t.abrupt("return",W.a.alert("Вы не авторизованы"));case 8:return r=Y.f.get(n,"data-chapter-id",{parseNumbers:!0}),i=Y.f.get(n,"data-id",{parseNumbers:!0}),Object(R.f)(e,function(t){Y.g.add(t,"is-liked","is-animated");var e=Object(Y.l)("[data-like-count]",t),n=parseInt(e.textContent);e.textContent=isNaN(n)?1:n+1}),gi=!0,t.prev=12,t.next=15,D.a.post("/chapter/like",{chapterId:r,mediaId:i});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(12),console.error(t.t0);case 20:gi=!1;case 21:case"end":return t.stop()}},t,null,[[12,17]])}),(yi=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){mi(o,r,i,a,s,"next",t)}function s(t){mi(o,r,i,a,s,"throw",t)}a(void 0)})}).apply(this,arguments)}Object(Y.c)("[data-reader-like]","click",bi),R.b.on("chapter.like",bi);var _i=n("MOhZ"),wi=n.n(_i),xi=n("DFAc"),Oi=n.n(xi),ki=n("5tRv"),ji=n.n(ki),Ci=n("d/zx"),Ei=n.n(Ci);if(Object(Y.c)("#show-buy-chapter","click",function(){if(!R.r.get("auth"))return Mt.a.show("#sign-in-modal"),void W.a.error("Необходима авторизация");J.a.open({component:ji.a,props:{defaultStep:"confirm",selected:[R.r.get("current.id")]}})}),Object(Y.c)("#show-buy-chapters","click",function(){if(!R.r.get("auth"))return Mt.a.show("#sign-in-modal"),void W.a.error("Необходима авторизация");J.a.open({component:ji.a,props:{selected:[R.r.get("current.id")]}})}),Object(Y.c)("#show-buy-volume","click",function(){if(!R.r.get("auth"))return Mt.a.show("#sign-in-modal"),void W.a.error("Необходима авторизация");J.a.open({component:Oi.a,props:{selected:[R.r.get("current.chapter_volume")]}})}),Object(Y.c)("[data-reader-donate]","click",function(){if(!R.r.get("auth"))return Mt.a.show("#sign-in-modal"),void W.a.error("Вы не авторизованы");J.a.open({component:Ei.a,props:{}})}),Object(Y.l)("#unlock-chapter")&&new Q.a({el:"#unlock-chapter",render:function(t){return t(wi.a)}}),Object(Y.l)(".forum")){var Si=Object(Y.l)(".forum-action-menu"),Pi=Object(Y.l)("#selected-items"),Ai=[].slice.call(Object(Y.m)("input[data-select]"));Object(Y.c)("form[data-actions-form]","submit",function(t){var e=t.target,n=Object(Y.l)('input[name="_method"]',e),r=Object(Y.l)('select[name="action"]',e),i=Object(Y.l)('button[type="submit"]',e),o=r.options[r.selectedIndex];if(Y.f.has(o,"data-confirm")&&!confirm("Вы уверены?"))return t.preventDefault();Y.f.has(o,"data-method")?n.value=Object(Y.f)(o,"data-method"):n.value="patch",Object(Lt.a)(i,!0)}),Object(Y.c)(Ai,"change",function(t){var e=t.currentTarget;if(Y.g[Ai.some(function(t){return t.checked})?"remove":"add"](Si,"hidden"),e.checked)Pi.add(Object(v.a)("option",{value:e.value,selected:!0}));else{var n=Object(Y.l)('option[value="'.concat(e.value,'"]'),Pi),r=Object(Y.h)(n,Pi);Pi.remove(r)}}),Object(Y.c)("select.form-action","change",function(t){var e=t.currentTarget,n=e.value,r=e.closest("form");Object(Y.m)("[data-depends]",r).forEach(function(t){var e=Object(Y.f)(t,"data-depends")===n?"remove":"add";Y.g[e](t,"hidden")})}),Object(Y.a)(Si,"click","[data-target]",function(t,e){var n=Object(Y.f)(e,"data-target"),r=Object(Y.l)("#thread-action"),i=Object(Y.l)("#actions-submit");if(r.value=n,t.preventDefault(),"move"===n)return Mt.a.show("#thread-action-modal");i.click()})}var Ti=Object(Y.l)(".forum .header"),Ni=function(){0!==pageYOffset?Y.g.add(Ti,"header_highlight"):Y.g.remove(Ti,"header_highlight")};Ti&&(Object(Y.c)(window,"scroll",Ni),Ni()),Object(Y.l)("#moderation-container")&&new Promise(function(t){n.e(3).then(function(e){t(n("mkVr"))}.bind(null,n)).catch(n.oe)});var Li,Mi=n("oG8a"),Ii=window.__LATEST_POST;function Di(){var t=R.u.get("viewedPosts",[]);"string"==typeof t&&(t=[t]),t.unshift(Ii.slug),R.u.save("viewedPosts",t.slice(0,4))}null!=Ii&&("string"==typeof(Li=R.u.get("viewedPosts",[]))&&(Li=[Li]),-1===Li.indexOf(Ii.slug))&&R.u.supported&&Mi.default.info(Ii.title,{closeable:!0,onClose:Di,onClick:function(){Di(),location.assign(Ii.link)}}),Object(Y.a)(document,"click","[data-ban-hammer]",function(t,e){var r=Y.f.get(e,"data-user-id",{parseNumbers:!0}),i=Object(Y.f)(e,"data-ban-hammer"),o=Object(Y.f)(e,"data-ban-reason"),a=Object(Y.f)(e,"data-expired-at");Q.a.prototype.$dialog.open({component:function(){return new Promise(function(t){n.e(0).then(function(e){t(n("i4fl"))}.bind(null,n)).catch(n.oe)})},props:{userId:r,banId:i,reason:o,expiredAt:a}})});var Ri=Object(Y.l)("#ban-list");Ri&&new Promise(function(t){n.e(25).then(function(e){t(n("1rjF"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t({propsData:{userId:Object(Y.f)(Ri,"data-user-id")}}).$mount(Ri)});var qi,Bi=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function Fi(t,e){navigator.onLine||t("offline"),t("error",e)}function zi(t,e,n){navigator.serviceWorker.register(t,n).then(function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}}).catch(function(t){return Fi(e,t)})}function Ui(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}"undefined"!=typeof window&&(qi="undefined"!=typeof Promise?new Promise(function(t){return window.addEventListener("load",t)}):{then:function(t){return window.addEventListener("load",t)}});var Hi=Object(Y.l)("#push-sub-toggle");function $i(t){Hi&&(Hi.disabled=t)}function Vi(t){if(Hi){var e=Hi.closest(".form__field"),n=document.createElement("div");n.className="form__error",n.textContent=t,$i(!0),e.appendChild(n)}}function Wi(t){var e=t.getKey("p256dh"),n=t.getKey("auth"),r={endpoint:t.endpoint,key:e?btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,token:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null};$i(!0),D.a.post("/subscriptions",r).then(function(){return $i(!1)}).catch(function(){return $i(!1)})}function Gi(){navigator.serviceWorker.ready.then(function(t){var e={userVisibleOnly:!0},n=window._PushData.vapidPublicKey;n&&(e.applicationServerKey=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}(n)),t.pushManager.subscribe(e).then(Wi).catch(function(t){"denied"===Notification.permission?console.error("Permission for Notifications was denied"):console.error("Unable to subscribe to push.",t),Hi.checked=!1})}).catch(console.error)}function Yi(){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t&&t.unsubscribe().then(function(){!function(t){$i(!0),D.a.post("/subscriptions/delete",{endpoint:t.endpoint}).then(function(){return $i(!1)}).catch(function(){return $i(!1)})}(t)}).catch(console.error)}).catch(console.error)})}!function(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var r=function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&qi.then(function(){Bi()?(function(t,e,n){fetch(t).then(function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),Ui()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),Ui()):zi(t,e,n)}).catch(function(t){return Fi(e,t)})}(t,r,n),navigator.serviceWorker.ready.then(function(t){r("ready",t)})):(zi(t,r,n),navigator.serviceWorker.ready.then(function(t){r("ready",t)}))})}("/sw.js?id=194VnamYVnux",{registered:function(t){console.log("ServiceWorker register success: VERSION zYSzrfJPcENh",t.scope),function(t){if(Hi){if("showNotification"in ServiceWorkerRegistration.prototype)return"denied"===Notification.permission?(Vi('Вы заблокировали "push" уведомления'),void console.error("The user has blocked notifications.")):"PushManager"in window?void t.pushManager.getSubscription().then(function(t){Hi&&(Hi.checked=null!==t),t&&Wi(t)}).catch(console.error):(console.error("Push messaging isn't supported."),void Vi('Ваш браузер не поддерживает "push" уведомления'));console.error("Notifications aren't supported.")}}(t)},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},error:function(t){console.log("ServiceWorker registration failed: ",t)}}),"serviceWorker"in navigator?Object(Y.c)(Hi,"change",function(t){t.target.checked?Gi():Yi()}):Vi('Ваш браузер не поддерживает "push" уведомления'),function(){switch(Object(Y.f)(document.body,"data-page")){case"news-editor":new Promise(function(t){n.e(23).then(function(e){t(n("pG0S"))}.bind(null,n)).catch(n.oe)});break;case"chapter-editor":new Promise(function(t){n.e(8).then(function(e){t(n("/1KW"))}.bind(null,n)).catch(n.oe)}),new Promise(function(t){n.e(10).then(function(e){t(n("dg9y"))}.bind(null,n)).catch(n.oe)});break;case"manga-edit":new Promise(function(t){n.e(4).then(function(e){t(n("6kr0"))}.bind(null,n)).catch(n.oe)});break;case"home":new Promise(function(t){n.e(22).then(function(e){t(n("cGnW"))}.bind(null,n)).catch(n.oe)});break;case"faq":new Promise(function(t){n.e(1).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)});break;case"tags":new Promise(function(t){n.e(14).then(function(e){t(n("ATs1"))}.bind(null,n)).catch(n.oe)});break;case"forum":new Promise(function(t){n.e(6).then(function(e){t(n("m40e"))}.bind(null,n)).catch(n.oe)});break;case"polls-editor":new Promise(function(t){n.e(20).then(function(e){t(n("J9TZ"))}.bind(null,n)).catch(n.oe)});break;case"team-show":new Promise(function(t){n.e(18).then(function(e){t(n("Z8Vr"))}.bind(null,n)).catch(n.oe)});break;case"team-edit":new Promise(function(t){n.e(11).then(function(e){t(n("7Kgl"))}.bind(null,n)).catch(n.oe)});break;case"people-show":new Promise(function(t){n.e(21).then(function(e){t(n("83wz"))}.bind(null,n)).catch(n.oe)});break;case"publisher-show":new Promise(function(t){n.e(24).then(function(e){t(n("2W3x"))}.bind(null,n)).catch(n.oe)});break;case"character-show":new Promise(function(t){n.e(30).then(function(e){t(n("uDAS"))}.bind(null,n)).catch(n.oe)});break;case"player-show":new Promise(function(t){n.e(13).then(function(e){t(n("ihJx"))}.bind(null,n)).catch(n.oe)});break;case"episode-create":new Promise(function(t){n.e(16).then(function(e){t(n("/aYI"))}.bind(null,n)).catch(n.oe)});break;case"episode-create-multiple":new Promise(function(t){n.e(15).then(function(e){t(n("l7ib"))}.bind(null,n)).catch(n.oe)});break;case"episode-edit":new Promise(function(t){n.e(19).then(function(e){t(n("6Mx1"))}.bind(null,n)).catch(n.oe)});break;case"episode-self-moderation":new Promise(function(t){n.e(9).then(function(e){t(n("KrNw"))}.bind(null,n)).catch(n.oe)})}}(),Object(Y.l)("#faq-page")&&new Promise(function(t){n.e(1).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)}),Object(Y.l)("#caution-dialog")&&(J.a.disable(),J.a.open({component:Z.a}))},abp6:function(t,e,n){var r=n("VU/8")(n("qE8S"),n("50oC"),!1,null,null,null);t.exports=r.exports},aewn:function(t,e,n){var r=n("VU/8")(n("URoz"),n("Bl36"),!1,function(t){n("oFv0")},null,null);t.exports=r.exports},agim:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).has(t)}},alMs:function(t,e,n){"use strict";var r=n("iSNJ"),i=n("Jaym");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){var t,n,r,i,a,u,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return r=this,n=!(i=(t=s(e)).call.apply(t,[this].concat(d)))||"object"!==o(i)&&"function"!=typeof i?c(r):i,a=c(n),l=!1,(u="isDisabled")in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,n}var l,d,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["a"]),l=e,(d=[{key:"open",value:function(t){Object(r.c)(),this.emit(f.open,t)}},{key:"close",value:function(t){this.emit(f.close,t)}},{key:"confirm",value:function(t){this.open({component:function(){return new Promise(function(t){n.e(26).then(function(e){t(n("f5jS"))}.bind(null,n)).catch(n.oe)})},props:t})}},{key:"disable",value:function(){this.isDisabled=!0,this.emit(f.disable)}},{key:"enable",value:function(){this.isDisabled=!1,this.emit(f.enable)}}])&&a(l.prototype,d),p&&a(l,p),e}(),f={open:"open",close:"close",disable:"disable",enable:"enable",confirm:"confirm"};e.a=new l},aqbq:function(t,e,n){var r=n("odTk"),i=n("hcE8"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},arOy:function(t,e,n){var r,i,o;function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),i={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null},o=function(t,e){return t.getAttribute("data-"+e)},s=function(t,e,n){var r="data-"+e;null!==n?t.setAttribute(r,n):t.removeAttribute(r)},c=function(t){return"true"===o(t,"was-processed")},u=function(t,e){return s(t,"ll-timeout",e)},l=function(t){return o(t,"ll-timeout")},f=function(t,e){var n,r=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},d=function(t,e){t&&t(e)},p=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&d(t._settings.callback_finish)},h=function(t){for(var e,n=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&n.push(e);return n},v=function(t,e,n){n&&t.setAttribute(e,n)},m=function(t,e){v(t,"sizes",o(t,e.data_sizes)),v(t,"srcset",o(t,e.data_srcset)),v(t,"src",o(t,e.data_src))},g={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&h(n).forEach(function(t){m(t,e)}),m(t,e)},IFRAME:function(t,e){v(t,"src",o(t,e.data_src))},VIDEO:function(t,e){h(t).forEach(function(t){v(t,"src",o(t,e.data_src))}),v(t,"src",o(t,e.data_src)),t.load()}},b=function(t,e){r?t.classList.add(e):t.className+=(t.className?" ":"")+e},y=function(t,e,n){t.addEventListener(e,n)},_=function(t,e,n){t.removeEventListener(e,n)},w=function(t,e,n){_(t,"load",e),_(t,"loadeddata",e),_(t,"error",n)},x=function(t,e,n){var i=n._settings,o=e?i.class_loaded:i.class_error,a=e?i.callback_loaded:i.callback_error,s=t.target;!function(t,e){r?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,i.class_loading),b(s,o),d(a,s),p(n,-1)},O=["IMG","IFRAME","VIDEO"],k=function(t,e){var n=e._observer;C(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},j=function(t){var e=l(t);e&&(clearTimeout(e),u(t,null))},C=function(t,e,n){var r=e._settings;!n&&c(t)||(O.indexOf(t.tagName)>-1&&(function(t,e){var n=function n(i){x(i,!0,e),w(t,n,r)},r=function r(i){x(i,!1,e),w(t,n,r)};!function(t,e,n){y(t,"load",e),y(t,"loadeddata",e),y(t,"error",n)}(t,n,r)}(t,e),b(t,r.class_loading)),function(t,e){var n,r,i=e._settings,a=t.tagName,s=g[a];if(s)return s(t,i),p(e,1),void(e._elements=(n=e._elements,r=t,n.filter(function(t){return t!==r})));!function(t,e){var n=o(t,e.data_src),r=o(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),r&&(t.style.backgroundImage=r)}(t,i)}(t,e),function(t){s(t,"was-processed","true")}(t),d(r.callback_reveal,t),d(r.callback_set,t))},E=function(t){return!!n&&(t._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e){var n=e._settings;d(n.callback_enter,t),n.load_delay?function(t,e){var n=e._settings.load_delay,r=l(t);r||(r=setTimeout(function(){k(t,e),j(t)},n),u(t,r))}(t,e):k(t,e)}(e.target,t):function(t,e){var n=e._settings;d(n.callback_exit,t),n.load_delay&&j(t)}(e.target,t)})},{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},S=function(t,e){this._settings=function(t){return a({},i,t)}(t),this._loadingCount=0,E(this),this.update(e)};return S.prototype={update:function(t){var n=this,r=this._settings,i=t||r.container.querySelectorAll(r.elements_selector);this._elements=Array.prototype.slice.call(i).filter(function(t){return!c(t)}),!e&&this._observer?this._elements.forEach(function(t){n._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){C(t,this,e)},loadAll:function(){var t=this;this._elements.forEach(function(e){k(e,t)})}},t&&function(t,e){if(e)if(e.length)for(var n,r=0;n=e[r];r+=1)f(t,n);else f(t,e)}(S,window.lazyLoadOptions),S},"object"===s(e)&&void 0!==t?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},aske:function(t,e,n){var r=n("aqbq"),i=n("gLsf"),o=n("fTzd"),a=n("5+O3");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},asqq:function(t,e,n){var r=n("q0qZ"),i=n("1rEs"),o=n("C1ru");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},b5Da:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){var e=t.viewSize,n=t.align,r={start:function(){return 0},center:function(t){return i(t)/2},end:i};function i(t){return e-t}return{measure:function(t){return"number"==typeof n?e*Number(n):r[n](t)}}}function o(t){var e=t.start,n=t.limit,r=t.loop,i=n.min,a=n.max,s=n[r?"loop":"constrain"],c=s(e);function u(){return c}function l(t){return c=s(t),f}var f={add:function t(e){if(0!==e){var n=e/Math.abs(e);return l(u()+n),t(e+-1*n)}return f},clone:function(){return o({start:u(),limit:n,loop:r})},get:u,max:a,min:i,set:l};return f}function a(t){var e=t;function n(t){return e/=t,i}function r(t){return"number"==typeof t?t:t.get()}var i={add:function(t){return e+=r(t),i},divide:n,get:function(){return e},multiply:function(t){return e*=t,i},normalize:function(){return 0!==e&&n(e),i},set:function(t){return e=r(t),i},subtract:function(t){return e-=r(t),i}};return i}function s(t){var e=a(n(t));function n(t){return 0===t?0:t/Math.abs(t)}var r={get:e.get,set:function(t){var i=n(t.get());return 0!==i&&e.set(i),r}};return r}function c(){var t=[];var e={add:function(n,r,i,o){return void 0===o&&(o=!1),n.addEventListener(r,i,o),t.push(function(){return n.removeEventListener(r,i,o)}),e},removeAll:function(){return t=t.filter(function(t){return t()}),e}};return e}function u(t){var e=t.min,n=t.max,r=Math.abs(e-n);function i(t){return t<e}function o(t){return t>n}function a(t){return i(t)||o(t)}return{constrain:function(t){return a(t)?i(t)?e:n:t},length:r,loop:function(t){return a(t)?i(t)?n:e:t},max:n,min:e,reachedAny:a,reachedMax:o,reachedMin:i,removeOffset:function(t){if(e===n)return t;for(;i(t);)t+=r;for(;o(t);)t-=r;return t}}}function l(t){var e=t.target,n=t.scrollBody,r=t.dragFree,i=t.animation,o=t.axis,l=t.element,f=t.dragTracker,d=t.location,p=t.events,h=t.limit,v=o.scroll,m=o.cross,g=["INPUT","SELECT","TEXTAREA"],b=a(0),y=a(0),_=a(0),w=c(),x=c(),O={mouse:2.5,touch:3.5},k={mouse:5,touch:7},j=r?5:12,C=4,E=u({min:h.min-70,max:h.max+70}),S=!1,P=!1,A=!1,T=!1;function N(t){if(!(T="mousedown"===t.type)||0===t.button){var r,i,o=I(e.get(),d.get())>=2,a=T||!o,s=(r=t.target,i=r.nodeName||"",!(g.indexOf(i)>-1)),c=o||T&&s;S=!0,f.pointerDown(t),_.set(e),e.set(d),n.useDefaultMass().useSpeed(80),function(){var t=T?document:l;x.add(t,"touchmove",L).add(t,"touchend",M).add(t,"mousemove",L).add(t,"mouseup",M)}(),b.set(f.readPoint(t,v)),y.set(f.readPoint(t,m)),p.emit("pointerDown"),a&&(A=!1),c&&t.preventDefault()}}function L(n){if(!P&&!T){if(!n.cancelable)return M();var r=f.readPoint(n,v).get(),o=f.readPoint(n,m).get(),a=I(r,b.get()),s=I(o,y.get());if(!(P=a>s)&&!A)return M()}var c=f.pointerMove(n),u=h.reachedAny(d.get()),l=!t.loop&&u?2:1;!A&&c&&(A=!0),i.start(),e.add(c/l),n.preventDefault()}function M(){var i,o,a,c=t.scrollTo,u=f.pointerUp()*(r?k:O)[T?"mouse":"touch"],l=function(n){var i=t.scrollTarget,o=t.index,a=!(i.byDistance(0,!1).index!==o.get())&&Math.abs(n)>C,c=n+d.get();if(a&&!r&&!h.reachedAny(c)){var u=o.clone().add(-1*s(n).get());return i.byIndex(u.get(),0).distance}if(!t.loop&&E.reachedAny(c)){var l=E.reachedMax(c)?"max":"min";return E[l]-e.get()}return i.byDistance(n,!r).distance}(u),v=(i=u,o=l,a=I(Math.abs(i),Math.abs(o)),Math.abs(i)<=Math.abs(o)?0:0===i||0===o?0:Math.abs(a/i));I(e.get(),_.get())>=.5&&!T&&(A=!0),P=!1,S=!1,x.removeAll(),n.useSpeed(j+j*v),c.distance(l,!r),T=!1,p.emit("pointerUp")}function I(t,e){return Math.abs(t-e)}function D(t){A&&t.preventDefault()}return{addActivationEvents:function(){var t=l;w.add(t,"touchmove",function(){}).add(t,"touchend",function(){}).add(t,"touchstart",N).add(t,"mousedown",N).add(t,"touchcancel",M).add(t,"contextmenu",M).add(t,"click",D)},clickAllowed:function(){return!A},pointerDown:function(){return S},removeAllEvents:function(){w.removeAll(),x.removeAll()}}}function f(t){var e=Math.pow(10,t);return function(t){return Math.round(t*e)/e}}function d(t){return Object.keys(t).map(Number)}function p(t,e){var n=t.classList;n.contains(e)&&n.remove(e)}function h(t,e){var n=t.classList;n.contains(e)||n.add(e)}function v(t){var e=t.location,n=t.speed,r=t.mass,i=f(2),o=a(0),c=a(0),u=a(0),l=s(0),d={speed:n,mass:r};function p(t){return d.speed=t,v}function h(t){return d.mass=t,v}var v={direction:l,location:e,seek:function(t){u.set(t).subtract(e);var n,r,i,a,s,f=u.get(),p=(n=f,r=0,i=100,a=0,s=d.speed,a+(n-r)/(i-r)*(s-a));return l.set(u),u.normalize().multiply(p).subtract(o),function(t){t.divide(d.mass),c.add(t)}(u),v},settle:function(t){var n=t.get()-e.get(),r=!i(n);return r&&e.set(t),r},update:function(){o.add(c),e.add(o),c.multiply(0)},useDefaultMass:function(){return h(r),v},useDefaultSpeed:function(){return p(n),v},useMass:h,useSpeed:p};return v}function m(t){var e=t.limit,n=t.location,r=t.scrollBody,i=t.animation,o=e.min,a=e.max,s=e.reachedMin,c=e.reachedMax,u=50,l=!1,f=0;return{constrain:function(t){(function(t){return!l&&!f&&(s(n.get())?t.get()!==o:!!c(n.get())&&t.get()!==a)})(t)&&(f=window.setTimeout(function(){var n=e.constrain(t.get());t.set(n),r.useSpeed(10).useMass(3),i.start(),f=0},u))},toggleActive:function(t){l=!t}}}function g(t){var e=t.alignment,n=t.contentSize,r=t.viewSize,i=u({min:-n+r,max:0}),o=[e.measure(n)],a=n>r;return{measure:function(t,e){var n=t.map(i.constrain),r=function(t){var e=t[0],n=t[t.length-1];return u({min:t.lastIndexOf(e)+1,max:t.indexOf(n)})}(n),s=r.min,c=r.max;return a?e?n.slice(s-1,c+1):n:o}}}function b(t){var e=t.contentSize,n=t.location,r=t.limit,i=t.pxToPercent,o=u({min:r.min+i.measure(.1),max:r.max+i.measure(.1)}),a=o.reachedMin,s=o.reachedMax;return{loop:function(t,r){if(function(t){return 1===t?s(n.get()):-1===t&&a(n.get())}(r)){var i=e*(-1*r);t.forEach(function(t){return t.add(i)})}}}}function y(t){var e=t.loop,n=t.limit,r=t.scrollSnaps,i=t.contentSize,o=n.reachedMax,a=n.reachedAny,s=n.removeOffset;function c(t,e){return Math.abs(t)<Math.abs(e)?t:e}function u(t,n){var r=t,o=t+i,a=t-i;if(!e)return r;if(!n)return c(c(r,o),a);var s=c(r,1===n?o:a);return Math.abs(s)*n}return{byDistance:function(n,i){var c=t.target.get()+n,l=function(t){var e=s(t);return{index:r.map(function(t){return t-e}).map(function(t){return u(t,0)}).map(function(t,e){return{diff:t,index:e}}).sort(function(t,e){return Math.abs(t.diff)-Math.abs(e.diff)})[0].index,distance:e}}(c),f=function(n,r){if(e||!a(n))return r;var i=t.index,s=i.min,c=i.max;return o(n)?s:c}(c,l.index),d=!e&&a(c);return!i||d?{index:f,distance:n}:{index:f,distance:n+u(r[f]-l.distance,0)}},byIndex:function(e,n){return{index:e,distance:u(r[e]-t.target.get(),n)}},shortcut:u}}function _(t){var e,n,r,i=t.axis,o=t.location,a=t.contentSize,s=t.viewSize,c=t.slideSizes,u=t.scrollSnaps,l=d(c),f=d(c).reverse(),p=(e=u[0]-1,n=m(e,f),r=g(e,n,0),b(n,r,1)).concat(function(){var t=m(s-u[0]-1,l),e=g(a,l,-s);return b(t,-e,0)}()),h="x"===i.scroll?"left":"top";function v(t,e){return t.reduce(function(t,e){return t-c[e]},e)}function m(t,e){return e.reduce(function(e,n){return v(e,t)>0?e.concat([n]):e},[])}function g(t,e,n){return e.reduce(function(e,n){var r=e+c[n];return r<t?r:e},n)}function b(t,e,n){var r=t.slice().sort(function(t,e){return t-e});return r.map(function(t,i){var o=a*(n?-1:0),s=a*(n?0:1),c=function(t,e,n){var r=l.length-1;return v(t.map(function(t){return(t+n)%r}),e)}(r.slice(0,i),e,n);return{point:c,getTarget:function(t){return t>c?o:s},index:t,location:-1}})}return{canLoop:function(){return p.every(function(t){var e=t.index;return v(l.filter(function(t){return t!==e}),s)<=0})},clear:function(t){p.forEach(function(e){var n=e.index;t[n].style[h]=""})},loop:function(t){p.forEach(function(e){var n=e.getTarget,r=e.location,i=e.index,a=n(o.get());a!==r&&(t[i].style[h]=a+"%",e.location=a)})},loopPoints:p}}function w(t,e,n,r,s){var p,h,w,x,O,k,j=r.align,C=r.axis,E=r.startIndex,S=r.inViewThreshold,P=r.loop,A=r.speed,T=r.dragFree,N=r.slidesToScroll,L=r.containScroll,M=function(t){var e="y"===t?"y":"x";return{cross:"y"===t?"x":"y",measure:function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height;return"x"===e?r:i},scroll:e}}(C),I=(p=M.measure(e),{measure:function(t){return t/p*h},totalPercent:h=100}),D=I.totalPercent,R=n.map(M.measure).map(I.measure),q=d(R),B=function(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}(R,N).map(function(t){return t.reduce(function(t,e){return t+e})}),F=R.reduce(function(t,e){return t+e},0),z=i({align:j,viewSize:D}),U=function(t){var e,n=t.snapSizes,r=t.alignment,i=t.loop,a=n.map(r.measure),s=(e=o({limit:u({min:0,max:n.length-1}),start:0,loop:i}),n.map(function(t,n){var r=e.set(n+1).get();return t+a[n]-a[r]}));return{measure:function(t){return s.slice(0,t).reduce(function(t,e){return t-e},a[0])}}}({snapSizes:B,alignment:z,loop:P}),H=d(B).map(U.measure),$=g({alignment:z,contentSize:F,viewSize:D}),V=!P&&""!==L,W="trimSnaps"===L,G=$.measure(H,W),Y=V?G:H,K=o({limit:u({min:0,max:Math.max(0,Y.length-1)}),start:E,loop:P}),Z=K.clone(),J=function(t){var e=t.contentSize,n=t.loop;return{measure:function(t){var r=t[0],i=t[t.length-1];return u({min:n?r-e:i,max:r})}}}({loop:P,contentSize:F}).measure(Y),X=function(t){var e=0;function n(t,n){return function(){t===!!e&&n()}}function r(){e=window.requestAnimationFrame(t)}return{proceed:n(!0,r),start:n(!1,r),stop:n(!0,function(){window.cancelAnimationFrame(e),e=0})}}(function(){st.scrollBody.seek(et).update();var t=st.scrollBody.settle(et);if(at.pointerDown()||(P||st.scrollBounds.constrain(et),t&&(st.animation.stop(),s.emit("settle"))),P){var e=st.scrollBody.direction.get();st.scrollLooper.loop(nt,e),st.slideLooper.loop(n)}t||s.emit("scroll"),st.translate.to(st.scrollBody.location),st.animation.proceed()}),Q=Y[K.get()],tt=a(Q),et=a(Q),nt=[tt,et],rt=v({location:tt,speed:A,mass:1}),it=y({contentSize:F,index:K,limit:J,loop:P,scrollSnaps:Y,target:et}),ot=function(t){var e=t.index,n=t.scrollTarget,r=t.animation,i=t.indexPrevious,o=t.events,a=t.target;function s(t){var n=t.distance,s=t.index!==e.get();n&&(r.start(),a.add(n)),s&&(i.set(e.get()),e.set(t.index),o.emit("select"))}return{distance:function(t,e){s(n.byDistance(t,e))},index:function(t,r){var i=e.clone().set(t);s(n.byIndex(i.get(),r))}}}({animation:X,events:s,index:K,indexPrevious:Z,scrollTarget:it,target:et}),at=l({animation:X,axis:M,dragFree:T,dragTracker:function(t){var e=t.axis,n=t.pxToPercent,r=e.scroll,i={x:"clientX",y:"clientY"},o=a(0),s=a(0),c=a(0),u=a(0),l=10,f=5,d=100,p=[],h=(new Date).getTime(),v=!1;function m(t,e){v=!t.touches;var n=i[e],r=v?t[n]:t.touches[0][n];return u.set(r)}return{pointerDown:function(t){var e=m(t,r);return o.set(e),c.set(e),n.measure(o.get())},pointerMove:function(t){var e=m(t,r),i=(new Date).getTime(),o=i-h;return o>=l&&(o>=d&&(p=[]),p.push(e.get()),h=i),s.set(e).subtract(c),c.set(e),n.measure(s.get())},pointerUp:function(){var t=(new Date).getTime()-h,e=c.get(),r=p.slice(-f).map(function(t){return e-t}).sort(function(t,e){return Math.abs(t)<Math.abs(e)?1:-1})[0];return c.set(t>d||!r?0:r),p=[],n.measure(c.get())},readPoint:m}}({axis:M,pxToPercent:I}),element:t,events:s,index:K,limit:J,location:tt,loop:P,scrollBody:rt,scrollTo:ot,scrollTarget:it,target:et}),st={animation:X,axis:M,dragHandler:at,pxToPercent:I,index:K,indexPrevious:Z,limit:J,location:tt,options:r,scrollBody:rt,scrollBounds:m({animation:X,limit:J,location:tt,scrollBody:rt}),scrollLooper:b({contentSize:F,limit:J,location:tt,pxToPercent:I}),scrollProgress:(w={limit:J},x=w.limit,O=x.max,k=x.length,{get:function(t){return(t-O)/-k}}),scrollSnaps:Y,scrollTarget:it,scrollTo:ot,slideFocus:function(t){var e=t.scrollTo,n=t.slidesToScroll,r=t.root,i=c(),o=0;function a(t){9===t.keyCode&&(o=(new Date).getTime())}function s(t,a){i.add(t,"focus",function(){if(!((new Date).getTime()-o>10)){r.scrollLeft=0;var t=Math.floor(a/n);e.index(t,0)}},!0)}return{addActivationEvents:function(t){i.add(document,"keydown",a,!1),t.forEach(s)},removeAllEvents:i.removeAll}}({root:t,scrollTo:ot,slidesToScroll:N}),slideLooper:_({axis:M,contentSize:F,location:tt,scrollSnaps:Y,slideSizes:R,viewSize:D}),slidesInView:function(t){var e=t.contentSize,n=t.slideSizes,r=t.viewSize,i=t.inViewThreshold,o=t.loop,a=Math.min(Math.max(i,.01),.99),s=n.map(function(t){return t*a}),c=d(n).map(function(t){return n.slice(0,t).reduce(function(t,e){return t-e},0)}),u=(o?[0,e,-e]:[0]).map(l).reduce(function(t,e){return t.concat(e)},[]);function l(t){return c.map(function(e,i){return{start:e-n[i]+s[i]+t,end:e+r-s[i]+t,index:i}})}return{check:function(t){return u.reduce(function(e,n){var r=n.index,i=n.start,o=n.end;return-1===e.indexOf(r)&&i<t&&o>t?e.concat([r]):e},[])}}}({contentSize:F,inViewThreshold:S,loop:P,slideSizes:R,viewSize:D}),slideIndexes:q,target:et,translate:function(t){var e=t.axis,n=t.container,r={x:function(t){return"translate3d("+t+"%,0px,0px)"},y:function(t){return"translate3d(0px,"+t+"%,0px)"}}[e.scroll],i=f(2),o=n.style,a=!1,s=0;return{clear:function(){o.transform="",s=0},to:function(t){if(!a){var e=i(t.get());s!==e&&(getComputedStyle(n).transform,o.transform=r(e),s=e)}},toggleActive:function(t){a=!t}}}({axis:M,container:e})};return st}var x={align:"center",axis:"x",containScroll:"",containerSelector:"*",dragFree:!1,draggable:!0,draggableClass:"is-draggable",draggingClass:"is-dragging",inViewThreshold:0,loop:!1,selectedClass:"is-selected",slidesToScroll:1,speed:10,startIndex:0};e.a=function(t,e){var n,i,o,a,s,u,l=function(){var t={destroy:[],pointerDown:[],pointerUp:[],init:[],reInit:[],resize:[],scroll:[],select:[],settle:[]},e={emit:function(n){return t[n].forEach(function(t){return t(n)}),e},off:function(n,r){return t[n]=t[n].filter(function(t){return t!==r}),e},on:function(n,r){return t[n]=t[n].concat([r]),e}};return e}(),f=c(),d=(n=function(){if(b){var e=a.axis.measure(t);_!==e&&S(),l.emit("resize")}},i=500,o={id:0},function(){window.clearTimeout(o.id),o.id=window.setTimeout(n,i)||0}),v=S,m=l.on,g=l.off,b=!1,y=r({},x),_=0;function O(){if(!t)throw new Error("Missing root node 😢");var e,n=y.containerSelector,r=t.querySelector(n);if(!r)throw new Error("Missing container node 😢");e=(s=r).children,u=Array.prototype.slice.call(e)}function k(e){if(O(),y=r(y,e),a=w(t,s,u,y,l),_=a.axis.measure(t),f.add(window,"resize",d),a.translate.to(a.scrollBody.location),y.loop){if(!a.slideLooper.canLoop())return E(),k({loop:!1});a.slideLooper.loop(u)}y.draggable&&u.length&&(a.dragHandler.addActivationEvents(),y.draggableClass&&h(t,y.draggableClass),y.draggingClass&&l.on("pointerDown",j).on("pointerUp",j)),u.length&&a.slideFocus.addActivationEvents(u),y.selectedClass&&(C(),l.on("select",C).on("pointerUp",C)),b||(setTimeout(function(){return l.emit("init")},0),b=!0)}function j(e){var n=y.draggingClass;"pointerDown"===e?h(t,n):p(t,n)}function C(){var t=y.selectedClass,e=P(!0);A(!0).forEach(function(e){return p(u[e],t)}),e.forEach(function(e){return h(u[e],t)})}function E(){a.dragHandler.removeAllEvents(),a.slideFocus.removeAllEvents(),a.animation.stop(),f.removeAll(),a.translate.clear(),a.slideLooper.clear(u),p(t,y.draggableClass),u.forEach(function(t){return p(t,y.selectedClass)}),l.off("select",C),l.off("pointerUp",C),l.off("pointerDown",j),l.off("pointerUp",j)}function S(t){if(b){var e=r({startIndex:N()},t);E(),k(e),l.emit("reInit")}}function P(t){var e=a[t?"target":"location"].get(),n=y.loop?"removeOffset":"constrain";return a.slidesInView.check(a.limit[n](e))}function A(t){var e=P(t);return a.slideIndexes.filter(function(t){return-1===e.indexOf(t)})}function T(t,e){a.scrollBody.useDefaultMass().useDefaultSpeed(),b&&a.scrollTo.index(t,e||0)}function N(){return a.index.get()}return k(e),{canScrollNext:function(){return a.index.clone().add(1).get()!==N()},canScrollPrev:function(){return a.index.clone().add(-1).get()!==N()},clickAllowed:function(){return a.dragHandler.clickAllowed()},containerNode:function(){return s},dangerouslyGetEngine:function(){return a},destroy:function(){b&&(E(),b=!1,l.emit("destroy"))},off:g,on:m,previousScrollSnap:function(){return a.indexPrevious.get()},reInit:v,scrollNext:function(){T(a.index.clone().add(1).get(),-1)},scrollPrev:function(){T(a.index.clone().add(-1).get(),1)},scrollProgress:function(){return a.scrollProgress.get(a.location.get())},scrollSnapList:function(){return a.scrollSnaps.map(a.scrollProgress.get)},scrollTo:T,selectedScrollSnap:N,slideNodes:function(){return u},slidesInView:P,slidesNotInView:A}}},bGc4:function(t,e,n){var r=n("gGqR"),i=n("Rh28");t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},bIbi:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"WeakMap");t.exports=r},bIjD:function(t,e,n){var r=n("NGEn"),i=n("hIPy"),o=n("UnLw"),a=n("ZT2e");t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},bJWQ:function(t,e,n){var r=n("duB3"),i=n("KmWZ"),o=n("NqZt"),a=n("E4Hj"),s=n("G2xm"),c=n("zpVT");function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},bO0Y:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Promise");t.exports=r},bRTM:function(t,e){var n=NodeList.prototype;NodeList&&!n.forEach&&(n.forEach=function(t,e){e=e||this;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)})},blYT:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n("DuR2"))},bsom:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("I3G/"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("7/oE"),l=n("GEhP"),f=n.n(l),d=n("tuWI"),p=n.n(d);function h(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default=a.a.extend({components:{BalanceLogRow:f.a,Loader:p.a},mixins:[Object(u.a)(!0,"#balance-log")],props:{belongsModel:String,belongsId:[Number,String]},data:function(){return{loading:!0,items:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t,e=(t=i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,c.a.get("/donate/logs",{params:{belongsModel:this.belongsModel,belongsId:this.belongsId}});case 4:e=t.sent,n=e.data,this.items=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[1,9]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}})},buoE:function(t,e){},bzSw:function(t,e){},cdq7:function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},"d+aQ":function(t,e,n){var r=n("hbAh"),i=n("16tV"),o=n("sJvV");t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},"d/zx":function(t,e,n){var r=n("VU/8")(n("MIGX"),n("o/m1"),!1,function(t){n("JidO")},null,null);t.exports=r.exports},d4US:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"DataView");t.exports=r},dCZQ:function(t,e,n){var r=n("ICSD")(Object,"create");t.exports=r},dFpP:function(t,e,n){var r=n("imBK"),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},dH3X:function(t,e,n){var r=n("607n");t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},dWBF:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("Jaym"),i=[{id:6,name:"Без причины",type:"default"},{id:3,name:"Оскорбление пользователей",type:"default"},{id:4,name:"Флуд / Оффтоп / Комментарий без смысла",type:"default"},{id:5,name:"Реклама / Спам",type:"default"},{id:1,name:"Спойлер",type:"default"},{id:7,name:"Провокации / Конфликты",type:"default"},{id:2,name:"Ненормативная лексика",type:"default"},{id:8,name:"Запрещенный / непотребный контент",type:"default"},{id:9,name:"Бессмысленная / Пустая тема"},{id:10,name:"Дубликат темы"},{id:11,name:"Некорректный заголовок"},{id:12,name:"Твинк аккаунт"}],o=Object(r.s)(i,"id","name")},dYhQ:function(t,e,n){var r=n("9UkZ");t.exports=function(t){return r(t)?void 0:t}},dZRW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-row"},[t._m(0),t._v(" "),n("a",{ref:"notificationItem",staticClass:"notification-item",attrs:{href:t.notification.data.link,"data-type":t.notification.type},on:{mouseup:t.markAsRead,click:function(t){t.preventDefault()}}},[n("div",{staticClass:"notification-item__left"},[t.hasCover?n("div",{staticClass:"notification-item__img",class:{"notification-item__img_cover":t.hasCover}},[n("div",{staticClass:"cover cover_responsive",style:{"background-image":"url("+t.imgUrl+")"}})]):n("img",{staticClass:"notification-item__img",attrs:{src:t.imgUrl}})]),t._v(" "),n("div",{staticClass:"notification-item__content"},[n("div",{staticClass:"notification-item__meta"},[t.notification.data.teams?n("b",{staticClass:"notification-item__username"},t._l(t.notification.data.teams,function(e){return n("span",{key:e.id},[t._v("\n            "+t._s(e.name)+"\n          ")])}),0):t.notification.data.user?n("b",{staticClass:"notification-item__username"},[t._v("\n          "+t._s(t.notification.data.user.username)+"\n        ")]):t._e(),t._v(" "),n("timeago",{staticClass:"notification-item__date",attrs:{datetime:t.notification.updated_at}})],1),t._v(" "),n("NotificationTemplate",{attrs:{metadata:t.notification.data,type:t.notification.type,"media-name-prop":t.mediaNameProp}})],1)]),t._v(" "),n("div",{staticClass:"notification-item__remove tooltip",attrs:{"aria-label":"Прочитано","data-place":"left"},on:{click:function(e){return t.markRead(!0)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification-row__readinfo justify_between align-items_center text-center"},[e("div",{staticClass:"notification-row__readinfo-icon"},[e("i",{staticClass:"fa fa-check-circle"}),this._v(" "),e("span",[this._v("Прочитано")])])])}]}},deUO:function(t,e,n){var r=n("imBK");t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},dliL:function(t,e,n){"use strict";var r=n("i9tX"),i=n("hcE8"),o=n("hGaF"),a=n("+opI"),s=n("0LGO"),c=n("UHV6"),u=n("tyBP"),l=n("HAas"),f=n("r54x"),d=n("Kbrx"),p=n("GB3+"),h=n("3Nrx");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),g=v?"set":"add",b=i[t],y=b&&b.prototype,_=b,w={},x=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof b||!(m||y.forEach&&!f(function(){(new b).entries().next()}))))_=n.getConstructor(e,t,v,g),s.REQUIRED=!0;else if(o(t,!0)){var O=new _,k=O[g](m?{}:-0,1)!=O,j=f(function(){O.has(1)}),C=d(function(t){new b(t)}),E=!m&&f(function(){for(var t=new b,e=5;e--;)t[g](e,e);return!t.has(-0)});C||((_=e(function(e,n){u(e,_,t);var r=h(new b,e,_);return void 0!=n&&c(n,r[g],r,v),r})).prototype=y,y.constructor=_),(j||E)&&(x("delete"),x("has"),v&&x("get")),(E||k)&&x(g),m&&y.clear&&delete y.clear}return w[t]=_,r({global:!0,forced:_!=b},w),p(_,t),m||n.setStrong(_,t,v),_}},dmQx:function(t,e){t.exports=function(t,e){return t.has(e)}},dmfu:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapters-timer__dialog"},[e("div",{staticClass:"modal__header"},[e("div",{staticClass:"modal__title text-center"},[this._v("\n      Таймер выхода глав\n    ")]),this._v(" "),e("app-dialog-close")],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal__body"},[n("p",[t._v("\n      Данный таймер показывает "),n("b",[t._v("примерный")]),t._v(" выход главы. В расчёт берутся последние 8 глав.\n    ")]),t._v(" "),n("div",{staticClass:"text-center"},[n("b",[t._v("Что это значит?")])]),t._v(" "),n("ul",[n("li",[t._v("Таймер служит всего лишь для вашего удобства и не более")]),t._v(" "),n("li",[t._v("Глава не обязана появиться в срок")]),t._v(" "),n("li",[t._v("Что не надо писать: "),n("b",[t._v('"Где глава?"')])]),t._v(" "),n("li",[t._v("Что не надо писать автору / переводчику с вопросом: "),n("b",[t._v('"Когда уже глава?"')])]),t._v(" "),n("li",[t._v("Ещё раз - это "),n("b",[t._v("примерный")]),t._v(" выход глав")])])])}]}},duB3:function(t,e,n){var r=n("WxI4"),i=n("dFpP"),o=n("JBvZ"),a=n("2Hvv"),s=n("deUO");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,t.exports=c},dwsC:function(t,e,n){var r=n("86tT"),i=n("S7p9"),o=n("Dc0G"),a=o&&o.isMap,s=a?i(a):r;t.exports=s},eAIx:function(t,e,n){var r=n("Kl7s")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},eFps:function(t,e,n){var r,i=n("+gg+"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},"eG8/":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},eGIM:function(t,e){},eHwr:function(t,e,n){var r=n("JyYQ"),i=n("bGc4"),o=n("ktak");t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var c=r(n,3);e=o(e),n=function(t){return c(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[c?e[u]:u]:void 0}}},eKBv:function(t,e,n){var r=n("YDHx"),i=n("Q7hp"),o=n("RfZv"),a=n("hIPy"),s=n("tO4o"),c=n("sJvV"),u=n("Ubhr"),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|f)}}},eP4g:function(t,e,n){var r=n("gHOb"),i=n("UnEC"),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},eTT4:function(t,e,n){"use strict";var r=n("VpuQ"),i=n("jgJS");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},eVIm:function(t,e,n){var r=n("dCZQ"),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},eZ0g:function(t,e){t.exports={}},etgD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("kvU2"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("OvQW"),l=n.n(u),f=n("A7pH"),d=n("6Vnj"),p=n.n(d),h=n("ryCm"),v=n.n(h),m=n("gmAb"),g=n("OLx3"),b=n("nctS");function y(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){y(o,r,i,a,s,"next",t)}function s(t){y(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default={components:{AppCheckbox:p.a,AppDropdown:v.a},props:{isReply:{type:Boolean,default:!1},rootId:Number,commentLevel:Number},data:function(){return{loading:!1,sticky:!1,buttons:[{icon:"bold",title:"Жирный",action:"bold"},{icon:"italic",title:"Курсив",action:"italic"},{icon:"strikethrough",title:"Зачеркнутый",action:"strikethrough"},{icon:"underline",title:"Подчеркнутый",action:"underline"},{icon:"quote-right",title:"Цитата",action:"quote"},{icon:"eye-slash",title:"Спойлер",action:"spoiler"},{icon:"eraser",title:"Убрать форматирование",action:"clear"}]}},computed:{editing:function(){return this.isReply&&g.a.editing},btnClasses:function(){return{button_primary:!this.editing,button_green:this.editing,button_loading:this.loading}},showSettings:function(){var t=g.a.activeItem,e=g.a.sticky,n=g.a.auth.access||g.a.teamPermission;return e?this.editing&&e.id===t.id:this.isReply?!(!this.editing||t.root_id||!n):!!n}},mounted:function(){var t=this.$refs,e=t.editor,n=t.toolbar;if(this.editor=Object(f.a)(e,{toolbar:n}),this.editing){var r=g.a.activeItem.comment;g.a.sticky&&g.a.sticky.id===g.a.activeItem.id&&(this.sticky=!0,r=g.a.sticky._comment),this.editor.setHTML(r)}this.editor.focus(),this.isReply&&this.editor.moveCursorToEnd()},beforeDestroy:function(){this.$nextTick(m.e),this.editor&&this.editor.destroy()},methods:{submitForm:function(){if(!1===g.a.auth)return this.$toast.alert("Вы не авторизованы");if(!this.loading){if(this.editor.isEmpty())return this.$toast.alert("Сообщение не должно быть пустым");if(this.editor.contentLength()>1e4)return this.$toast.alert("Первышен лимит сообщения в 10.000 символов");var t=this.editor.getParsedHTML(),e=l.a.sanitize(t,{ALLOWED_TAGS:["br"],ALLOWED_ATTR:[],FORBID_TAGS:[],ALLOW_DATA_ATTR:!1}).replace(/&nbsp;/g," ").replace(/<br>/g," ").replace(/\s\s+/g," ");if(this.getLongestWord(e)>=50)return this.$toast.alert("Воздержитесь от флуда и напишите комментарий корректно");if(this.isCapsText(e)&&(t=t.toLowerCase()),"chapter"===g.a.info.type&&(1==g.a.chapter.page||g.a.chapter.page>=g.a.chapter.totalPages-2)&&(!this.isReply||this.editing&&null==g.a.activeItem.root_id)&&this.isTextContainsGratitude(e))return g.a.editing=!1,g.a.activeItem=null,this.$toast.info('Ваш комментарий был конвертирован в "Спасибо"'),this.editor.clearEditor(),this.$AppEmitter.emit("chapter.like");this.loading=!0,this.editing&&this.isReply?this.updateMessage(t):this.sendMessage(t)}},sendMessage:function(){var t=_(i.a.mark(function t(e){var n,r,o,a,s,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.isReply?g.a.activeItem.id:null,r={post_id:g.a.info.postId,post_type:g.a.info.type,post_page:g.a.chapter.page||1,parent_comment:n,comment:e,root_id:this.rootId,comment_level:this.commentLevel+1},this.showSettings&&this.sticky&&(r.sticky=this.sticky),t.prev=3,t.next=6,c.a.post(g.a.info.api,r);case 6:o=t.sent,a=o.data,this.isReply&&!g.a.replies[n]&&this.$set(g.a.replies,n,[]),s=this.isReply?"replies.".concat(n):"comments",u=Object(m.b)(g.a,s),this.sticky?g.a.sticky=a:this.isReply?u.push(a):u.unshift(a),this.editor.clearEditor(),g.a.activeItem=null,this.$AppEmitter.emit(b.a.added,a),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),console.error(t.t0),this.$toast.httpError(t.t0,"Произошла ошибка при отправке комментария");case 21:this.loading=!1;case 22:case"end":return t.stop()}},t,this,[[3,17]])}));return function(e){return t.apply(this,arguments)}}(),updateMessage:function(){var t=_(i.a.mark(function t(e){var n,r,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.activeItem.id,r={comment:e},this.showSettings&&(r.sticky=this.sticky),t.prev=3,t.next=6,c.a.put("".concat(g.a.info.api,"/").concat(n),r);case 6:o=t.sent,s=o.data,g.a.activeItem.comment=s.comment,this.$AppEmitter.emit(b.a.updated,g.a.activeItem),this.$toast.confirm("Комментарий был обновлен"),s.stickyChanged&&(this.sticky?(g.a.sticky=a()(g.a.activeItem),g.a.comments=g.a.comments.filter(function(t){return t.id!==n})):g.a.sticky=null),g.a.editing=!1,g.a.activeItem=null,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),this.$toast.httpError(t.t0,"Произошла ошибка при редактировании");case 19:this.loading=!1;case 20:case"end":return t.stop()}},t,this,[[3,16]])}));return function(e){return t.apply(this,arguments)}}(),isTextContainsGratitude:function(t){var e=[/[csсзшщ]+[pпб6]+[аaоo]+[зсcsчшщ]+[иiuяы]+[6бb]+[аоao]+(?:(?:ч|ch)+[kк]+[uiи]+)?/gi,/(?:[csсзшщ]+)?[pпб6]+[аaоo]+[зсcsчшщ]+[иiuяы]+[6бb]+[kк]+[uiи]+/gi,/[aаoо]+[rр]+[iи]+[gгхx]+[aаoо]+[tт]+[oо]+(?:[uу]+)?/gi,/[mм]+[eе]+[rрхx]+[cс]+[iиu]+/gi,/[б6b]+[лl]+[aаoо]+[гgхx]+[оoаa]+[дd]+[аaoо]+[рrp]+(?:ю+|(?:[oо]+(?:ч|ch)+[kк]+[аa]+)|[еe]+[нn]+)/gi,/[сcs]+(?:_|-|\.|~)*[пp]+(?:_|-|\.|~)*[сcs]+/gi,/[рpr]+[aаеeэ]+[xх]+[мm]+[aeаеэ]+[tт]+/gi,/[дd]+[ь]?[я]+[кk]+[уy]+[ю]+/gi,/[сфf]+[eе]+[нhn]+[kк]+(?:ь)?[юу]+/gi,/[tт]+[hхx]+[aа]+[nн]+[kк]+[scс]+|thx/gi,/[оo]+[тt]+[dд]+[уy]+[шщ]+[iuи]+/],n=function(t){return e.some(function(e){return e.test(t)})},r=n(t=t.replace(/[^a-zA-Zа-яА-Я\d]/g,""));return r||(r=n(t=t.split("").reverse().join(""))),r&&t.length<50},getLongestWord:function(t){for(var e=t.replace(/(https?|ftp):\/\/[^\s/$.?#].[^\s]*/g,"").split(" "),n=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length);return n},isCapsText:function(t){var e=t.replace(/[^A-ZА-Я]/g,"");return parseFloat((e.length/t.length).toFixed(2))>=.45}}}},"f1+4":function(t,e,n){var r=n("5+O3");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},f6yZ:function(t,e,n){"use strict";e.a={ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,ENTER:13,ESC:27,TAB:9}},f931:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},f9UU:function(t,e,n){var r=n("i9tX"),i=n("65ot");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},fJbB:function(t,e){},fK0A:function(t,e,n){"use strict";n.d(e,"d",function(){return c}),n.d(e,"a",function(){return u}),e.c=l,e.b=function(t,e){if(l(t)&&l(e)){var n=new Date,r=f(t),i=f(e);return r>n&&r.setDate(r.getDate()-1),r>i&&i.setDate(i.getDate()+1),n>=r&&n<=i}return!1},e.e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.documentElement,o=document.head.querySelector('[name="theme-color"]');n.setAttribute("data-mode",t);var a=window._SITE_COLOR_,c=null;"dark"===t&&(a="#1c1c1e");"custom"===t&&(c=function(t){var e=Object(r.b)(t.background),n=Object(r.b)(t.text),o=s(e,{lightness:7}),a=i({},n,{alpha:.7});function s(t,e){var n=i({},t);for(var r in e){var o=n[r];o-6<e[r]?n[r]=Math.abs(o+e[r]):n[r]=Math.abs(o-e[r])}return n}function c(t,e){return t.alpha=e,t}var u=i({},e,{alpha:.5});return{"text-primary":t.text,background:t.background,"background-header":o,foreground:o,"foreground-darken":s(e,{lightness:8,saturation:6}),"background-hover":s(e,{lightness:8,saturation:6}),"background-elevated-2":s(o,{lightness:-3,saturation:4}),"background-elevated-3":s(o,{lightness:-5,saturation:6}),"background-fill-4":c(s(e,{lightness:16}),.3),"background-highlight":c(s(e,{lightness:16}),.45),"background-fill-1":c(s(e,{lightness:14}),.6),"radio-group-bg-active":c(s(e,{lightness:3}),.98),"border-base":s(e,{lightness:11}),"text-muted":a,"text-secondary":a,"button-default-color":a,"button-default-bg":s(u,{lightness:10}),"button-default-bg-hover":s(u,{lightness:7,alpha:1.5}),"button-default-bg-active":s(u,{lightness:7,alpha:1.5})}}(e),a=c.foreground);o.setAttribute("content",a),s||(s=document.createElement("style"),document.head.appendChild(s));if(s)if("custom"===t&&c){var u=[];for(var l in c)u.push("--".concat(l,": ").concat(c[l].toString(),";"));s.textContent=":root { ".concat(u.join("")," }")}else document.head.removeChild(s),s=null};var r=n("k6cO");function i(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s,c={theme:"dark"},u={enabled:!1,autoEnable:!1,time:{from:"00:00",to:"00:00"}};function l(t){return/\d{2}:\d{2}/.test(t)}function f(t){var e=a(t.split(":"),2),n=e[0],r=e[1],i=new Date;return i.setHours(n),i.setMinutes(r),i}},fMqj:function(t,e,n){var r=n("zGZ6"),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},fTzd:function(t,e){e.f=Object.getOwnPropertySymbols},fWMS:function(t,e,n){"use strict";e.a=function(){if(r)return r;(r=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},window.__info)||{}).pages=(window.__pg||[]).map(function(t){return{page_slug:t.p,page_image:t.u}});var t=Object(a.l)("#pg");t&&t.parentNode.removeChild(t);return r};var r,i=n("I3G/"),o=n.n(i),a=n("u5FJ"),s=n("Jaym");function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={theme:"dark",mode:"horizontal",containerWidth:window.innerWidth,imageServer:"default",imageFit:"width",showComments:!1,commentsSize:500,clickTargetArea:"image"};o.a.observable({settings:s.u.get("reader",u)})},fiLL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o),s=n("Jaym"),c=n("oJgM");function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)})}}var d,p,h=s.r.get("manga",{});function v(t,e){c.a.downloads[t].status="error",console.error(e),w()}function m(t,e){return g.apply(this,arguments)}function g(){return(g=f(i.a.mark(function t(e,n){var r,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.round(1/n.images.length*100),t.next=3,a.a.get(e,{responseType:"blob",transformRequest:function(t,e){return delete e["X-CSRF-TOKEN"],delete e["X-Requested-With"],t},onDownloadProgress:function(t){var e=Math.round(t.loaded/t.total*r);n.progress=n.progress+e}});case 3:return o=t.sent,s=o.data,t.abrupt("return",s);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return(y=f(i.a.mark(function t(e){var n,r,o,a,s,u,l,f,g,b;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=c.a.downloads[e],r=n.images.length,o=new d,a=!1,s=0;case 5:if(!(s<r)){t.next=24;break}return u=n.images[s],n.progress=Math.round(s/r*100),t.prev=8,t.next=11,m(u,n);case 11:l=t.sent,f=l.type.replace("image/",""),o.file("".concat(s,".").concat(f),l),t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),v(e,t.t0),a=!0,t.abrupt("break",24);case 21:s++,t.next=5;break;case 24:if(a){t.next=39;break}return t.prev=25,t.next=28,o.generateAsync({type:"blob"});case 28:g=t.sent,b="".concat(h.name," Том ").concat(n.info.volume," Глава ").concat(n.info.number," [mangalib.me]"),p.saveAs(g,"".concat(b,".zip")),n.status="complete",o=null,w(),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(25),v(e,t.t1);case 39:case"end":return t.stop()}},t,null,[[8,16],[25,36]])}))).apply(this,arguments)}function _(){return(_=f(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=c.a.downloads[e]).status="loading",t.next=5,a.a.get("/download/".concat(e),{headers:{}});case 5:r=t.sent,(o=r.data).images=o.images.map(function(t){return"".concat(o.downloadServer,"/manga/").concat(h.slug,"/chapters/").concat(o.chapter.slug,"/").concat(t)}),n.images=o.images.concat(n.images),n.info=o.chapter,b(e),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),v(e,t.t0);case 16:case"end":return t.stop()}},t,null,[[0,13]])}))).apply(this,arguments)}function w(t){var e=function(){var t=0,e=null;for(var n in c.a.downloads){var r=c.a.downloads[n];if("loading"===r.status&&(t+=1),"pending"!==r.status||e||(e=n),t>=2&&e)break}return{canLoadNext:t<2,nextItemId:e}}();e.canLoadNext&&(null==t&&(t=e.nextItemId),t&&function(t){_.apply(this,arguments)}(t))}e.default={props:{chapterId:Number,disabled:Boolean},computed:{isDownloading:function(){return this.chapterId in c.a.downloads},status:function(){var t=c.a.downloads[this.chapterId];return t?t.status:null},tooltipText:function(){switch(this.status){case"pending":return"В очереди";case"loading":return"Скачивается";case"error":return"Ошибка, нажмите чтобы повторить";case"complete":return"Глава скачана";default:return"Скачать главу"}},circumference:function(){return 2*Math.PI*8},progress:function(){return(100-c.a.downloads[this.chapterId].progress)/100*this.circumference}},methods:{download:function(){var t=f(i.a.mark(function t(){var e,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disabled){t.next=2;break}return t.abrupt("return",this.$toast.alert("Глава ещё находится в раннем доступе"));case 2:if(!this.status||"error"===this.status){t.next=4;break}return t.abrupt("return");case 4:if(this.$set(c.a.downloads,this.chapterId,{progress:0,status:"pending",images:["https://img2.mangalib.me/099.png"]}),d&&p){t.next=12;break}return t.next=8,Promise.all([new Promise(function(t){n.e(7).then(function(e){t(n("WgY6"))}.bind(null,n)).catch(n.oe)}),new Promise(function(t){n.e(31).then(function(e){t(n("t4zo"))}.bind(null,n)).catch(n.oe)})]);case 8:e=t.sent,r=u(e,2),d=r[0],p=r[1];case 12:w(this.chapterId);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},fkET:function(t,e,n){var r=n("r54x"),i=n("raVe"),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},flBj:function(t,e,n){var r=n("hcE8"),i=n("rlzA"),o=Function.call;t.exports=function(t,e,n){return i(o,r[t].prototype[e],n)}},gAt4:function(t,e,n){var r=n("xA5w"),i=n("nizW"),o=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=o(n,a),c=Math.abs(i(n,a));return n.setDate(n.getDate()-s*c),s*(c-(o(n,a)===-s))}},gGqR:function(t,e,n){var r=n("aCM0"),i=n("yCNF"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==c}},gHOb:function(t,e,n){var r=n("d4US"),i=n("POb3"),o=n("bO0Y"),a=n("5N57"),s=n("bIbi"),c=n("aCM0"),u=n("Ai/T"),l=u(r),f=u(i),d=u(o),p=u(a),h=u(s),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},gJJO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("w9Mt"),o=n.n(i),a=n("kvU2"),s=n.n(a),c=n("I3G/"),u=n.n(c),l=n("mtWM"),f=n.n(l),d=n("u5FJ"),p=n("Jaym"),h=n("tuWI"),v=n.n(h),m=n("ryCm"),g=n.n(m),b=n("B0gI"),y=n.n(b),_=n("ZLZl");function w(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=p.u.get("notifications",{mangaNameProp:"rus_name"}),k={};e.default=u.a.extend({components:{VNotificationItem:y.a,VLoader:v.a,VDropdown:g.a},filters:{limit:function(t){return t>99?"99+":t}},data:function(){return{tabs:{all:{label:"Все",count:0},chapter:{label:"Главы",count:0},comments:{label:"Комментарии",count:0},message:{label:"Сообщения",count:0},friend:{label:"Заявки",count:0},other:{label:"Другое",count:0}},activeTab:"all",notifications:[],perPage:15,hasNextPage:!0,loading:!1,page:1,filter:"unread",settings:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){x(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},O),animationName:"notification"}},mounted:function(){if(r=Object(d.l)(".notify__count_bell")){if(0===d.f.get(r,"data-counter",{parseNumbers:!0}))return;this.fetchNotifications(!0),this.$refs.body.addEventListener("scroll",this.onScroll,{passive:!0})}else this.hasNextPage=!1},methods:{fetchNotifications:function(t){var e=this;if(this.hasCache()&&k[this.activeTab].page>=this.page)return this.getFromCache();var n={page:this.page,type:this.activeTab,ajax:!0,getCounts:t};this.loading=!0,f.a.get("/notification",{params:n}).then(function(t){var n=t.data;n.counts&&Object(p.f)(n.counts,function(t,n){t>0&&!e.activeTab&&(e.activeTab=n),e.tabs[n].count=t}),1===e.page?e.notifications=n.notifications:e.notifications=e.notifications.concat(n.notifications),e.hasNextPage=n.hasNextPage,e.perPage=n.perPage,e.loading=!1,e.addToCache()})},removeNotification:function(t,e){var n=Object(p.e)(this.notifications,function(e){return e.id===t.id}),r=this.notifications[n];if(this.notifications.splice(n,1),this.tabs[this.activeTab].count=Math.max(0,this.tabs[this.activeTab].count-1),"all"===this.activeTab){var i=this._getNotificationType(r);this.tabs[i].count=Math.max(0,this.tabs[i].count-1)}this.updateCounter(1),this.removeFromCache(t.id),Object(_.a)(t.id,t.data.link,e)},beforeLeave:function(t){t.style.height="".concat(t.offsetHeight,"px")},markAllAsRead:function(){var t=this,e="Отметить всё как прочитанное?";if("all"!==this.activeTab&&(e='Отметить всё прочитанным из категории "'.concat(_.c[this.activeTab],'"?')),confirm(e)&&this.notifications.length&&!this.loading){var n=w(this.notifications),r=this.hasNextPage;"all"===this.activeTab?(Object(p.f)(this.tabs,function(t){t.count=0}),this.updateCounter(1/0)):(this.updateCounter(this.tabs[this.activeTab].count),this.tabs.all.count-=this.tabs[this.activeTab].count,this.tabs[this.activeTab].count=0),this.notifications=[],this.hasNextPage=!1,this.page=1,k={},f.a.post("/notification/read-all",{type:this.activeTab}).catch(function(e){console.error(e),t.notifications=n,t.hasNextPage=r})}},onScroll:function(t){if(!this.loading&&this.hasNextPage){var e=t.currentTarget,n=e.scrollHeight-2*e.offsetHeight;e.scrollTop>=n&&(this.page+=1,this.fetchNotifications())}},changeMangaName:function(t){p.u.update("notifications",{mangaNameProp:t}),this.settings.mangaNameProp=t},updateCounter:function(t){if(r&&r.textContent.trim()){var e=parseInt(r.textContent,10)-t;r.textContent=e,e<=0&&r.parentNode.removeChild(r)}},changeTab:function(t){var e=this;this.loading||(this.$refs.body.scrollTop=0,this.activeTab=t,this.animationName="none",this.getFromCache(),this.hasNextPage&&1===this.page&&!this.notifications.length&&this.fetchNotifications(),this.$nextTick(function(){return e.animationName="notification"}))},addToCache:function(){this.hasCache()||(k[this.activeTab]={items:[],page:1}),k[this.activeTab].items=s()(this.notifications),k[this.activeTab].page=this.page,"all"===this.activeTab&&p.u.update("noty",{cache:o()(k,"all"),tabs:this.tabs,date:Date.now()})},hasCache:function(){return this.activeTab in k},removeFromCache:function(t){if(k.all&&k.all.items){var e=Object(p.e)(k.all.items,function(e){return e.id===t});k.all.items.splice(e,1)}k=o()(k,"all"),p.u.update("noty",{cache:k,tabs:this.tabs})},getFromCache:function(){var t=this.tabs[this.activeTab];if(this.hasNextPage=!1,this.activeTab in k){var e=s()(k[this.activeTab].items);this.notifications=e,this.page=k[this.activeTab].page,e.length<t.count&&(this.hasNextPage=!0)}else this.notifications=[],this.page=1,t.count>0&&(this.hasNextPage=!0)},_getNotificationType:function(t){return/comment|forum/.test(t.type)?"comments":/firend/.test(t.type)?"friend":/message/.test(t.type)?"message":"chapter"===t.type?"chapter":"other"}}})},gLsf:function(t,e,n){var r=n("AMIE"),i=n("YveC").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},gado:function(t,e,n){var r=n("jAiL"),i=n("eZ0g"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},ggOT:function(t,e,n){(function(t){var r=n("TQ3y"),i=n("gwcX"),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(e,n("3IRH")(t))},gksw:function(t,e,n){"use strict";var r=n("En79"),i=n.n(r),o=n("qrdl"),a=n.n(o),s=n("309y"),c=n.n(s),u=n("HN2V"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("Mqyi");function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.options=n,this.render()}var e,n,r;return e=t,(n=[{key:"render",value:function(){}},{key:"remove",value:function(){this.parent&&this.root&&this.parent.removeChild(this.root),this.bar=null,this.root=null}}])&&h(e.prototype,n),r&&h(e,r),t}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,_(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,v),n=e,(r=[{key:"render",value:function(){var t=this.options.size/2,e={r:this.radius,cx:t,cy:t,"stroke-dasharray":this.circumference};this.root=Object(p.a)("svg",{class:"progress-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(this.options.size," ").concat(this.options.size)},Object(p.a)("circle",g({class:"progress-circle__circle","stroke-dashoffset":"0"},e)),Object(p.a)("circle",g({class:"progress-circle__circle progress-circle__circle_bar","stroke-dashoffset":this.circumference},e))),this.bar=this.root.querySelector(".progress-circle__circle_bar"),this.parent.appendChild(this.root)}},{key:"setValue",value:function(t){var e=this,n=(100-t)/100*this.circumference;requestAnimationFrame(function(){e.bar&&e.bar.setAttribute("stroke-dashoffset",n)})}},{key:"radius",get:function(){return(this.options.size-2)/2}},{key:"circumference",get:function(){return 2*Math.PI*this.radius}}])&&b(n.prototype,r),i&&b(n,i),e}(),O=n("u5FJ"),k=n("Jaym");function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(t){function e(t){var n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,i=E(e).call(this),A(S(n=!i||"object"!==j(i)&&"function"!=typeof i?S(r):i),"_onEnter",function(t){O.g.add(t.currentTarget,"is-dragover"),n.emit("dragenter",t)}),A(S(n),"_onLeave",function(t){O.g.remove(t.currentTarget,"is-dragover"),n.emit("dragleave",t)}),A(S(n),"_onDrop",function(t){var e=t.currentTarget,r=t.dataTransfer.files;O.g.remove(e,"is-dragover"),n.emit("drop",r)}),n.options=t,n.dropArea=t.dropArea,n.init(),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,k["a"]),n=e,(r=[{key:"init",value:function(){if(!this._dropSupported())return O.g.add(this.dropArea,"no-drop");this.bindEvents()}},{key:"_dropSupported",value:function(){var t=document.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}},{key:"bindEvents",value:function(){this.dropArea&&(Object(O.c)(this.dropArea,"dragenter",this._onEnter),Object(O.c)(this.dropArea,"dragleave",this._onLeave),Object(O.c)(this.dropArea,"drop",this._onDrop),Object(O.c)(this.dropArea,"dragenter dragleave dragover drop",function(t){t.preventDefault(),t.stopPropagation()}))}},{key:"destroy",value:function(){this.dropArea&&(Object(O.b)(this.dropArea,"dragenter",this._onEnter),Object(O.b)(this.dropArea,"dragleave",this._onLeave),Object(O.b)(this.dropArea,"drop",this._onDrop))}}])&&C(n.prototype,r),i&&C(n,i),e}(),N=n("OAgh"),L=n("Ngrm");function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function D(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?q(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H={uploadAfterChange:!0,fileProp:"file",axiosConfig:{url:"/upload/image",method:"POST"},inputProps:{type:"file",className:"hidden",hidden:!0,accept:"image/*"},plugins:{}},$=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),U(q(t=D(this,R(e).call(this))),"files",null),U(q(t),"el",null),U(q(t),"plugins",[]),U(q(t),"_loading",!1),U(q(t),"_onFileAdded",function(e){t.disabled||(t.files=e,t.emit(N.a.fileAdded,e),t.options.uploadAfterChange&&t.upload())}),U(q(t),"_showDisabledMessage",function(e){if(t.options.checkDisable){var n=t.options.checkDisable();if(n.status)return L.a.info(n.message),e.stopPropagation(),e.preventDefault(),t.disable()}t.enable()}),t.options=l()({},H,n),t.options.el?(t.trigger=Object(O.l)(".uploader-trigger",t.options.el),t.wrap=Object(O.l)(".uploader-wrap",t.options.el),t.disabled=!1,t.dropzone=new T({dropArea:t.trigger}),t.init(),t):D(t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,k["a"]),F(e,null,[{key:"setInputValue",value:function(t){return function(e){var n=document.querySelector('input[name="'.concat(t,'"]')),r="";e&&e.file_name&&(r=e.file_name),n&&(n.value=r)}}}]),F(e,[{key:"init",value:function(){this._createInput(),this.bindEvents(),this.initPlugins()}},{key:"bindEvents",value:function(){Object(O.c)(this._input,"change",this._onInputChange.bind(this)),Object(O.c)(this.trigger,"click",this._showDisabledMessage),this.dropzone.on("drop",this._onFileAdded)}},{key:"initPlugins",value:function(){var t=this;c()(this.options.plugins,function(e){var n=e.config||{};t.plugins.push(new e.class(t,n))}),this.plugins.forEach(function(t){return t.install()})}},{key:"upload",value:function(){var t,e=(t=i.a.mark(function t(){var e,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return",Promise.reject("Идёт загрузка"));case 2:if(!this.disabled){t.next=4;break}return t.abrupt("return",Promise.reject("Загрузчик имеет статус disabled: true"));case 4:if(e=this._getAxiosConfig(),n=this._getFormData()){t.next=8;break}return t.abrupt("return",Promise.reject("В FormData пусто"));case 8:return e.data=n,this.loading=!0,this.progress=new x(this.trigger,{size:46}),this.emit(N.a.start),t.prev=12,t.next=15,d.a.request(e);case 15:r=t.sent,this.emit(N.a.complete,r.data,r),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(12),this.emit(N.a.error,t.t0),console.error(t.t0);case 23:return this.loading=!1,this.progress.remove(),t.abrupt("return",r);case 26:case"end":return t.stop()}},t,this,[[12,19]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){I(o,r,i,a,s,"next",t)}function s(t){I(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()},{key:"disable",value:function(){return this._input.disabled=!0,this.disabled=!0}},{key:"enable",value:function(){return this._input.disabled=!1,this.disabled=!1}},{key:"_createInput",value:function(){this._input=Object(p.a)("input",this.options.inputProps),this.trigger.appendChild(this._input)}},{key:"_getAxiosConfig",value:function(){var t=this,e=this.options.axiosConfig,n=e.onUploadProgress||a.a;return e.onUploadProgress=function(e){var r=Math.round(100*e.loaded/e.total);t.progress.setValue(r),n(e)},l()({},e)}},{key:"_getFormData",value:function(){var t=this.files,e=t;if(!t)return null;if(t instanceof FileList){if(!t.length)return null;e=t[0]}t instanceof Blob&&(e=t);var n=new FormData;return n.append("file",e,e.name),this.options.formData&&this.options.formData(n),n}},{key:"_onInputChange",value:function(t){var e=t.target.files;this._onFileAdded(e)}},{key:"loading",get:function(){return this._loading},set:function(t){this._loading=t,O.g.toggle(this.options.el,"is-loading",t)}}]),e}();e.a=$},gmAb:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return l});var r=n("u5FJ"),i=n("Jaym"),o=n("dWBF"),a=function(t,e){return e.split(".").reduce(function(t,e){return t[e]},t)},s=function(t){var e=Object(r.l)(".comments .shifted");e&&e!==t&&(e.style.marginLeft="",r.g.remove(e,"shifted"))},c=function(t){if(t){var e=Object(r.i)(t).left,n=Object(r.i)(Object(r.l)(".comments")).left;if(r.g.has(t,"shifted"))return s();t.style.marginLeft="-".concat(e-n,"px"),r.g.add(t,"shifted")}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(i.o)(t)&&(t=Object(r.l)(t)),t){if(t.closest(".comment__children.hidden"))for(var n=t.closest(".comment__children.hidden");n;)r.g.remove(n,"hidden"),n=n.closest(".comment__children.hidden");var o,a,s=(o=t,a=Object(r.l)(".header"),Object(r.i)(o).top-(a?a.offsetHeight+10:10)),c=e.highlight,u=void 0===c||c,l=e.preventScrollIfVisible;u&&(r.g.add(t,"comment_highlight"),Object(r.d)("#".concat(t.id," > .comment__body"),"mouseenter",function(){r.g.remove(t,"comment_highlight")}));var f=s-pageYOffset;l&&f>0||window.scroll(0,s)}},l=function(t){var e=o.b[t];return e&&6!=t?'<span style="color: #818181;">Комментарий был удален: Причина - '.concat(e,"</span>"):'<span style="color: #818181;">Комментарий был удален</span>'}},gpZ8:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},gwcX:function(t,e){t.exports=function(){return!1}},h9fk:function(t,e,n){var r=n("VU/8")(n("9Yos"),n("l5gR"),!1,null,null,null);t.exports=r.exports},hAM4:function(t,e,n){var r;r=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(o=t)&&o.document&&function(t){return 9===t.nodeType}(o.document)?(n=(e=t).document,r=n.body,i=n.documentElement,{scrollHeight:function(){return Math.max(r.scrollHeight,i.scrollHeight,r.offsetHeight,i.offsetHeight,r.clientHeight,i.clientHeight)},height:function(){return e.innerHeight||i.clientHeight||r.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(i||r.parentNode||r).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,r,i,o}function n(t,n,r){var i,o=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),a=!1,s=e(t),c=s.scrollY(),u={};function l(){var t=Math.round(s.scrollY()),e=s.height(),i=s.scrollHeight();u.scrollY=t,u.lastScrollY=c,u.direction=t>c?"down":"up",u.distance=Math.abs(t-c),u.isOutOfBounds=t<0||t+e>i,u.top=t<=n.offset,u.bottom=t+e>=i,u.toleranceExceeded=u.distance>n.tolerance[u.direction],r(u),c=t,a=!1}function f(){a||(a=!0,i=requestAnimationFrame(l))}var d=!!o&&{passive:!0,capture:!1};return t.addEventListener("scroll",f,d),l(),{destroy:function(){cancelAnimationFrame(i),t.removeEventListener("scroll",f,d)}}}function r(t,e){var n;e=e||{},Object.assign(this,r.options,e),this.classes=Object.assign({},r.options.classes,e.classes),this.elem=t,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}return r.prototype={constructor:r,init:function(){return r.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add(this.classes[t])},removeClass:function(t){this.elem.classList.remove(this.classes[t])},hasClass:function(t){return this.elem.classList.contains(this.classes[t])},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},r.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),r},t.exports=r()},hGaF:function(t,e,n){var r=n("r54x"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},hIPy:function(t,e,n){var r=n("NGEn"),i=n("6MiT"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},hKoQ:function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,a=void 0,s=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(a?a(v):_())};var c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var h=new Array(1e3);function v(){for(var t=0;t<i;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}i=0}var m,g,b,y,_=void 0;function w(t,e){var n=this,r=new this.constructor(k);void 0===r[O]&&R(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return I(i,r,o,n._result)})}else L(n,r,t,e);return r}function x(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return P(e,t),e}f?_=function(){return e.nextTick(v)}:l?(g=0,b=new l(v),y=document.createTextNode(""),b.observe(y,{characterData:!0}),_=function(){y.data=g=++g%2}):d?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:p()}catch(t){return p()}}():p();var O=Math.random().toString(36).substring(2);function k(){}var j=void 0,C=1,E=2;function S(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===x?function(t,e){e._state===C?T(t,e._result):e._state===E?N(t,e._result):L(e,void 0,function(e){return P(t,e)},function(e){return N(t,e)})}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?P(t,n):T(t,n))},function(e){r||(r=!0,N(t,e))},t._label);!r&&i&&(r=!0,N(t,i))},t)}(e,n,r):T(e,n)}function P(t,e){if(t===e)N(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=e),null===r||"object"!==i&&"function"!==i)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void N(t,e)}S(t,e,n)}var r,i}function A(t){t._onerror&&t._onerror(t._result),M(t)}function T(t,e){t._state===j&&(t._result=e,t._state=C,0!==t._subscribers.length&&s(M,t))}function N(t,e){t._state===j&&(t._state=E,t._result=e,s(A,t))}function L(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+C]=n,i[o+E]=r,0===o&&t._state&&s(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?I(n,r,i,o):i(o);t._subscribers.length=0}}function I(e,n,r,i){var o=t(r),a=void 0,s=void 0,c=!0;if(o){try{a=r(i)}catch(t){c=!1,s=t}if(n===a)return void N(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==j||(o&&c?P(n,a):!1===c?N(n,s):e===C?T(n,a):e===E&&N(n,a))}var D=0;function R(t){t[O]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var q=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[O]||R(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&T(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===j&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===x){var i=void 0,o=void 0,a=!1;try{i=t.then}catch(t){a=!0,o=t}if(i===w&&t._state!==j)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===B){var s=new n(k);a?N(s,o):S(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===j&&(this._remaining--,t===E?N(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;L(t,void 0,function(t){return n._settledAt(C,e,t)},function(t){return n._settledAt(E,e,t)})},t}();var B=function(){function e(t){this[O]=D++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){P(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return B.prototype.then=w,B.all=function(t){return new q(this,t).promise},B.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=x,B.reject=function(t){var e=new this(k);return N(e,t),e},B._setScheduler=function(t){a=t},B._setAsap=function(t){s=t},B._asap=s,B.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=B},B.Promise=B,B},t.exports=r()}).call(e,n("W2nU"),n("DuR2"))},hNIH:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_caution search-filter__checkbox-list_flex"},t._l(t.state.caution_list,function(e,r){return n("CheckboxWithExclude",{key:r,attrs:{state:t.state.caution,value:r}},[t._v("\n    "+t._s(e)+"\n  ")])}),1)},staticRenderFns:[]}},hbAh:function(t,e,n){var r=n("bJWQ"),i=n("YDHx"),o=1,a=2;t.exports=function(t,e,n,s){var c=n.length,u=c,l=!s;if(null==t)return!u;for(t=Object(t);c--;){var f=n[c];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<u;){var d=(f=n[c])[0],p=t[d],h=f[1];if(l&&f[2]){if(void 0===p&&!(d in t))return!1}else{var v=new r;if(s)var m=s(p,h,d,t,e,v);if(!(void 0===m?i(h,p,o|a,s,v):m))return!1}}return!0}},hcE8:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(e,n("DuR2"))},hdIB:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("vue-modal",{attrs:{id:"bookmark-change-status-modal",type:"bottom-sheet",title:"Добавить в список","close-icon":""}},[e("bookmark-folders-list",{attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton},on:{selected:this.changeStatus,created:this.folderCreated}})],1)},staticRenderFns:[]}},hffE:function(t,e,n){"use strict";var r=n("whWw"),i=n("1rEs"),o=n("C1ru");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},hiy0:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},hlPV:function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=10)}([function(t,e){t.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleLowerCase()}},"!":{escape:!0}}},function(t,e,n){"use strict";function r(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var i=n(2),o=n(0),a=n.n(o);e.a=function(t,e){var o=e.value;if((Array.isArray(o)||"string"==typeof o)&&(o={mask:o,tokens:a.a}),"INPUT"!==t.tagName.toLocaleUpperCase()){var s=t.getElementsByTagName("input");if(1!==s.length)throw new Error("v-mask directive requires 1 input, found "+s.length);t=s[0]}t.oninput=function(e){if(e.isTrusted){var a=t.selectionEnd,s=t.value[a-1];for(t.value=n.i(i.a)(t.value,o.mask,!0,o.tokens);a<t.value.length&&t.value.charAt(a-1)!==s;)a++;t===document.activeElement&&(t.setSelectionRange(a,a),setTimeout(function(){t.setSelectionRange(a,a)},0)),t.dispatchEvent(r("input"))}};var c=n.i(i.a)(t.value,o.mask,!0,o.tokens);c!==t.value&&(t.value=c,t.dispatchEvent(r("input")))}},function(t,e,n){"use strict";var r=n(6),i=n(5);e.a=function(t,e){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];return Array.isArray(e)?n.i(i.a)(r.a,e,a)(t,e,o,a):n.i(r.a)(t,e,o,a)}},function(t,e,n){"use strict";function r(t){t.component(c.a.name,c.a),t.directive("mask",a.a)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),a=n(1),s=n(7),c=n.n(s);n.d(e,"TheMask",function(){return c.a}),n.d(e,"mask",function(){return a.a}),n.d(e,"tokens",function(){return o.a}),n.d(e,"version",function(){return u});var u="0.11.1";e.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0),o=n.n(i),a=n(2);e.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return o.a}}},directives:{mask:r.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(t){t!==this.lastValue&&(this.display=t)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(t){t.isTrusted||this.refresh(t.target.value)},refresh:function(t){this.display=t,(t=n.i(a.a)(t,this.mask,this.masked,this.tokens))!==this.lastValue&&(this.lastValue=t,this.$emit("input",t))}}}},function(t,e,n){"use strict";e.a=function(t,e,n){return e=e.sort(function(t,e){return t.length-e.length}),function(r,i){for(var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=0;a<e.length;){var s=e[a],c=e[++a];if(!(c&&t(r,c,!0,n).length>s.length))return t(r,s,o,n)}return""}}},function(t,e,n){"use strict";e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];t=t||"",e=e||"";for(var i=0,o=0,a="";i<e.length&&o<t.length;){var s=r[l=e[i]],c=t[o];s&&!s.escape?(s.pattern.test(c)&&(a+=s.transform?s.transform(c):c,i++),o++):(s&&s.escape&&(l=e[++i]),n&&(a+=l),c===l&&o++,i++)}for(var u="";i<e.length&&n;){var l;if(r[l=e[i]]){u="";break}u+=l,i++}return a+u}},function(t,e,n){var r=n(8)(n(4),n(9),null,null);t.exports=r.exports},function(t,e){t.exports=function(t,e,n,r){var i,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,o=t.default);var s="function"==typeof o?o.options:o;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),r){var c=s.computed||(s.computed={});Object.keys(r).forEach(function(t){var e=r[t];c[t]=function(){return e}})}return{esModule:i,exports:o,options:s}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"mask",rawName:"v-mask",value:t.config,expression:"config"}],attrs:{type:"text"},domProps:{value:t.display},on:{input:t.onInput}})},staticRenderFns:[]}},function(t,e,n){t.exports=n(3)}])},t.exports=r()},hrPF:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},hygk:function(t,e,n){var r=n("YDHx");t.exports=function(t,e){return r(t,e)}},i4Cv:function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function a(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),s=0;s<o.length;s++){var c=o[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},i4ON:function(t,e,n){var r=n("nw3t"),i=n("22B7"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},i6nN:function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},i9tX:function(t,e,n){var r=n("hcE8"),i=n("He3V").f,o=n("asqq"),a=n("+opI"),s=n("C/Wh"),c=n("PYrI"),u=n("hGaF");t.exports=function(t,e){var n,l,f,d,p,h=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!u(v?l:h+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,t)}}},iL3P:function(t,e,n){var r=n("eG8/"),i=n("3Did"),o=n("hIPy"),a=n("Ubhr");t.exports=function(t){return o(t)?r(a(t)):i(t)}},iMIp:function(t,e,n){var r=n("o2mx"),i=n("Wh6c"),o=n("UNUE"),a=n("IttV"),s=n("0ghZ"),c=n("ZT2e"),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var l=s(t),f=s(e),d=a(l,f),p=o(l,f)+1;return i(l,d,p).join("")}},iRXW:function(t,e,n){var r=n("zZbG"),i=n("3znZ");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),i(n)}},iSNJ:function(t,e,n){"use strict";function r(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function i(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function o(t){var e=i(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function a(t){return t instanceof i(t).Element||t instanceof Element}function s(t){return t instanceof i(t).HTMLElement||t instanceof HTMLElement}function c(t){return t?(t.nodeName||"").toLowerCase():null}function u(t){return(a(t)?t.ownerDocument:t.document).documentElement}function l(t){return r(u(t)).left+o(t).scrollLeft}function f(t){return i(t).getComputedStyle(t)}function d(t){var e=f(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function p(t,e,n){void 0===n&&(n=!1);var a,f,p=u(e),h=r(t),v={scrollLeft:0,scrollTop:0},m={x:0,y:0};return n||(("body"!==c(e)||d(p))&&(v=(a=e)!==i(a)&&s(a)?{scrollLeft:(f=a).scrollLeft,scrollTop:f.scrollTop}:o(a)),s(e)?((m=r(e)).x+=e.clientLeft,m.y+=e.clientTop):p&&(m.x=l(p))),{x:h.left+v.scrollLeft-m.x,y:h.top+v.scrollTop-m.y,width:h.width,height:h.height}}function h(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function v(t){return"html"===c(t)?t:t.assignedSlot||t.parentNode||t.host||u(t)}function m(t,e){void 0===e&&(e=[]);var n=function t(e){return["html","body","#document"].indexOf(c(e))>=0?e.ownerDocument.body:s(e)&&d(e)?e:t(v(e))}(t),r="body"===c(n),o=i(n),a=r?[o].concat(o.visualViewport||[],d(n)?n:[]):n,u=e.concat(a);return r?u:u.concat(m(v(a)))}function g(t){return["table","td","th"].indexOf(c(t))>=0}function b(t){return s(t)&&"fixed"!==f(t).position?t.offsetParent:null}function y(t){for(var e=i(t),n=b(t);n&&g(n);)n=b(n);return n&&"body"===c(n)&&"static"===f(n).position?e:n||e}var _="top",w="bottom",x="right",O="left",k="auto",j=[_,w,x,O],C="start",E="end",S="clippingParents",P="viewport",A="popper",T="reference",N=j.reduce(function(t,e){return t.concat([e+"-"+C,e+"-"+E])},[]),L=[].concat(j,[k]).reduce(function(t,e){return t.concat([e,e+"-"+C,e+"-"+E])},[]),M=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function I(t){var e=new Map,n=new Set,r=[];return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||function t(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(r){if(!n.has(r)){var i=e.get(r);i&&t(i)}}),r.push(i)}(t)}),r}function D(t){return t.split("-")[0]}var R={placement:"bottom",modifiers:[],strategy:"absolute"};function q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function B(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?R:i;return function(t,e,n){void 0===n&&(n=o);var i,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},R,{},o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],l=!1,f={state:c,setOptions:function(n){d(),c.options=Object.assign({},o,{},c.options,{},n),c.scrollParents={reference:a(t)?m(t):t.contextElement?m(t.contextElement):[],popper:m(e)};var i=function(t){var e=I(t);return M.reduce(function(t,n){return t.concat(e.filter(function(t){return t.phase===n}))},[])}(function(t){var e=t.reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,c.options.modifiers)));return c.orderedModifiers=i.filter(function(t){return t.enabled}),c.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:c,name:e,instance:f,options:r});u.push(o||function(){})}}),f.update()},forceUpdate:function(){if(!l){var t=c.elements,e=t.reference,n=t.popper;if(q(e,n)){c.rects={reference:p(e,y(n),"fixed"===c.options.strategy),popper:h(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(t){return c.modifiersData[t.name]=Object.assign({},t.data)});for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,a=i.options,s=void 0===a?{}:a,u=i.name;"function"==typeof o&&(c=o({state:c,options:s,name:u,instance:f})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(t){f.forceUpdate(),t(c)})},function(){return s||(s=new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})),s}),destroy:function(){d(),l=!0}};if(!q(t,e))return f;function d(){u.forEach(function(t){return t()}),u=[]}return f.setOptions(n).then(function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)}),f}}var F={passive:!0};function z(t){return t.split("-")[1]}function U(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function H(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?D(i):null,a=i?z(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case _:e={x:s,y:n.y-r.height};break;case w:e={x:s,y:n.y+n.height};break;case x:e={x:n.x+n.width,y:c};break;case O:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var u=o?U(o):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case C:e[u]=Math.floor(e[u])-Math.floor(n[l]/2-r[l]/2);break;case E:e[u]=Math.floor(e[u])+Math.ceil(n[l]/2-r[l]/2)}}return e}var $={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V(t){var e,n=t.popper,r=t.popperRect,o=t.placement,a=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,f=function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:Math.round(e*r)/r||0,y:Math.round(n*r)/r||0}}(a),d=f.x,p=f.y,h=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),m=O,g=_,b=window;if(l){var k=y(n);k===i(n)&&(k=u(n)),o===_&&(g=w,p-=k.clientHeight-r.height,p*=c?1:-1),o===O&&(m=x,d-=k.clientWidth-r.width,d*=c?1:-1)}var j,C=Object.assign({position:s},l&&$);return c?Object.assign({},C,((j={})[g]=v?"0":"",j[m]=h?"0":"",j.transform=(b.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",j)):Object.assign({},C,((e={})[g]=v?p+"px":"",e[m]=h?d+"px":"",e.transform="",e))}var W={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,function(t){return W[t]})}var Y={start:"end",end:"start"};function K(t){return t.replace(/start|end/g,function(t){return Y[t]})}function Z(t){return parseFloat(t)||0}function J(t){var e=i(t),n=function(t){var e=s(t)?f(t):{};return{top:Z(e.borderTopWidth),right:Z(e.borderRightWidth),bottom:Z(e.borderBottomWidth),left:Z(e.borderLeftWidth)}}(t),r="html"===c(t),o=l(t),a=t.clientWidth+n.right,u=t.clientHeight+n.bottom;return r&&e.innerHeight-t.clientHeight>50&&(u=e.innerHeight-n.bottom),{top:r?0:t.clientTop,right:t.clientLeft>n.left?n.right:r?e.innerWidth-a-o:t.offsetWidth-a,bottom:r?e.innerHeight-u:t.offsetHeight-u,left:r?o:t.clientLeft}}function X(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Q(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tt(t,e){return e===P?Q(function(t){var e=i(t),n=e.visualViewport,r=e.innerWidth,o=e.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=n.width,o=n.height),{width:r,height:o,x:0,y:0}}(t)):s(e)?r(e):Q(function(t){var e=i(t),n=o(t),r=p(u(t),e);return r.height=Math.max(r.height,e.innerHeight),r.width=Math.max(r.width,e.innerWidth),r.x=-n.scrollLeft,r.y=-n.scrollTop,r}(u(t)))}function et(t,e,n){var r="clippingParents"===e?function(t){var e=m(t),n=["absolute","fixed"].indexOf(f(t).position)>=0&&s(t)?y(t):t;return a(n)?e.filter(function(t){return a(t)&&X(t,n)}):[]}(t):[].concat(e),i=[].concat(r,[n]),o=i[0],c=i.reduce(function(e,n){var r=tt(t,n),i=J(s(n)?n:u(t));return e.top=Math.max(r.top+i.top,e.top),e.right=Math.min(r.right-i.right,e.right),e.bottom=Math.min(r.bottom-i.bottom,e.bottom),e.left=Math.max(r.left+i.left,e.left),e},tt(t,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function nt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function rt(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}function it(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,s=n.boundary,c=void 0===s?S:s,l=n.rootBoundary,f=void 0===l?P:l,d=n.elementContext,p=void 0===d?A:d,h=n.altBoundary,v=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,b=nt("number"!=typeof g?g:rt(g,j)),y=p===A?T:A,O=t.elements.reference,k=t.rects.popper,C=t.elements[v?y:p],E=et(a(C)?C:C.contextElement||u(t.elements.popper),c,f),N=r(O),L=H({reference:N,element:k,strategy:"absolute",placement:o}),M=Q(Object.assign({},k,{},L)),I=p===A?M:N,D={top:E.top-I.top+b.top,bottom:I.bottom-E.bottom+b.bottom,left:E.left-I.left+b.left,right:I.right-E.right+b.right},R=t.modifiersData.offset;if(p===A&&R){var q=R[o];Object.keys(D).forEach(function(t){var e=[x,w].indexOf(t)>=0?1:-1,n=[_,w].indexOf(t)>=0?"y":"x";D[t]+=q[n]*e})}return D}function ot(t,e,n){return Math.max(t,Math.min(e,n))}function at(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function st(t){return[_,x,w,O].some(function(e){return t[e]>=0})}var ct=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,a=void 0===o||o,s=r.resize,c=void 0===s||s,u=i(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(t){t.addEventListener("scroll",n.update,F)}),c&&u.addEventListener("resize",n.update,F),function(){a&&l.forEach(function(t){t.removeEventListener("scroll",n.update,F)}),c&&u.removeEventListener("resize",n.update,F)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=H({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s={placement:D(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,{},V(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},V(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];s(i)&&c(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});s(r)&&c(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=L.reduce(function(t,n){return t[n]=function(t,e,n){var r=D(t),i=[O,_].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[O,x].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,o),t},{}),s=a[e.placement],c=s.x,u=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,m=e.options.placement,g=D(m),b=c||(g!==m&&h?function(t){if(D(t)===k)return[];var e=G(t);return[K(t),e,K(e)]}(m):[G(m)]),y=[m].concat(b).reduce(function(t,n){return t.concat(D(n)===k?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?L:c,l=z(r),f=(l?s?N:N.filter(function(t){return z(t)===l}):j).filter(function(t){return u.indexOf(t)>=0}).reduce(function(e,n){return e[n]=it(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[D(n)],e},{});return Object.keys(f).sort(function(t,e){return f[t]-f[e]})}(e,{placement:n,boundary:l,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:v}):n)},[]),E=e.rects.reference,S=e.rects.popper,P=new Map,A=!0,T=y[0],M=0;M<y.length;M++){var I=y[M],R=D(I),q=z(I)===C,B=[_,w].indexOf(R)>=0,F=B?"width":"height",U=it(e,{placement:I,boundary:l,rootBoundary:f,altBoundary:d,padding:u}),H=B?q?x:O:q?w:_;E[F]>S[F]&&(H=G(H));var $=G(H),V=[];if(o&&V.push(U[R]<=0),s&&V.push(U[H]<=0,U[$]<=0),V.every(function(t){return t})){T=I,A=!1;break}P.set(I,V)}if(A)for(var W=function(t){var e=y.find(function(e){var n=P.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return T=e,"break"},Y=h?3:1;Y>0&&"break"!==W(Y);Y--);e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,v=n.tetherOffset,m=void 0===v?0:v,g=it(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:l}),b=D(e.placement),k=z(e.placement),j=!k,E=U(b),S="x"===E?"y":"x",P=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,N="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,L={x:0,y:0};if(P){if(o){var M="y"===E?_:O,I="y"===E?w:x,R="y"===E?"height":"width",q=P[E],B=P[E]+g[M],F=P[E]-g[I],H=p?-T[R]/2:0,$=k===C?A[R]:T[R],V=k===C?-T[R]:-A[R],W=e.elements.arrow,G=p&&W?h(W):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=Y[M],Z=Y[I],J=ot(0,A[R],G[R]),X=j?A[R]/2-H-J-K-N:$-J-K-N,Q=j?-A[R]/2+H+J+Z+N:V+J+Z+N,tt=e.elements.arrow&&y(e.elements.arrow),et=tt?"y"===E?tt.clientTop||0:tt.clientLeft||0:0,nt=e.modifiersData.offset?e.modifiersData.offset[e.placement][E]:0,rt=P[E]+X-nt-et,at=P[E]+Q-nt,st=ot(p?Math.min(B,rt):B,q,p?Math.max(F,at):F);P[E]=st,L[E]=st-q}if(s){var ct="x"===E?_:O,ut="x"===E?w:x,lt=P[S],ft=ot(lt+g[ct],lt,lt-g[ut]);P[S]=ft,L[S]=ft-lt}e.modifiersData[r]=L}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=D(n.placement),s=U(a),c=[O,x].indexOf(a)>=0?"height":"width";if(i&&o){var u=n.modifiersData[r+"#persistent"].padding,l=h(i),f="y"===s?_:O,d="y"===s?w:x,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=y(i),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,b=p/2-v/2,k=u[f],j=g-l[c]-u[d],C=g/2-l[c]/2+b,E=ot(k,C,j),S=s;n.modifiersData[r]=((e={})[S]=E,e.centerOffset=E-C,e)}},effect:function(t){var e=t.state,n=t.options,r=t.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&X(e.elements.popper,o)&&(e.elements.arrow=o,e.modifiersData[r+"#persistent"]={padding:nt("number"!=typeof s?s:rt(s,j))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=it(e,{elementContext:"reference"}),s=it(e,{altBoundary:!0}),c=at(a,r),u=at(s,i,o),l=st(c),f=st(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]});n.d(e,"b",function(){return ie}),n.d(e,"c",function(){return ne});var ut="tippy-box",lt="tippy-content",ft="tippy-backdrop",dt="tippy-arrow",pt="tippy-svg-arrow",ht={passive:!0,capture:!0};function vt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function mt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function gt(t,e){return"function"==typeof t?t.apply(void 0,e):t}function bt(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function yt(t,e){var n=Object.assign({},t);return e.forEach(function(t){delete n[t]}),n}function _t(t){return[].concat(t)}function wt(t,e){-1===t.indexOf(e)&&t.push(e)}function xt(t){return t.split("-")[0]}function Ot(t){return[].slice.call(t)}function kt(){return document.createElement("div")}function jt(t){return["Element","Fragment"].some(function(e){return mt(t,e)})}function Ct(t){return mt(t,"MouseEvent")}function Et(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function St(t){return jt(t)?[t]:function(t){return mt(t,"NodeList")}(t)?Ot(t):Array.isArray(t)?t:Ot(document.querySelectorAll(t))}function Pt(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function At(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Tt(t){var e=_t(t)[0];return e&&e.ownerDocument||document}function Nt(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[r](e,n)})}var Lt={isTouch:!1},Mt=0;function It(){Lt.isTouch||(Lt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dt))}function Dt(){var t=performance.now();t-Mt<20&&(Lt.isTouch=!1,document.removeEventListener("mousemove",Dt)),Mt=t}function Rt(){var t=document.activeElement;if(Et(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var qt="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Bt=/MSIE |Trident\//.test(qt);var Ft={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},zt=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ft,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ut=Object.keys(zt);function Ht(t){var e=(t.plugins||[]).reduce(function(e,n){var r=n.name,i=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:i),e},{});return Object.assign({},t,{},e)}function $t(t,e){var n=Object.assign({},e,{content:gt(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Ht(Object.assign({},zt,{plugins:e}))):Ut).reduce(function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e},{})}(t,e.plugins));return n.aria=Object.assign({},zt.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var Vt=function(){return"innerHTML"};function Wt(t,e){t[Vt()]=e}function Gt(t){var e=kt();return!0===t?e.className=dt:(e.className=pt,jt(t)?e.appendChild(t):Wt(e,t)),e}function Yt(t,e){jt(e.content)?(Wt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Wt(t,e.content):t.textContent=e.content)}function Kt(t){var e=t.firstElementChild,n=Ot(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(lt)}),arrow:n.find(function(t){return t.classList.contains(dt)||t.classList.contains(pt)}),backdrop:n.find(function(t){return t.classList.contains(ft)})}}function Zt(t){var e=kt(),n=kt();n.className=ut,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=kt();function i(n,r){var i=Kt(e),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Yt(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(Gt(r.arrow))):o.appendChild(Gt(r.arrow)):s&&o.removeChild(s)}return r.className=lt,r.setAttribute("data-state","hidden"),Yt(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props),{popper:e,onUpdate:i}}Zt.$$tippy=!0;var Jt=1,Xt=[],Qt=[];function te(t,e){var n,r,i,o,a,s,c,u,l=$t(t,Object.assign({},zt,{},Ht(e))),f=!1,d=!1,p=!1,h=!1,v=[],m=bt(G,l.interactiveDebounce),g=Tt(l.triggerTarget||t),b=Jt++,y=(u=l.plugins).filter(function(t,e){return u.indexOf(t)===e}),_={id:b,reference:t,popper:kt(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(e){0;if(_.state.isDestroyed)return;L("onBeforeUpdate",[_,e]),V();var n=_.props,r=$t(t,Object.assign({},_.props,{},e,{ignoreAttributes:!0}));_.props=r,$(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),m=bt(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?_t(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&t.removeAttribute("aria-expanded");I(),N(),O&&O(n,r);_.popperInstance&&(J(),Q().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));L("onAfterUpdate",[_,e])},setContent:function(t){_.setProps({content:t})},show:function(){0;var t=_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=Lt.isTouch&&!_.props.touch,i=vt(_.props.duration,0,zt.duration);if(t||e||n||r)return;if(P().hasAttribute("disabled"))return;if(L("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,S()&&(x.style.visibility="visible");N(),F(),_.state.isMounted||(x.style.transition="none");if(S()){var o=A(),a=o.box,c=o.content;Pt([a,c],0)}s=function(){if(_.state.isVisible&&!h){if(h=!0,x.offsetHeight,x.style.transition=_.props.moveTransition,S()&&_.props.animation){var t=A(),e=t.box,n=t.content;Pt([e,n],i),At([e,n],"visible")}M(),I(),wt(Qt,_),_.state.isMounted=!0,L("onMount",[_]),_.props.animation&&S()&&function(t,e){U(t,e)}(i,function(){_.state.isShown=!0,L("onShown",[_])})}},function(){var t,e=_.props.appendTo,n=P();t=_.props.interactive&&e===zt.appendTo||"parent"===e?n.parentNode:gt(e,[n]);t.contains(x)||t.appendChild(x);J(),0}()},hide:function(){0;var t=!_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=vt(_.props.duration,1,zt.duration);if(t||e||n)return;if(L("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,h=!1,S()&&(x.style.visibility="hidden");if(D(),z(),N(),S()){var i=A(),o=i.box,a=i.content;_.props.animation&&(Pt([o,a],r),At([o,a],"hidden"))}M(),I(),_.props.animation?S()&&function(t,e){U(t,function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&e()})}(r,_.unmount):_.unmount()},hideWithInteractivity:function(t){0;g.body.addEventListener("mouseleave",et),g.addEventListener("mousemove",m),wt(Xt,m),m(t)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;X(),Q().forEach(function(t){t._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x);Qt=Qt.filter(function(t){return t!==_}),_.state.isMounted=!1,L("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),V(),delete t._tippy,_.state.isDestroyed=!0,L("onDestroy",[_])}};if(!l.render)return _;var w=l.render(_),x=w.popper,O=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+_.id,_.popper=x,t._tippy=_,x._tippy=_;var k=y.map(function(t){return t.fn(_)}),j=t.hasAttribute("aria-expanded");return $(),I(),N(),L("onCreate",[_]),l.showOnCreate&&tt(),x.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(t){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(g.addEventListener("mousemove",m),m(t))}),_;function C(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function E(){return"hold"===C()[0]}function S(){var t;return!!(null==(t=_.props.render)?void 0:t.$$tippy)}function P(){return c||t}function A(){return Kt(x)}function T(t){return _.state.isMounted&&!_.state.isVisible||Lt.isTouch||o&&"focus"===o.type?0:vt(_.props.delay,t?0:1,zt.delay)}function N(){x.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",x.style.zIndex=""+_.props.zIndex}function L(t,e,n){var r;(void 0===n&&(n=!0),k.forEach(function(n){n[t]&&n[t].apply(void 0,e)}),n)&&(r=_.props)[t].apply(r,e)}function M(){var e=_.props.aria;if(e.content){var n="aria-"+e.content,r=x.id;_t(_.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(n);if(_.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}})}}function I(){!j&&_.props.aria.expanded&&_t(_.props.triggerTarget||t).forEach(function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===P()?"true":"false"):t.removeAttribute("aria-expanded")})}function D(){g.body.removeEventListener("mouseleave",et),g.removeEventListener("mousemove",m),Xt=Xt.filter(function(t){return t!==m})}function R(t){if(!(Lt.isTouch&&(p||"mousedown"===t.type)||_.props.interactive&&x.contains(t.target))){if(P().contains(t.target)){if(Lt.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[_,t]);!0===_.props.hideOnClick&&(f=!1,_.clearDelayTimeouts(),_.hide(),d=!0,setTimeout(function(){d=!1}),_.state.isMounted||z())}}function q(){p=!0}function B(){p=!1}function F(){g.addEventListener("mousedown",R,!0),g.addEventListener("touchend",R,ht),g.addEventListener("touchstart",B,ht),g.addEventListener("touchmove",q,ht)}function z(){g.removeEventListener("mousedown",R,!0),g.removeEventListener("touchend",R,ht),g.removeEventListener("touchstart",B,ht),g.removeEventListener("touchmove",q,ht)}function U(t,e){var n=A().box;function r(t){t.target===n&&(Nt(n,"remove",r),e())}if(0===t)return e();Nt(n,"remove",a),Nt(n,"add",r),a=r}function H(e,n,r){void 0===r&&(r=!1),_t(_.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,r),v.push({node:t,eventType:e,handler:n,options:r})})}function $(){var t;E()&&(H("touchstart",W,{passive:!0}),H("touchend",Y,{passive:!0})),(t=_.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(H(t,W),t){case"mouseenter":H("mouseleave",Y);break;case"focus":H(Bt?"focusout":"blur",K);break;case"focusin":H("focusout",K)}})}function V(){v.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),v=[]}function W(t){var e,n=!1;if(_.state.isEnabled&&!Z(t)&&!d){var r="focus"===(null==(e=o)?void 0:e.type);o=t,c=t.currentTarget,I(),!_.state.isVisible&&Ct(t)&&Xt.forEach(function(e){return e(t)}),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||f)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:tt(t),"click"===t.type&&(f=!n),n&&!r&&et(t)}}function G(e){var n=e.target,r=t.contains(n)||x.contains(n);"mousemove"===e.type&&r||function(t,e){var n=e.clientX,r=e.clientY;return t.every(function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=xt(i.placement),s=i.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,u="top"===a?s.bottom.y:0,l="right"===a?s.left.x:0,f="left"===a?s.right.x:0,d=e.top-r+c>o,p=r-e.bottom-u>o,h=e.left-n+l>o,v=n-e.right-f>o;return d||p||h||v})}(Q().concat(x).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:l}:null}).filter(Boolean),e)&&(D(),et(e))}function Y(t){Z(t)||_.props.trigger.indexOf("click")>=0&&f||(_.props.interactive?_.hideWithInteractivity(t):et(t))}function K(t){_.props.trigger.indexOf("focusin")<0&&t.target!==P()||_.props.interactive&&t.relatedTarget&&x.contains(t.relatedTarget)||et(t)}function Z(t){return!!Lt.isTouch&&E()!==t.type.indexOf("touch")>=0}function J(){X();var e=_.props,n=e.popperOptions,r=e.placement,i=e.offset,o=e.getReferenceClientRect,a=e.moveTransition,c=S()?Kt(x).arrow:null,u=o?{getBoundingClientRect:o,contextElement:o.contextElement||P()}:t,l=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(S()){var n=A().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];S()&&c&&l.push({name:"arrow",options:{element:c,padding:3}}),l.push.apply(l,(null==n?void 0:n.modifiers)||[]),_.popperInstance=ct(u,x,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:l}))}function X(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Q(){return Ot(x.querySelectorAll("[data-tippy-root]"))}function tt(t){_.clearDelayTimeouts(),t&&L("onTrigger",[_,t]),F();var e=T(!0),r=C(),i=r[0],o=r[1];Lt.isTouch&&"hold"===i&&o&&(e=o),e?n=setTimeout(function(){_.show()},e):_.show()}function et(t){if(_.clearDelayTimeouts(),L("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&f)){var e=T(!1);e?r=setTimeout(function(){_.state.isVisible&&_.hide()},e):i=requestAnimationFrame(function(){_.hide()})}}else z()}}function ee(t,e){void 0===e&&(e={});var n=zt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",It,ht),window.addEventListener("blur",Rt);var r=Object.assign({},e,{plugins:n}),i=St(t),o=i.reduce(function(t,e){var n=e&&te(e,r);return n&&t.push(n),t},[]);return jt(t)?o[0]:o}ee.defaultProps=zt,ee.setDefaultProps=function(t){Object.keys(t).forEach(function(e){zt[e]=t[e]})},ee.currentInput=Lt;var ne=function(t){var e=void 0===t?{}:t,n=e.exclude,r=e.duration;Qt.forEach(function(t){var e=!1;if(n&&(e=Et(n)?t.reference===n:t.popper===n.popper),!e){var i=t.props.duration;t.setProps({duration:r}),t.hide(),t.state.isDestroyed||t.setProps({duration:i})}})},re={mouseover:"mouseenter",focusin:"focus",click:"click"};function ie(t,e){var n=[],r=[],i=e.target,o=yt(e,["target"]),a=Object.assign({},o,{trigger:"manual",touch:!1}),s=Object.assign({},o,{showOnCreate:!0}),c=ee(t,a);function u(t){if(t.target){var n=t.target.closest(i);if(n){var o=n.getAttribute("data-tippy-trigger")||e.trigger||zt.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof s.touch||"touchstart"!==t.type&&o.indexOf(re[t.type]))){var a=ee(n,s);a&&(r=r.concat(a))}}}}function l(t,e,r,i){void 0===i&&(i=!1),t.addEventListener(e,r,i),n.push({node:t,eventType:e,handler:r,options:i})}return _t(c).forEach(function(t){var e=t.destroy;t.destroy=function(t){void 0===t&&(t=!0),t&&r.forEach(function(t){t.destroy()}),r=[],n.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)}),n=[],e()},function(t){var e=t.reference;l(e,"touchstart",u),l(e,"mouseover",u),l(e,"focusin",u),l(e,"click",u)}(t)}),c}ee.setDefaultProps({render:Zt});e.a=ee},iYj9:function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},iZAE:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Настройки\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"reader-settings"},[n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Цветовая тема\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings-theme"},t._l(t.colors,function(e,r){return n("div",{key:r,staticClass:"reader-settings-theme__item",style:{color:e.text,background:e.background},attrs:{"data-theme":"light-blue"},on:{click:function(n){return t.selectColor(e)}}},[n("span",[t._v("A")])])}),0),t._v(" "),n("div",{staticClass:"reader-settings-colors"},[n("div",{staticClass:"reader-settings-color"},[n("div",{staticClass:"reader-settings-color__title"},[t._v("\n            Цвет фона\n          ")]),t._v(" "),n("label",{staticClass:"reader-settings-color__info"},[n("div",{staticClass:"reader-settings-color__preview"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.color.background,expression:"settings.color.background"}],attrs:{type:"color"},domProps:{value:t.settings.color.background},on:{input:function(e){e.target.composing||t.$set(t.settings.color,"background",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"reader-settings-color__hex"},[t._v("\n              "+t._s(t.settings.color.background)+"\n            ")])])]),t._v(" "),n("div",{staticClass:"reader-settings-color"},[n("div",{staticClass:"reader-settings-color__title"},[t._v("\n            Цвет текста\n          ")]),t._v(" "),n("label",{staticClass:"reader-settings-color__info"},[n("div",{staticClass:"reader-settings-color__preview"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.color.text,expression:"settings.color.text"}],attrs:{type:"color"},domProps:{value:t.settings.color.text},on:{input:function(e){e.target.composing||t.$set(t.settings.color,"text",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"reader-settings-color__hex"},[t._v("\n              "+t._s(t.settings.color.text)+"\n            ")])])])])]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Отступ\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"textIndent",settings:t.settings,items:{enabled:"Включено",disabled:"Выключено"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Размер шрифта\n        "),n("span",[t._v(t._s(t.settings.fontSize)+"px")])]),t._v(" "),n("div",{staticClass:"reader-settings__slider"},[n("AppSlider",{attrs:{options:t.fontSizeOptions},model:{value:t.settings.fontSize,callback:function(e){t.$set(t.settings,"fontSize",e)},expression:"settings.fontSize"}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Высота строк\n        "),n("span",[t._v(t._s(t.settings.lineHeight))])]),t._v(" "),n("div",{staticClass:"reader-settings__slider"},[n("AppSlider",{attrs:{options:t.lineHeightOptions,float:""},model:{value:t.settings.lineHeight,callback:function(e){t.$set(t.settings,"lineHeight",e)},expression:"settings.lineHeight"}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-up":"md"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Ширина контейнера\n        "),n("span",[t._v(t._s(t.settings.containerWidth)+"px")])]),t._v(" "),n("div",{staticClass:"reader-settings__slider"},[n("AppSlider",{attrs:{options:t.containerWidthOptions},model:{value:t.settings.containerWidth,callback:function(e){t.$set(t.settings,"containerWidth",e)},expression:"settings.containerWidth"}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Отступ между абзацами\n        "),n("span",[t._v(t._s(t.settings.paragraphOffset)+"px")])]),t._v(" "),n("div",{staticClass:"reader-settings__slider"},[n("AppSlider",{attrs:{options:t.paragraphOffsetOptions},model:{value:t.settings.paragraphOffset,callback:function(e){t.$set(t.settings,"paragraphOffset",e)},expression:"settings.paragraphOffset"}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-down":"xs"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Шапка\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppCheckbox",{model:{value:t.settings.disableHeader,callback:function(e){t.$set(t.settings,"disableHeader",e)},expression:"settings.disableHeader"}},[t._v("\n          Зафиксировать в начале страницы\n        ")])],1)])])])},staticRenderFns:[]}},iafL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Настройки\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"reader-settings"},[n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Тема читалки\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"theme",settings:t.settings,items:{dark:"Тёмная",light:"Светлая",global:"Тема сайта"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Режим чтения\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"mode",settings:t.settings,items:{horizontal:"Горизонтальный",vertical:"Вертикальный"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Сервер\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"imageServer",settings:t.settings,items:{secondary:"Первый",fourth:"Второй",compress:"Сжатия"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-up":"sm"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Область переключения страниц\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"clickTargetArea",settings:t.settings,items:{image:"Изображение",page:"Весь экран"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group"},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Перелистывание назад\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"turningPage",settings:t.settings,items:{image:"Левая часть изображения",arrow:"Кнопки на экране"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media":"desktop"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Вместить изображения\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"imageFit",settings:t.settings,items:{width:"По ширине контейнера",height:"По высоте экрана"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-up":"sm"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Увеличение страниц\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppSettingsRadioGroup",{attrs:{name:"zoom",settings:t.settings,items:{disabled:"Выключено",enabled:"Включено"}}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-up":"sm"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Ширина контейнера\n        "),n("span",[t._v(t._s(t.settings.containerWidth)+"px")])]),t._v(" "),n("div",{staticClass:"reader-settings__slider"},[n("AppSlider",{attrs:{options:t.containerSizeOptions},model:{value:t.settings.containerWidth,callback:function(e){t.$set(t.settings,"containerWidth",e)},expression:"settings.containerWidth"}})],1)]),t._v(" "),n("div",{staticClass:"reader-settings__group",attrs:{"data-media-down":"xs"}},[n("div",{staticClass:"reader-settings__title"},[t._v("\n        Шапка\n      ")]),t._v(" "),n("div",{staticClass:"reader-settings__controls"},[n("AppCheckbox",{model:{value:t.settings.disableHeader,callback:function(e){t.$set(t.settings,"disableHeader",e)},expression:"settings.disableHeader"}},[t._v("\n          Зафиксировать в начале страницы\n        ")])],1)])])])},staticRenderFns:[]}},ic91:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o),s=n("hlPV");n.n(s);function c(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={components:{VueTheMask:s.TheMask},popupOptions:{size:"md"},props:{backUrl:String},data:function(){return{loading:!1,date:""}},methods:{onSubmit:function(){var t,e=(t=i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,e=this.date.split(".").reverse().join("-"),t.prev=4,t.next=7,a.a.post("/user/save-date-of-birth",{date:e});case 7:location.reload(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.error(t.t0);case 13:this.loading=!1;case 14:case"end":return t.stop()}},t,this,[[4,10]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),back:function(){if(!document.referrer)return location.assign("/");window.history.back()}}}},ie2U:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"border-bottom":"1px solid",display:"flex","justify-content":"space-between","padding-bottom":"10px"}},[n("div",{staticStyle:{"flex-grow":"1"}},[t._v("\n    "+t._s(t.element.number)+" "+t._s(t.name)+"\n  ")]),t._v(" "),t.showName?n("div",{staticStyle:{"flex-grow":"3","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n    "+t._s(t.element.name)+"\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"tooltip",staticStyle:{"flex-grow":"1","text-align":"center"},attrs:{"aria-label":t.tooltipDate()}},[t._v("\n    "+t._s(t.dateTime)+"\n  ")])])},staticRenderFns:[]}},imBK:function(t,e,n){var r=n("22B7");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},izte:function(t,e,n){var r=n("pzR0"),i=n("m1WI");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},jAiL:function(t,e,n){var r=n("hcE8"),i=n("izte"),o=n("l/2K"),a=n("17Rs"),s=n("9+GO"),c=n("TwS1"),u=i("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return o(u,t)||(s&&o(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},jD7S:function(t,e,n){var r=n("tv3T"),i=n("ktak");t.exports=function(t,e){return t&&r(e,i(e),t)}},jE8y:function(t,e,n){var r=n("5+O3"),i=n("oEhq");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},jMi8:function(t,e,n){var r=n("O1jc"),i=n("mKB/"),o=n("Ilb/"),a=n("hrPF"),s=n("WQFf"),c=n("1Yb9"),u=n("NGEn"),l=n("Fp5l"),f=n("ggOT"),d=n("gGqR"),p=n("yCNF"),h=n("9UkZ"),v=n("YsVG"),m=n("MMop"),g=n("TlPD");t.exports=function(t,e,n,b,y,_,w){var x=m(t,n),O=m(e,n),k=w.get(O);if(k)r(t,n,k);else{var j=_?_(x,O,n+"",t,e,w):void 0,C=void 0===j;if(C){var E=u(O),S=!E&&f(O),P=!E&&!S&&v(O);j=O,E||S||P?u(x)?j=x:l(x)?j=a(x):S?(C=!1,j=i(O,!0)):P?(C=!1,j=o(O,!0)):j=[]:h(O)||c(O)?(j=x,c(x)?j=g(x):p(x)&&!d(x)||(j=s(O))):C=!1}C&&(w.set(O,j),y(j,O,b,_,w),w.delete(O)),r(t,n,j)}}},jPxn:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.row,t.isExpanded&&t.$style.row_expanded]},[n("div",{class:t.$style.row__head},[n("span",[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),n("div",{class:t.$style.row__right},[n("div",{class:[t.$style.row__amount,{"text-danger":"down"===t.item.amount_type,"text-success":"up"===t.item.amount_type}]},[t._v("\n        "+t._s("up"===t.item.amount_type?"+":"-")+" "+t._s(t.item.amount)+"\n      ")]),t._v(" "),n("div",{class:["text-muted",t.$style.row__date]},[t._v("\n        "+t._s(t._f("date")(t.item.created_at,"DD.MM.YYYY"))+"\n      ")]),t._v(" "),n("div",{class:t.$style.row__expand,on:{click:t.toggleExpand}},[n("i",{staticClass:"fa fa-chevron-down"})])])]),t._v(" "),t.isExpanded?n("div",{class:t.$style.details},[n("div",{class:t.$style.details__item},[n("div",{class:t.$style.details__title},[t._v("\n        Id:\n      ")]),t._v(" "),n("div",{class:t.$style.details__value},[t._v("\n        "+t._s(t.item.id)+"\n      ")])]),t._v(" "),t.item.manga?n("div",{class:t.$style.details__item},[n("div",{class:t.$style.details__title},[t._v("\n        Тайтл:\n      ")]),t._v(" "),n("div",{class:t.$style.details__value},[n("a",{staticClass:"link-default",attrs:{href:"/"+t.item.manga.slug}},[t._v(t._s(t.item.manga.name))])])]):t._e(),t._v(" "),"buy_volume"===t.item.type&&t.item.source_id?n("div",{class:t.$style.details__item},[n("div",{class:t.$style.details__title},[t._v("\n        Номер тома:\n      ")]),t._v(" "),n("div",{class:t.$style.details__value},[t._v("\n        "+t._s(t.item.source_id)+"\n      ")])]):t._e(),t._v(" "),t.item.payment_operation_id?n("div",{class:t.$style.details__item},[n("div",{class:t.$style.details__title},[t._v("\n        Id операции:\n      ")]),t._v(" "),n("div",{class:t.$style.details__value},[t._v("\n        "+t._s(t.item.payment_operation_id)+"\n      ")])]):t._e()]):t._e()])},staticRenderFns:[]}},jQas:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return o[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:r(u)}}},jgJS:function(t,e,n){var r=n("VpuQ"),i=n("raVe"),o=n("jAiL")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},jjTL:function(t,e,n){var r=n("VU/8")(n("1OuH"),null,!1,null,null,null);t.exports=r.exports},jywo:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r={move:"move",resetCacheTime:"resetCacheTime",updateCache:"updateCache",moveBookmarks:"moveBookmarks",removeBookmarks:"removeBookmarks",updateCount:"updateCount"},i=new(n("Jaym").a)},"k+y2":function(t,e,n){var r=n("VU/8")(n("etgD"),n("8xx6"),!1,null,null,null);t.exports=r.exports},k6cO:function(t,e,n){"use strict";function r(t){var e=299*t.red+587*t.green+114*t.blue;return Math.round(e/1e3)>125?"#000":"#fff"}function i(t){var e=t.slice(1,3),n=t.slice(3,5),r=t.slice(-2);return{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16)}}function o(t){var e=i(t),n=e.red,r=e.green,o=e.blue;n/=255,r/=255,o/=255;var a=Math.min(n,r,o),s=Math.max(n,r,o),c=s-a,u=0,l=0;return u=0==c?0:s==n?(r-o)/c%6:s==r?(o-n)/c+2:(n-r)/c+4,(u=Math.round(60*u))<0&&(u+=360),l=(s+a)/2,{hue:u,saturation:+(100*(0==c?0:c/(1-Math.abs(2*l-1)))).toFixed(1),lightness:l=+(100*l).toFixed(1),toString:function(){var t="".concat(this.hue,", ").concat(this.saturation,"%, ").concat(this.lightness,"%");return this.alpha?(t+=", ".concat(this.alpha),"hsla(".concat(t,")")):"hsl(".concat(t,")")}}}n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},kDk3:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapters-navigation"},t._l(t.slicesCount,function(e){return n("div",{key:e,staticClass:"media-chapters-navigation__item",on:{click:function(n){return t.navigate(e)}}},[t._v("\n    "+t._s(t.rangeStart(e))+"\n  ")])}),0)},staticRenderFns:[]}},kKu7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{current:{type:Number,default:1},total:{type:Number,default:10},perPage:{type:Number,default:10},pageRange:{type:Number,default:3},theme:{type:String,default:"default"},disableArrows:{type:Boolean,default:!1}},computed:{pages:function(){for(var t=[],e=this.rangeStart;e<=this.rangeEnd;e++)t.push(e);return t},hasFirst:function(){return 1!==this.rangeStart},hasLast:function(){return this.rangeEnd!==this.totalPages},totalPages:function(){return Math.ceil(this.total/this.perPage)},rangeStart:function(){var t=this.current-this.pageRange;return t>0?t:1},rangeEnd:function(){var t=this.current+this.pageRange;return t<this.totalPages?t:this.totalPages},hasNextPage:function(){return this.current<this.totalPages},hasPrevPage:function(){return this.current>1}},methods:{changePage:function(t){t===this.current||t<this.current&&!this.hasPrevPage||t>this.current&&!this.hasNextPage||this.$emit("page-changed",t)}}}},"kbi+":function(t,e,n){var r=n("eHwr")(n("KgVm"));t.exports=r},ktak:function(t,e,n){var r=n("7e4z"),i=n("/GnY"),o=n("bGc4");t.exports=function(t){return o(t)?r(t):i(t)}},kvU2:function(t,e,n){var r=n("Fkvj"),i=1,o=4;t.exports=function(t){return r(t,i|o)}},kxzG:function(t,e,n){var r=n("yCNF"),i=n("6MiT"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?o:+t}},"l/2K":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},l4he:function(t,e,n){var r=n("eAIx"),i=n("ZT2e"),o=/[&<>"']/g,a=RegExp(o.source);t.exports=function(t){return(t=i(t))&&a.test(t)?t.replace(o,r):t}},l5gR:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control search-filter__checkbox",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleValue(e)}}},[n("input",{staticClass:"control__input search-filter__with-exclude",attrs:{type:"checkbox"},domProps:{value:t.checkedValue,checked:t.isChecked}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text text-truncate"},[t._t("default")],2)])},staticRenderFns:[]}},l9Lx:function(t,e,n){var r=n("lb6C"),i=n("C0hh"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},"lH+l":function(t,e,n){var r=n("VU/8")(n("uBTs"),n("hNIH"),!1,null,null,null);t.exports=r.exports},lHK6:function(t,e,n){var r=n("/GnY"),i=n("gHOb"),o=n("1Yb9"),a=n("NGEn"),s=n("bGc4"),c=n("ggOT"),u=n("HT7L"),l=n("YsVG"),f="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||o(t)))return!t.length;var e=i(t);if(e==f||e==d)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},lb6C:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},ln3S:function(t,e,n){var r=n("VU/8")(n("PqFN"),n("Z6uz"),!1,null,null,null);t.exports=r.exports},ltkE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o);function s(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={props:{size:String},data:function(){return{loading:!1,name:""}},methods:{create:function(){var t,e=(t=i.a.mark(function t(){var e,n,r,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading&&this.name.length){t.next=2;break}return t.abrupt("return");case 2:return e=document.getElementById("site_type").getAttribute("data-id"),n="/",5===parseInt(e)&&(n="/anime/"),this.loading=!0,t.prev=6,t.next=9,a.a.post("".concat(n,"bookmark-folder"),{name:this.name});case 9:r=t.sent,o=r.data,this.name="",this.$emit("created",o),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),console.error(t.t0);case 18:this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[6,15]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,c,"next",t)}function c(t){s(o,r,i,a,c,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}}},m1WI:function(t,e,n){var r=n("hcE8"),i=n("C/Wh"),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},m1su:function(t,e,n){n("qnda");var r=n("flBj");t.exports=r("Array","find")},mJPh:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},"mKB/":function(t,e,n){(function(t){var r=n("TQ3y"),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n("3IRH")(t))},mQw1:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapters paper section"},[n("div",{staticClass:"media-chapters-head"},[t.branches.length?n("div",{staticClass:"media-section media-chapters-teams"},[t._m(0),t._v(" "),n("div",{staticClass:"team-list",class:{"team-list_has-selected":0!==t.branch}},t._l(t.branches,function(e){return n("AppChapterBranchItem",{key:e.id,attrs:{branch:e,"selected-branch":t.branch,"last-created-chapters":t.lastCreatedChapters},on:{"update:selectedBranch":function(e){t.branch=e},"update:selected-branch":function(e){t.branch=e}}})}),1)]):t._e(),t._v(" "),n("div",{staticClass:"media-section media-chapters-actions"},[n("div",{staticClass:"button button_sm button_light media-chapters-sort",attrs:{"data-sort":t.sort},on:{click:t.changeSort}},[n("svg",{staticClass:"mr-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 113.144 90.311"}},[n("path",{staticClass:"media-chapters-sort__arr-left",attrs:{d:"M54.79 24.23L32.214 1.654l-.003-.003a5.686 5.686 0 00-.41-.371c-.066-.054-.135-.1-.202-.15-.08-.06-.159-.123-.242-.179-.08-.053-.164-.1-.246-.15-.076-.044-.15-.092-.228-.134-.084-.045-.17-.083-.256-.123-.081-.039-.161-.08-.244-.114-.084-.034-.169-.062-.254-.092-.089-.032-.177-.066-.268-.094-.084-.026-.17-.044-.256-.066-.093-.023-.185-.05-.28-.068-.098-.02-.198-.032-.298-.046-.082-.012-.163-.027-.247-.036a5.68 5.68 0 00-1.114 0c-.083.009-.164.024-.247.036-.1.014-.2.026-.299.046-.095.019-.186.045-.28.068-.085.022-.17.04-.255.066-.091.028-.18.062-.268.094-.085.03-.17.058-.254.092-.083.035-.163.075-.244.114-.086.04-.172.078-.256.123-.078.042-.152.09-.228.135-.082.049-.165.096-.246.15-.083.055-.162.117-.242.177-.067.05-.136.097-.202.15a5.63 5.63 0 00-.41.372l-.003.003L1.653 24.23a5.645 5.645 0 007.983 7.983L22.578 19.27v65.395a5.644 5.644 0 1011.288 0V19.271L46.81 32.213a5.645 5.645 0 007.982-7.982z"}}),t._v(" "),n("path",{staticClass:"media-chapters-sort__arr-right",attrs:{d:"M103.508 58.098L90.566 71.04V5.645a5.644 5.644 0 10-11.289 0V71.04L66.335 58.098a5.645 5.645 0 00-7.982 7.983L80.93 88.658l.004.003c.13.13.267.254.41.371.065.054.134.1.202.151.08.06.158.122.242.178.08.054.163.1.246.15.076.045.15.092.227.134.084.045.17.083.257.123.08.039.16.08.244.114.083.034.168.062.253.092.09.032.177.066.268.094.085.026.17.044.256.066.093.023.185.05.28.068.1.02.2.031.299.046.082.011.163.027.247.035.37.037.743.037 1.114 0 .083-.008.164-.024.247-.035.1-.015.2-.026.299-.046.094-.019.186-.045.279-.069.086-.02.172-.04.256-.065.091-.028.18-.062.268-.094.085-.03.17-.058.253-.093.084-.034.163-.075.244-.113.086-.04.173-.078.257-.124.078-.041.151-.089.227-.134.082-.049.166-.096.246-.15.084-.055.162-.117.242-.177.067-.05.136-.097.202-.151.142-.116.278-.239.408-.368l.006-.006L111.49 66.08a5.645 5.645 0 00-7.982-7.982z"}})]),t._v(" "),n("span",[t._v("Сортировать")])]),t._v(" "),t.licensed?[1===t.pricingType?n("button",{staticClass:"button button_sm button_light",on:{click:t.showBuyVolumeDialog}},[n("i",{staticClass:"fa fa-shopping-cart mr-5"}),t._v(" "),n("span",[t._v("Купить том")])]):t._e(),t._v(" "),2===t.pricingType?n("button",{staticClass:"button button_sm button_light",on:{click:t.showBuyChaptersDialog}},[n("i",{staticClass:"fa fa-shopping-cart mr-5"}),t._v(" "),n("span",[t._v("Купить главы")])]):t._e()]:t._e(),t._v(" "),t.selectedChapters&&t.selectedChapters.length>80?n("AppDropdown",{staticClass:"media-chapters-anchor",attrs:{"tippy-options":{placement:"bottom-end"}},scopedSlots:t._u([{key:"menu",fn:function(){return[n("div",{staticClass:"menu menu_xs media-chapters-navigation-menu"},[n("AppChapterNavigationMenu",{attrs:{"chapters-count":t.selectedChapters.length},on:{navigate:t.scrollToChapter}})],1)]},proxy:!0}],null,!1,1857148505)},[n("div",{staticClass:"media-chapters-actions__btn",attrs:{tabindex:"-1","data-dropdown-trigger":""}},[n("span",[t._v("перейти к главе")]),t._v(" "),n("i",{staticClass:"fa fa-angle-down"})])]):t._e()],2)]),t._v(" "),t.sortedChapters.length?[n("div",{ref:"chaptersList",staticClass:"media-section media-chapters-list"},[n("RecycleScroller",{attrs:{items:t.sortedChapters,"item-size":t.itemSize,buffer:1e3,"key-field":"chapter_id","page-mode":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("app-chapter-item",{attrs:{"pricing-type":t.pricingType,chapter:r,auth:t.auth,user:t.user,"is-admin":t.isAdmin,"is-manga":t.isManga,manga:t.manga,licensed:t.licensed,publisher:t.publisher,"paid-chapters":t.paidChapters,"free-chapters":t.freeChapters,purchased:t.purchased,"data-is-read":t.isChapterRead(r).toString()}})]}}],null,!1,1693317056)}),t._v(" "),t.selectedChapters.length>50?n("div",{staticClass:"media-chapters-list__footer"},[n("div",{staticClass:"media-chapters-list__scroller-top",on:{click:t.scrollToTop}},[t._m(1)])]):t._e()],1)]:n("div",{staticClass:"empty"},[t.branches.length&&0===t.branch?[t._v("\n      Выберите один из переводов\n    ")]:[t._v("\n      Здесь пока нет глав\n    ")]],2)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-section__head"},[e("div",{staticClass:"media-section__title"},[this._v("\n          Выбрать перевод\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapters-list__scroller-top-button"},[e("i",{staticClass:"fa fa-arrow-up"})])}]}},mTAn:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},mV0O:function(t,e){},mWhC:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},mXYp:function(t,e,n){var r=n("YRFD"),i=n("xA5w"),o=n("25hp"),a=n("GI7G"),s=n("uyaC"),c=1440,u=2520,l=43200,f=86400;t.exports=function(t,e,n){var d=n||{},p=r(t,e),h=d.locale,v=s.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(v=h.distanceInWords.localize);var m,g,b={addSuffix:Boolean(d.addSuffix),comparison:p};p>0?(m=i(t),g=i(e)):(m=i(e),g=i(t));var y,_=o(g,m),w=g.getTimezoneOffset()-m.getTimezoneOffset(),x=Math.round(_/60)-w;if(x<2)return d.includeSeconds?_<5?v("lessThanXSeconds",5,b):_<10?v("lessThanXSeconds",10,b):_<20?v("lessThanXSeconds",20,b):_<40?v("halfAMinute",null,b):v(_<60?"lessThanXMinutes":"xMinutes",1,b):0===x?v("lessThanXMinutes",1,b):v("xMinutes",x,b);if(x<45)return v("xMinutes",x,b);if(x<90)return v("aboutXHours",1,b);if(x<c)return v("aboutXHours",Math.round(x/60),b);if(x<u)return v("xDays",1,b);if(x<l)return v("xDays",Math.round(x/c),b);if(x<f)return v("aboutXMonths",y=Math.round(x/l),b);if((y=a(g,m))<12)return v("xMonths",Math.round(x/l),b);var O=y%12,k=Math.floor(y/12);return O<3?v("aboutXYears",k,b):O<9?v("overXYears",k,b):v("almostXYears",k+1,b)}},mgnk:function(t,e,n){var r=n("aCM0"),i=n("UnEC"),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},mi1p:function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},mi9z:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},mlqH:function(t,e,n){"use strict";e.a=function(t){var e=document.body,n=innerWidth-e.offsetWidth,i="";t&&(i="overflow: hidden; padding-right: ".concat(n,"px; overscroll-behavior: none;"));Object(r.f)(e,"style",i)};var r=n("u5FJ")},mw3O:function(t,e,n){"use strict";var r=n("CwSZ"),i=n("DDCP"),o=n("XgCd");t.exports={formats:o,parse:i,stringify:r}},n6rw:function(t,e){},nFUW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r);e.default=i.a.extend({props:{element:Object,type:String},computed:{name:function(){return"anime"===this.type?"серия":"глава"},dateTime:function(){return new Date(this.element.airing_at).toLocaleDateString("Ru",{minute:"numeric",hour:"numeric",year:"numeric",month:"long",day:"numeric"})},showName:function(){return!window.matchMedia("(max-width: 991px)").matches},timeTo:function(){var t=new Date,e=(new Date(this.element.airing_at).getTime()-t.getTime())/864e5;return parseInt(e)}},methods:{dayEnding:function(){var t=this.timeTo;return(t%=100)>19&&(t%=10),1===t?" день":2===t||3===t||4===t?" дня":" дней"},tooltipDate:function(){return"осталось "+this.timeTo+this.dayEnding()}}})},nOdj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:String}}},nbsL:function(t,e,n){var r=n("6MiT");t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,c=null===e,u=e==e,l=r(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!l&&t<e||l&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!u)return-1}return 0}},nctS:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("En79"),i=n.n(r),o=n("mtWM"),a=n.n(o),s=n("Jaym"),c=n("gmAb"),u=n("OLx3");function l(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var p={init:"comment.init",changePage:"comment.changePage",destroy:"comment.destroy",deleted:"comment.deleted",updated:"comment.updated",added:"comment.added",voteChanged:"comment.voteChanged"};s.b.on(p.changePage,function(t){return u.a.chapter.page=t}),s.b.on(p.destroy,function(){var t,e=(t=i.a.mark(function t(e,n){var r,o,f;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,t.prev=1,t.next=4,a.a.delete("/api/comments",{data:e});case 4:o=t.sent,f=o.data,e.reasonText=Object(c.a)(e.reason),u.a.sticky&&f.commentId==u.a.sticky.id&&(u.a.sticky=null),s.b.emit(p.deleted,l({},e,{},f)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),r=t.t0;case 15:n&&n(r);case 16:case"end":return t.stop()}},t,null,[[1,11]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){d(o,r,i,a,s,"next",t)}function s(t){d(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}())},nfYF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default={model:{prop:"model",event:"change"},props:{model:[String,Boolean,Number,Object,Array],value:[String,Boolean,Number,Object],large:Boolean,label:String,disabled:{type:Boolean,default:!1},trueValue:{type:[Boolean,Number,String],default:!0},falseValue:{type:Boolean,default:!1}},computed:{isModelArray:function(){return Array.isArray(this.model)},isChecked:function(){var t=this;return this.isModelArray?null!==Object(r.d)(this.model,function(e){return e==t.value}):this.model==this.trueValue}},methods:{handleArrayCheckbox:function(){var t=this,e=i(this.model);if(this.isChecked){var n=Object(r.e)(e,function(e){return e==t.value});-1!==n&&e.splice(n,1)}else e.push(this.value);this.$emit("change",e)},onChange:function(){this.disabled||(this.isModelArray?this.handleArrayCheckbox():this.$emit("change",this.isChecked?this.falseValue:this.trueValue))}}}},nizW:function(t,e,n){var r=n("WNGz"),i=6e4,o=864e5;t.exports=function(t,e){var n=r(t),a=r(e),s=n.getTime()-n.getTimezoneOffset()*i,c=a.getTime()-a.getTimezoneOffset()*i;return Math.round((s-c)/o)}},nmGe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Ba3q"),i=n.n(r),o=n("b5Da"),a=n("Jaym"),s=n("Jki+"),c=n.n(s);e.default={popupOptions:{name:"popup_side popup_chapters-select"},components:{AppChapterBranchItem:c.a},data:function(){return{branches:a.r.get("branches",[]),chapters:a.r.get("chapters",[]),current:a.r.get("current",{}),manga:a.r.get("manga",{}),user:a.r.get("user",{}),branch:0}},computed:{selectedChapters:function(){var t=this,e=this.chapters;return 0!==this.branch&&(e=this.chapters.filter(function(e){return e.branch_id==t.branch})),i()(e,["chapter_volume",function(t){return parseFloat(t.chapter_number)}],["desc","desc"])}},watch:{branch:function(){var t=this;this.$nextTick(function(){t.scrollToActive()})}},created:function(){if(this.current.branch_id){var t=this.current.branch_id;this.branch=t}},mounted:function(){var t=this;this.scrollToActive(),this.$refs.teamList&&this.$nextTick(function(){requestAnimationFrame(function(){t._slider=Object(o.a)(t.$refs.teamList,{align:"start",dragFree:!0,speed:15,containScroll:"trimSnaps"})})})},beforeDestroy:function(){this._slider&&this._slider.destroy()},methods:{chapterUrl:function(t){var e="/".concat(this.manga.slug,"/v").concat(t.chapter_volume,"/c").concat(t.chapter_number);return t.branch_id?(e+="?bid=".concat(t.branch_id),this.user.id&&(e+="&ui=".concat(this.user.id))):this.user.id&&(e+="?ui=".concat(this.user.id)),e},scrollToActive:function(){var t=this.$refs.body.querySelector(".menu__item_active");requestAnimationFrame(function(){t&&t.scrollIntoView&&t.scrollIntoView({block:"center"})})}}}},nw3t:function(t,e,n){var r=n("p0bc");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},nxwE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{item:Object},data:function(){return{isExpanded:!1}},computed:{title:function(){switch(this.item.type){case"donate_chapter":return"Ранний доступ к главе";case"buy_volume":return"Покупка тома";case"buy_chapter":return"Покупка главы";case"donate":return"Донат";case"replenishment":return"Пополнение";case"withdrawal":return"Вывод средств";default:return""}}},methods:{toggleExpand:function(){this.isExpanded=!this.isExpanded}}}},"o/m1":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Поблагодарить за перевод\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__field"},[n("div",{staticClass:"form__label"},[t._v("\n        Сумма\n      ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.model.amount,expression:"model.amount",modifiers:{number:!0}}],staticClass:"form__input",attrs:{type:"number"},domProps:{value:t.model.amount},on:{input:function(e){e.target.composing||t.$set(t.model,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"form__field"},[n("div",{staticClass:"form__label"},[t._v("\n        Комментарий\n      ")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.comment,expression:"model.comment"}],staticClass:"form__textarea",attrs:{rows:"2"},domProps:{value:t.model.comment},on:{input:function(e){e.target.composing||t.$set(t.model,"comment",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.loading},attrs:{disabled:t.loading},on:{click:t.onSubmit}},[t._v("\n        Отправить\n      ")])])])])},staticRenderFns:[]}},"o/tC":function(t,e,n){var r=n("q0qZ"),i=n("1rEs"),o=n("5+O3"),a=n("/09a");t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,c=0;s>c;)i.f(t,n=r[c++],e[n]);return t}},o2mx:function(t,e,n){var r=n("NkRn"),i=n("Hxdr"),o=n("NGEn"),a=n("6MiT"),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},oEhq:function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},oFv0:function(t,e){},oG8a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("HyF7");function i(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=new(n.n(r).a),s={success:function(t,e){a.addItem(i({text:t},e,{status:"success"}))},info:function(t,e){a.addItem(i({text:t},e,{status:"info"}))},alert:function(t,e){a.addItem(i({text:t},e,{status:"alert"}))}};e.default=s},oJgM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("I3G/"),i=n.n(r).a.observable({downloads:{}})},oTFi:function(t,e,n){"use strict";var r=n("iSNJ"),i=n("Jaym"),o=n("u5FJ"),a=n("mlqH");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p="modal_open",h="modal_in",v="modal_out",m=function(t){function e(){var t,n,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,c=u(e).call(this),d(l(t=!c||"object"!==s(c)&&"function"!=typeof c?l(n):c),"show",function(e){if(!t.disabled&&e){var n=Object(i.o)(e)?Object(o.l)(e):e;if(n)return Object(r.c)(),o.e.once(n,function(){t.emit("showed"),o.g.remove(n,h)}),o.g.add(n,h,p),Object(a.a)(!0),t._initModalEvents(n),t.active.push(n),t.emit("show"),l(t)}}),d(l(t),"close",function(e){if(!t.disabled){var n;if(e){var r=Object(i.o)(e)?Object(o.l)(e):e,s=Object(i.e)(t.active,function(t){return t===r});n=t.active.splice(s,1)[0]}else n=t.active.pop();if(n)return o.e.once(n,function(){o.g.remove(n,p,v),t.emit("closed"),t.active.length||Object(a.a)()}),o.g.remove(n,h),o.g.add(n,v),t.emit("close"),l(t)}}),d(l(t),"disable",function(){return t.disabled=!0,l(t)}),d(l(t),"enable",function(){return t.disabled=!1,l(t)}),t.active=[],t.disabled=!1,t._bindEvents(),t}var n,m,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["a"]),n=e,(m=[{key:"_bindEvents",value:function(){var t=this;Object(o.c)(document,"click",function(e){var n=e.target,r=n.closest("[data-open-modal]");return r?(o.f.has(r,"data-stop")&&e.stopPropagation(),e.preventDefault(),t.show(Object(o.f)(r,"data-open-modal"))):(r=n.closest("[data-close-modal]"))?(e.preventDefault(),t.close()):void 0})}},{key:"_initModalEvents",value:function(t){var e=this;t.__inited||(t.__inited=!0,o.f.has(t,"data-disable-backdrop")||Object(o.c)(t,"click",function(t){t.target===t.currentTarget&&e.close()}))}}])&&c(n.prototype,m),g&&c(n,g),e}();e.a=new m},oV6p:function(t,e,n){var r=n("VU/8")(n("Xt+5"),n("rKW4"),!1,null,null,null);t.exports=r.exports},octw:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},odTk:function(t,e,n){var r=n("hcE8");t.exports=r},ooSW:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return i});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={}}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}},{key:"off",value:function(t,e){this._events[t]&&(this._events[t]=this._events[t].filter(function(t){return t!==e}))}},{key:"once",value:function(t,e){var n=this,r=function r(){n.off(t,r),e.apply(void 0,arguments)};this.on(t,r)}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._events[t]&&this._events[t].forEach(function(t){return t.apply(void 0,n)})}}])&&r(e.prototype,n),i&&r(e,i),t}()},opLK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("I3G/"),a=n.n(o),s=n("mtWM"),c=n.n(s),u=n("IjNM"),l=n.n(u),f=n("H1Su"),d=n.n(f),p=n("Jaym");function h(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)})}}e.default=a.a.extend({components:{AppRadio:l.a},props:{id:[String,Number]},data:function(){return{title:"",items:[],team_only:!1,userVote:null,selectedItem:null,auth:!1,isExpired:!1,total:0,loading:!0}},created:function(){this.$mount('[data-poll="'.concat(this.id,'"]')),this.fetchData()},methods:{fetchData:function(){var t=v(i.a.mark(function t(){var e,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/polls/".concat(this.id));case 3:e=t.sent,n=e.data,this.title=n.poll.title,this.items=n.poll.items,this.team_only=n.poll.team_only,this.userVote=n.userVote,this.auth=n.auth,this.isExpired=n.isExpired,r=0,Object(p.f)(n.result,function(t){return r+=t}),this.items.forEach(function(t){t.result=n.result[t.id]||0}),this.total=r,this.loading=!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:case"end":return t.stop()}},t,this,[[0,18]])}));return function(){return t.apply(this,arguments)}}(),vote:function(){this.selectedItem&&(this.team_only?this.showTeamsDialog():this.sendVote())},showTeamsDialog:function(){var t=v(i.a.mark(function t(){var e,n,r,o=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/user/teams");case 3:e=t.sent,(n=e.data).length>1?this.$dialog.open({component:d.a,props:{teams:n,onSelect:function(t){o.$dialog.close(),o.sendVote(t)}}}):(r=null,1===n.length&&(r=n[0].id),this.sendVote(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),sendVote:function(){var t=v(i.a.mark(function t(e){var n,r,o=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.userVote=this.selectedItem,n=Object(p.d)(this.items,function(t){return t.id==o.userVote}),this.total+=1,n.result+=1,t.prev=4,r={poll_id:this.id,item_id:this.userVote},e&&(r.team_id=e),t.next=9,c.a.post("/polls/vote",r);case 9:t.next=17;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),this.userVote=null,this.total-=1,n.result-=1;case 17:case"end":return t.stop()}},t,this,[[4,11]])}));return function(e){return t.apply(this,arguments)}}(),getPercent:function(t){if(!t||!this.total)return 0;var e=Math.round(t/this.total*100);return"".concat(e,"%")},showResult:function(){this.userVote=0}}})},oqL2:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},orNa:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),i=r(e);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},ot7w:function(t,e,n){"use strict";var r=n("UFcy").IteratorPrototype,i=n("43zn"),o=n("C1ru"),a=n("GB3+"),s=n("eZ0g"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,u,!1,!0),s[u]=c,t}},p0bc:function(t,e,n){var r=n("ICSD"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},p8xL:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var i="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=r.charAt(a):s<128?i+=o[s]:s<2048?i+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?i+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),i+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,o){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return i(e)&&!i(n)&&(s=a(e,o)),i(e)&&i(n)?(n.forEach(function(n,i){if(r.call(e,i)){var a=e[i];a&&"object"==typeof a&&n&&"object"==typeof n?e[i]=t(a,n,o):e.push(n)}else e[i]=n}),e):Object.keys(n).reduce(function(e,i){var a=n[i];return r.call(e,i)?e[i]=t(e[i],a,o):e[i]=a,e},s)}}},pFaP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6Vnj"),i=n.n(r),o=n("aewn"),a=n.n(o),s=n("4Q4y"),c=n.n(s),u=n("Jaym");e.default={components:{AppCheckbox:i.a,AppSlider:a.a,AppSettingsRadioGroup:c.a},popupOptions:{name:"popup_side",responsive:{sm:{name:"popup_bottom-sheet"}}},props:{settings:Object},data:function(){return{containerSizeOptions:{step:10,connect:"lower",range:{min:720,max:window.innerWidth}}}},watch:{settings:{deep:!0,handler:function(t){u.u.update("reader",t)}}},created:function(){var t=this;this.watchers=[];["containerWidth","disableHeader"].forEach(function(e){t.watchers.push(t.$watch("settings.".concat(e),function(n){t.$AppEmitter.emit("settings.".concat(e),n)}))})},beforeDestroy:function(){this.watchers.forEach(function(t){return t()})}}},pQJ6:function(t,e,n){var r=n("bGc4");t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},pTUa:function(t,e,n){var r=n("/I3N");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},pX1p:function(t,e,n){var r=n("VU/8")(n("nFUW"),n("ie2U"),!1,null,null,null);t.exports=r.exports},pfG0:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("OAgh"),i=n("u5FJ"),o=n("Mqyi"),a=n("alMs");function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"img",null),c(this,"root",null),c(this,"deleteBtn",null),c(this,"onRemoveClick",function(){i.parent.disabled||i.config.disableRemove||i.parent.loading||(i.config.confirmRemove?a.a.confirm({text:i.config.confirmRemove.text,onConfirm:i.remove}):i.remove())}),c(this,"remove",function(){a.a.close(!0),i.setPreview(null),i.parent.emit(r.a.imageRemoved)}),this.parent=e,this.config=n}var e,n,u;return e=t,(n=[{key:"install",value:function(){var t=this,e=i.f.get(this.parent.options.el,"data-src",{},this.config.src);this.createPreviewEl(),this.setPreview(e),Object(i.c)(this.deleteBtn,"click",this.onRemoveClick),this.parent.on(r.a.complete,function(e){e.url&&t.setPreview(e.url)})}},{key:"createPreviewEl",value:function(){this.img=Object(o.a)("div",{className:"uploader-preview__img"}),this.deleteBtn=Object(o.a)("button",{className:"uploader-preview__remove tooltip","aria-label":"Удалить","data-place":"right"},Object(o.a)("i",{className:"fa fa-trash-o"})),this.root=Object(o.a)("div",{className:"uploader-preview"}),this.root.appendChild(this.img),this.root.appendChild(this.deleteBtn),this.parent.wrap.appendChild(this.root)}},{key:"setPreview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.img.style=t?"background-image: url(".concat(t,")"):"",i.g.toggle(this.root,"is-empty",!t)}}])&&s(e.prototype,n),u&&s(e,u),t}()},pkSX:function(t,e,n){var r=n("i9tX"),i=n("q0qZ"),o=n("aske"),a=n("9mDF"),s=n("He3V"),c=n("hffE");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,u=o(r),l={},f=0;u.length>f;)void 0!==(n=i(r,e=u[f++]))&&c(l,e,n);return l}})},py9u:function(t,e,n){var r=n("tv3T"),i=n("t8rQ");t.exports=function(t,e){return t&&r(e,i(e),t)}},pzR0:function(t,e){t.exports=!1},q0qZ:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},q16o:function(t,e){t.exports=function(t){return null==t}},qE8S:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:String,default:""},type:String,closeIcon:Boolean,titlePosition:String,title:String}}},qEBd:function(t,e,n){n("8/eq"),n("vw/H"),n("GPcm"),n("3mz+");var r=n("odTk");t.exports=r.Set},qRkn:function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var t=/(auto|scroll)/,e=function(t,n){return null===t.parentNode?n:e(t.parentNode,n.concat([t]))},n=function(t,e){return getComputedStyle(t,null).getPropertyValue(e)},r=function(e){return t.test(function(t){return n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x")}(e))};return function(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=e(t.parentNode,[]),i=0;i<n.length;i+=1)if(r(n[i]))return n[i];return document.scrollingElement||document.documentElement}}})?r.apply(e,i):r)||(t.exports=o)},qnda:function(t,e,n){"use strict";var r=n("i9tX"),i=n("TRbm").find,o=n("HLWT"),a=!0,s=n("a4aT")("find");"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},qrdl:function(t,e){t.exports=function(){}},qwTf:function(t,e,n){var r=n("TQ3y").Uint8Array;t.exports=r},"r2/N":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppDialogClose",inject:["Dialog"],methods:{close:function(){this.$dialog.close(this.Dialog.index)}}}},r54x:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},rCVp:function(t,e,n){var r=n("1C79");t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},rDzq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={popupOptions:{size:"xs"},props:{teams:Array,onSelect:Function}}},rF9q:function(t,e,n){var r=n("raVe");t.exports=Array.isArray||function(t){return"Array"==r(t)}},rInL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folders"},[n("div",{staticClass:"menu menu_default",class:[t.size&&"menu_"+t.size]},[t._l(t.folders,function(e){return n("div",{key:e.id,staticClass:"menu__item text-truncate",on:{click:function(n){return t.onMenuItemClick(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),t._v(" "),t.showDeletionButton?n("div",{staticClass:"menu__item text-truncate",attrs:{"data-status":"default"},on:{click:function(e){return t.onMenuItemClick({id:null})}}},[t._v("\n      Удалить из списка\n    ")]):t._e()],2),t._v(" "),t.enableCreation?n("create-bookmark-folder-input",{attrs:{size:t.size},on:{created:function(e){return t.$emit("created",e)}}}):t._e()],1)},staticRenderFns:[]}},rKW4:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{staticClass:"manga-preview",attrs:{type:"slide"}},[!t.loading&&t.titleInfo?n("div",{staticClass:"modal__content-scroller"},[n("div",{staticClass:"manga-preview__content"},[n("div",{staticClass:"manga-preview__head"},[n("img",{staticClass:"manga-preview__cover",attrs:{src:t.titleInfo.coverImage}}),t._v(" "),n("div",{staticClass:"manga-preview__head-right"},[n("div",{staticClass:"manga-rating"},[n("div",{staticClass:"manga-rating__top"},[n("div",{staticClass:"manga-rating__stars rating"},t._l(t.score,function(e){return n("span",{key:e,staticClass:"rating__star",class:{rating__current:t.currentRating===e},attrs:{"data-score":e}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-star"}})])])}),0),t._v(" "),n("div",{staticClass:"manga-rating__value"},[t._v("\n                "+t._s(t.titleInfo.rate_avg)+"\n              ")])]),t._v(" "),n("div",{staticClass:"manga-rating__votes"},[t._v("\n              голосов: "+t._s(t.titleInfo.rate)+"\n            ")])]),t._v(" "),t.mangaStatusText?n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.changeStatusLoading},style:{"background-color":t.currentFolder?t.currentFolder.color:null,color:t.currentFolder?t.currentFolder.textColor:null},attrs:{"data-status":t.bookmarkStatus},on:{click:t.changeStatus}},[t._v("\n            "+t._s(t.mangaStatusText)+"\n          ")]):t._e()])]),t._v(" "),n("h3",{staticClass:"manga-preview__name"},[t._v("\n        "+t._s(t.titleInfo.name)+"\n        "),t.titleInfo.rus_name?n("small",[t._v("\n          "+t._s(t.titleInfo.rus_name)+"\n        ")]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__data"},[n("div",{staticClass:"info-list manga-info"},[t.titleInfo.authors&&t.titleInfo.authors.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Автор")]),t._v(" "),t._l(t.titleInfo.authors,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/"+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),"manga"===t.type&&t.titleInfo.artists&&t.titleInfo.artists.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Художник")]),t._v(" "),t._l(t.titleInfo.artists,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/"+e.id}},[t._v(t._s(e.name))])})],2):t._e(),t._v(" "),t.titleInfo.status?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Перевод")]),t._v(" "),n("span",{class:["m-label","m-label_"+(1==t.titleInfo.status.id?"info":"success")]},[t._v(t._s(t.titleInfo.status.label))])]):t._e(),t._v(" "),"manga"===t.type&&t.titleInfo.caution>0?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Рейтинг")]),t._v(" "),n("span",{staticClass:"m-label m-label_alert m-label_fx"},[t._v("\n              "+t._s(1==t.titleInfo.caution?"16+":"18+")+"\n            ")])]):t._e(),t._v(" "),"anime"===t.type&&t.titleInfo.caution?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Рейтинг")]),t._v(" "),t.titleInfo.caution<4?n("span",{staticClass:"m-label m-label_fx "},[n("span",{staticClass:"text-span"},[t._v(t._s(t.getAnimeRating())+" ")])]):n("span",{staticClass:"m-label m-label_alert m-label_fx "},[t._v("\n              "+t._s(t.getAnimeRating())+"\n            ")])]):t._e(),t._v(" "),t.titleInfo.releaseDate?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Дата релиза")]),t._v(" "),n("span",[t._v(t._s(t.titleInfo.releaseDate))])]):t._e(),t._v(" "),t.titleInfo.categories&&t.titleInfo.categories.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Жанры")]),t._v(" "),t._l(t.titleInfo.categories,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:t.listHref("genres",e.id)}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),t.titleInfo.tags&&t.titleInfo.tags.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Теги")]),t._v(" "),t._l(t.titleInfo.tags,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:t.listHref("tags",e.id)}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e()]),t._v(" "),t.titleInfo.summary?n("div",{staticClass:"info-desc manga__desc"},[n("div",{staticClass:"info-desc__title"},[t._v("\n            Описание\n          ")]),t._v(" "),n("div",{staticClass:"info-desc__content",domProps:{innerHTML:t._s(t.titleInfo.summary)}})]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__footer"},[n("a",{staticClass:"manga-preview__action",attrs:{href:t.titleInfo.href}},[t._v("Подробнее")]),t._v(" "),n("div",{staticClass:"manga-preview__action manga-preview__action_close text-center text-muted",attrs:{"data-close-modal":""}},[n("i",{staticClass:"fa fa-times"})]),t._v(" "),t.firstChapterOrEpisode?n("a",{staticClass:"manga-preview__action text-truncate",style:{padding:"url("+t.imgUrl+")"},attrs:{href:t.chapterOrEpisodeLink}},[t._v("\n          "+t._s(t.chapterOrEpisodeLinkText)+"\n        ")]):n("span",{staticClass:"manga-preview__action"},["anime"===t.type?n("span",[t._v("Еще нет эпизодов")]):n("span",[t._v("Еще нет глав")])])])])]):n("div",{staticClass:"loader-circle"})])},staticRenderFns:[]}},raVe:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},rjj0:function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i=n("tTVk"),o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},f=null,d="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(m(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(m(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,r=document.querySelector("style["+d+'~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(p){var i=c++;r=s||(s=v()),e=y.bind(null,r,i,!1),n=y.bind(null,r,i,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,i=e.sourceMap;r&&t.setAttribute("media",r);f.ssrId&&t.setAttribute(d,e.id);i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n,r){u=n,f=r||{};var a=i(t,e);return h(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(c=o[s.id]).refs--,n.push(c)}e?h(a=i(t,e)):a=[];for(r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}};var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},rlzA:function(t,e,n){var r=n("WvIn");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},rpnb:function(t,e,n){var r=n("tHks")();t.exports=r},rprB:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},rr1Y:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comments__form"},[this.showForm?e("comment-reply",{attrs:{"root-id":null,"comment-level":-1}}):e("div",{staticClass:"comments__pseudo-form",on:{click:this.toggleForm}},[this._v("\n    Написать комментарий...\n  ")])],1)},staticRenderFns:[]}},ryCm:function(t,e,n){var r=n("VU/8")(n("SABg"),n("Tch4"),!1,null,null,null);t.exports=r.exports},"s+XX":function(t,e,n){var r=n("VU/8")(n("XnKE"),n("M2Mt"),!1,null,null,null);t.exports=r.exports},s8GX:function(t,e,n){var r=n("VU/8")(n("xRX8"),n("wr/M"),!1,null,null,null);t.exports=r.exports},sBat:function(t,e,n){var r=n("kxzG"),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},sChT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("ktak"),a=n.n(o),s=n("OAwv"),c=n.n(s),u=n("gAt4"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("Jaym");function h(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}e.default={props:{branch:Object,selectedBranch:Number,useHistory:{type:Boolean,default:!0},lastCreatedChapters:{type:Object,default:function(){return{}}}},computed:{activeTeams:function(){var t=this.branch.teams.filter(function(t){return Boolean(t.is_active)});return t.length||(t=this.branch.teams[0]?[this.branch.teams[0]]:[{id:0,name:"Неизвестный",cover:null,branch_id:0}]),t},hasUpdates:function(){var t=this.lastCreatedChapters[this.branch.id];return!!t&&l()(Date.now(),t.chapter_created_at)<=3},teamsCount:function(){var t=0;return this.activeTeams.forEach(function(e){0!==e.id&&(t+=1)}),t}},methods:{selectBranch:function(){if(this.$emit("update:selected-branch",this.branch.id),this.useHistory){var t=c.a.parse(location.search.slice(1));t.bid=this.branch.id,window.history.pushState(null,null,"".concat(location.pathname,"?").concat(c.a.stringify(t))),this.saveBranchStateToStorage()}},toggleSubscription:function(){var t,e=(t=i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.branch.is_subscribed=!this.branch.is_subscribed,t.next=4,d.a.post("/branches/".concat(this.branch.id,"/subscribe"));case 4:e=t.sent,n=e.data,this.branch.is_subscribed=n.is_subscribed,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.$toast.httpError(t.t0,"Упс ошибка");case 12:case"end":return t.stop()}},t,this,[[0,9]])}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),saveBranchStateToStorage:function(){var t=p.u.get("bid",{}),e={};a()(t).slice(0,49).forEach(function(n){e[n]=t[n]}),e[this.branch.manga_id]=this.branch.id,p.u.save("bid",e)}}}},sJvV:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},sOQ3:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Пополнить баланс\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),t.showMobileMessage?n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__field"},[t._v("\n      На ваш номер отправлено смс сообщение.\n    ")]),t._v(" "),n("div",{staticClass:"form__field"},[t._v("\n      После выполнения операции перезагрузите страницу.\n    ")]),t._v(" "),n("div",{staticClass:"form__footer"},[n("button",{staticClass:"button button_block",on:{click:function(e){return t.$dialog.close()}}},[t._v("\n        Закрыть\n      ")])])]):n("div",{staticClass:"modal__body"},[n("div",{staticClass:"form__field"},[n("div",{staticClass:"form__label"},[t._v("\n        Сумма\n      ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.model.amount,expression:"model.amount",modifiers:{number:!0}}],staticClass:"form__input",class:{form__input_error:t.errors.amount},attrs:{type:"number",placeholder:"Сумма"},domProps:{value:t.model.amount},on:{input:function(e){e.target.composing||t.$set(t.model,"amount",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t.errors.amount?n("div",{staticClass:"form__error"},[t._v("\n        "+t._s(t.errors.amount)+"\n      ")]):t._e()]),t._v(" "),n("button",{staticClass:"button button_block button_primary",class:{button_loading:t.loading},attrs:{disabled:t.loading},on:{click:t.onSubmit}},[t._v("\n      Пополнить\n    ")])])])},staticRenderFns:[]}},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},sbum:function(t,e){},siPu:function(t,e,n){var r=n("izte"),i=n("17Rs"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},"sm/b":function(t,e,n){var r=n("VU/8")(n("BrUz"),n("iZAE"),!1,function(t){n("VyVl")},"data-v-2f12ded6",null);t.exports=r.exports},t0Fh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),i=n.n(r),o=n("gAt4"),a=n.n(o),s=n("OvQW"),c=n.n(s),u=n("k+y2"),l=n.n(u),f=n("ryCm"),d=n.n(f),p=n("Ngrm"),h=n("gmAb"),v=n("nctS"),m=n("OLx3"),g=n("u5FJ");function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={name:"Comment",components:{CommentReply:l.a,VDropdown:d.a},props:{comment:{type:Object,required:!0},reply:{type:Object,default:null},commentLevel:{type:Number,default:0},isSticky:Boolean,rootId:Number},data:function(){return{show:!0,disabled:!1,collapsed:!1,collapsible:!1,hideContent:!1}},computed:{votes:function(){return this.comment.votes_up-this.comment.votes_down},children:function(){return this.isSticky?null:m.a.replies[this.comment.id]},hasChilds:function(){return this.children&&this.children.length},isDeleted:function(){return 0!==this.comment.deleted},hideActionBtn:function(){return!1===m.a.auth||this.showForm||!1},isCurrentUser:function(){return m.a.auth.id===this.user.id},showDeleteBtn:function(){return!this.hideActionBtn&&(!!m.a.auth.access||!this.hasChilds&&!this.isDeleted&&!!this.isCurrentUser)},showEditBtn:function(){return!this.hideActionBtn&&!this.isDeleted&&(!!m.a.auth.access||!!this.isCurrentUser)},showForm:function(){return m.a.activeItem&&m.a.activeItem.id===this.comment.id},editing:function(){return this.showForm&&m.a.editing},isNewLine:function(){return this.commentLevel>0&&this.commentLevel%10==0},user:function(){return this.comment.user?this.comment.user:{id:this.comment.user_id,username:this.comment.username,avatar:this.comment.avatar}}},created:function(){this.commentLevel===m.a.settings.level-1&&(this.show=!1),(this.isNewLine||this.isDeleted)&&(this.show=!1),this.show||this.$on("toggleCollapse",this.toggleCollapse),this.votes<-6&&!this.isDeleted&&!this.isSticky&&(this.hideContent=!0)},mounted:function(){var t=this.isSticky?302:132;this.$refs.content.scrollHeight>t&&(this.collapsed=this.collapsible=!0)},beforeDestroy:function(){this.isNewLine&&this.$off("toggleCollapse",this.toggleCollapse)},methods:{changeVote:function(t){var e,n=this,r=t.target,o=this.comment.id,a=this.comment.userVote,s=function(t){return 1===t?"votes_up":"votes_down"};if(r.closest("[data-action]")){if(!m.a.auth)return p.a.alert("Вы не авторизованы");if(m.a.auth.id===this.user.id)return p.a.alert("Нельзя изменить рейтинг собственного комментария");if(this.isDeleted)return p.a.alert("Нельзя изменить рейтинг удалённого комментария");e=g.f.get(r,"data-action",{parseNumbers:!0});var c=s(1===e?0:1);this.comment.userVote===e?(this.comment[s(e)]-=1,this.comment.userVote=null):(null!=this.comment.userVote&&(this.comment[c]-=1),this.comment[s(e)]+=1,this.comment.userVote=e),this.$AppEmitter.emit(v.a.updated,this.comment),i.a.post("".concat(m.a.info.api,"/vote"),{voteType:e,commentId:o}).catch(function(){null!==n.comment.userVote&&(n.comment[s(e)]-=1),a&&(n.comment[s(a)]+=1),n.comment.userVote=a})}},toggleForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.commentLevel>=30)return this.$toast.alert("Достигнут максимальный уровень вложенности");if(!1===m.a.auth)return p.a.alert("Вы не авторизованы");if(!m.a.auth.access&&e&&!m.a.teamPermission){if(a()(Date.now(),this.comment.created_at)>1)return p.a.alert("Время редактирования истекло (1 день после публикации)");if(this.comment.votes_up>3||this.comment.votes_down>3)return p.a.alert("Нельзя редактировать оцененный комментарий")}m.a.editing=e,m.a.activeItem=this.showForm?null:this.comment,window.innerWidth<1e3&&this.commentLevel>1&&this.$nextTick(function(){var e=t.target.closest(".comment__body");Object(h.e)(e),Object(h.d)(e)})},reportComment:function(){if(!m.a.auth)return this.$toast.alert("Вы не автризованы");this.$dialog.open({component:function(){return{component:new Promise(function(t){n.e(2).then(function(e){t(n("w23O"))}.bind(null,n)).catch(n.oe)})}},props:{sourceId:this.comment.id,type:"comment"}})},deleteComment:function(){var t=this;if(this.showDeleteBtn&&!this.disabled){if(this.hasChilds&&!m.a.auth.access)return p.a.alert("Нельзя удалить комментарий, так как на него уже ответили");var e={commentId:this.comment.id};if(m.a.auth.access){var r=c.a.sanitize(this.comment.comment,{ALLOWED_TAGS:[""],ALLOWED_ATTR:[""],FORBID_TAGS:[],ALLOW_DATA_ATTR:!1});this.$dialog.open({component:function(){return{component:new Promise(function(t){n.e(12).then(function(e){t(n("yvg3"))}.bind(null,n)).catch(n.oe)})}},props:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){b(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e,{userId:this.user.id,metadata:{comment:"[Текст комментария] ".concat(r)}})})}else confirm("Удалить комментарий?")&&(this.disabled=!0,this.$AppEmitter.emit(v.a.destroy,e,function(){return t.disabled=!1}))}},toggleCollapse:function(t){var e=t.currentTarget;if(this.show){var n=e.closest(".comment");this.$nextTick(function(){return Object(h.c)(n,{preventScrollIfVisible:!0,skip:!0,highlight:!1})})}this.show=!this.show}}}},t8rQ:function(t,e,n){var r=n("7e4z"),i=n("G0Wc"),o=n("bGc4");t.exports=function(t){return o(t)?r(t,!0):i(t)}},tHks:function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}},tO4o:function(t,e,n){var r=n("yCNF");t.exports=function(t){return t==t&&!r(t)}},tTVk:function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=o[0],s={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}},"tW5+":function(t,e){},tuWI:function(t,e,n){var r=n("VU/8")(n("nOdj"),n("vYgC"),!1,null,null,null);t.exports=r.exports},tv3T:function(t,e,n){var r=n("i4ON"),i=n("nw3t");t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?i(n,u,l):r(n,u,l)}return n}},tyBP:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"u/4p":function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=r(t),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}},u1Lh:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header modal__header_padding"},[n("div",{staticClass:"modal__title"},[t._v("\n      Оглавление\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),t.branches.length?n("div",{ref:"teamList",staticClass:"media-section media-chapters-teams"},[n("div",{staticClass:"team-list",class:{"team-list_has-selected":0!==t.branch}},t._l(t.branches,function(e){return n("div",{key:e.id,staticClass:"team-item-wrap"},[n("AppChapterBranchItem",{attrs:{branch:e,"selected-branch":t.branch,"use-history":!1},on:{"update:selectedBranch":function(e){t.branch=e},"update:selected-branch":function(e){t.branch=e}}})],1)}),0)]):t._e(),t._v(" "),n("div",{ref:"body",staticClass:"modal__body"},t._l(t.selectedChapters,function(e){return n("a",{key:e.id,staticClass:"menu__item text-truncate",class:{menu__item_active:t.current.chapter_number==e.chapter_number&&t.current.chapter_volume==e.chapter_volume},attrs:{href:t.chapterUrl(e)}},[t._v("\n      Том "+t._s(e.chapter_volume)+" Глава "+t._s(e.chapter_number)+" "),e.chapter_name?[t._v("\n        - "+t._s(e.chapter_name)+"\n      ")]:t._e()],2)}),0)])},staticRenderFns:[]}},u5FJ:function(t,e,n){"use strict";var r=function(t){return t&&t instanceof Node},i=function(t){return t&&t instanceof NodeList},o=n("Jaym");function a(t,e,n){if(r(t)){if(void 0===n){var i=t.getAttribute(e);return a.has(t,e)?void 0===i?"":i:void 0}t.setAttribute(e,n)}}a.get=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!r(t))return i;var o=t.getAttribute(e);if(o){if(n.parseNumbers){var a=parseInt(o,10);if(isNaN(a))return i;o=a}if(n.parseJSON)try{o=JSON.parse(o)}catch(t){return console.error(t),i}return o}return i},a.has=function(t,e){return r(t)&&t.hasAttribute(e)},a.remove=function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){return t.removeAttribute(e)})}},a.getObject=function(t){var e={};if(r(t)){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];Object(o.f)(i,function(n){e[n]=a(t,n)})}return e};var s,c={add:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Object(o.f)(n,function(e){t.classList.add(e)})}},remove:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Object(o.f)(n,function(e){t.classList.remove(e)})}},toggle:function(t,e,n){r(t)&&t.classList.toggle(e,n)},has:function(t,e){if(r(t))return t.classList.contains(e)}},u=function(t){return t&&"string"==typeof t},l=function(t,e){if(u(t))return(e||document).querySelector(t)},f=function(t,e){if(u(t))return(e||document).querySelectorAll(t)},d=/\s+/,p=function(t){if(t)return"string"==typeof t?f(t):i(t)||Array.isArray(t)?t:[t]},h=function(t,e,n,r){var i=p(t);if(i&&n&&e){e=e.trim().split(d);for(var o=i.length;o--;){var a=i[o];if(a&&a.addEventListener)for(var s=0;s<e.length;s++)a.addEventListener(e[s],n,!!r)}}},v=function(t,e,n){var r=p(t);if(r&&n&&e)for(var i=r.length;i--;){var o=r[i];o&&o.removeEventListener&&o.removeEventListener(e,n)}},m=function(t,e,n){h(t,e,function r(i){n.call(this,i),v(t,e,r)})},g=function(t,e,n,r,i){if(t){var o=function(t){var e=t.target.closest(n);e&&r.call(e,t,e)};return h(t,e,o,i),function(){v(t,e,o)}}};function b(t,e){if(r(t)){e||(e=t.parentNode);for(var n=e.children,i=n.length;i--;)if(n[i]===t)return i}}function y(t,e){if(!r(t))return 0;var n=t.getBoundingClientRect(),i=n.top,o=n.bottom,a=n.left,s=n.right,c={top:pageYOffset+i,bottom:pageYOffset+o,left:a,right:s};if(e){var u=l(".header");c.top-=u.offsetHeight}return c}var _=!1,w=document.createElement("div"),x={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var O in x)if(void 0!==w.style[O]){_=!0,s=x[O];break}var k={supported:_,once:function(t,e){if(!_)return e();m(t,s,e)},on:function(t,e){h(t,s,e)}};function j(t){for(;t.firstChild;)t.removeChild(t.lastChild)}n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"j",function(){return r}),n.d(e,"k",function(){return i}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g}),n.d(e,"d",function(){return m}),n.d(e,"h",function(){return b}),n.d(e,"i",function(){return y}),n.d(e,"e",function(){return k}),n.d(e,"n",function(){return j})},uBTs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("h9fk"),i=n.n(r);e.default={components:{CheckboxWithExclude:i.a},props:{state:Object}}},uCi2:function(t,e,n){var r=n("bIjD"),i=n("Ubhr");t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},uH1e:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal__close",on:{click:this.close}},[e("svg",{staticClass:"modal__close-icon"},[e("use",{attrs:{"xlink:href":"#icon-close"}})])])},staticRenderFns:[]}},uIr7:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},uLhX:function(t,e,n){var r=n("NkRn"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},uUYp:function(t,e,n){n("f9UU");var r=n("odTk");t.exports=r.Object.assign},"ue/d":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},uh5r:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup-transition",duration:300,appear:""},on:{"after-leave":this.animationEnd,"after-enter":this.afterEnter,"before-leave":this.beforeLeave}},[e("div",{staticClass:"popup is-hidden",class:this.name,attrs:{"data-size":this.size}},[e("div",{staticClass:"popup__inner"},[e("div",{staticClass:"popup__content"},[this._t("default")],2)])])])},staticRenderFns:[]}},uieL:function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},ujcs:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=t[e+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+p]=255&a,p+=h,a/=256,u-=8);t[n+p-h]|=128*v}},umy1:function(t,e,n){var r=n("mi9z"),i=n("IGcM");t.exports=function(t,e){return null!=t&&i(t,e,r)}},uyaC:function(t,e,n){var r=n("Ptqd"),i=n("jQas");t.exports={distanceInWords:r(),format:i()}},v8Dt:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).get(t)}},v8oQ:function(t,e,n){var r=n("ZT2e"),i=0;t.exports=function(t){var e=++i;return r(t)+e}},v9aJ:function(t,e,n){var r=n("M6Wl"),i=n("pQJ6")(r);t.exports=i},vBvW:function(t,e,n){var r=n("mXYp");t.exports=function(t,e){return r(Date.now(),t,e)}},vQY2:function(t,e,n){"use strict";var r=n("i9tX"),i=n("TRbm").findIndex,o=n("HLWT"),a=!0,s=n("a4aT")("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},vVbG:function(t,e){},vYLk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("8l6m"),i=n.n(r),o=n("Jaym"),a=n("u5FJ");function s(t){(new i.a).$mount(t)}o.b.on("dropdown.show",function t(e){e.reference.hasAttribute("data-open-notifications")&&(s(e.popper.querySelector("#notifications")),o.b.off("dropdown.show",t))}),Object(a.d)('[data-open="notify"]',"click",function(){return s("#notifications")})},vYgC:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-wrapper"},[e("div",{staticClass:"loader-circle",class:this.size&&"loader-circle_"+this.size})])},staticRenderFns:[]}},vi0E:function(t,e,n){var r=n("f931")(Object.getPrototypeOf,Object);t.exports=r},vrSs:function(t,e,n){"use strict";var r={trigger:"click",interactive:!0,arrow:!1,placement:"bottom-start",animation:"shift-toward",duration:200,offset:[0,7],theme:"dropdown",appendTo:document.body},i={theme:"light",arrow:!1,duration:250,offset:[0,7],animation:"fade",hideOnClick:!0};function o(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={dragMode:"move",viewMode:1,aspectRatio:1,guides:!1,center:!1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1},c=o({},s,{aspectRatio:145/54}),u=o({},s,{aspectRatio:375/525}),l=n("f6yZ"),f=["currently-reading","plan-to-read","on-hold","completed","favourites"],d=[{id:1,name:"Читаю"},{id:2,name:"В планах"},{id:3,name:"Брошено"},{id:4,name:"Прочитано"},{id:5,name:"Любимые"}],p=d.reduce(function(t,e){return t[e.id]=e.name,t},{}),h={0:"Ожидает модерации",1:"Принято",2:"Отклонено",3:"Принято автоматически"},v={id:document.documentElement.getAttribute("data-id"),manga:1,yaoi:2,ranobe:3,hentai:4,anime:5,social:6,domainsById:{1:"mangalib.me",2:"yaoilib.me",3:"ranobelib.me",4:"hentailib.me",5:"animelib.me",6:"lib.sicial"},get isRanobe(){return this.id==this.ranobe},get isManga(){return this.id==this.manga},get isHentai(){return this.id==this.hentai},get isYaoi(){return this.id==this.yaoi},get isAnime(){return this.id==this.anime},get isSocial(){return this.id==this.social},isNot:function(t){return t!=this.id}},m={1:"Манга",4:"OEL-манга",5:"Манхва",6:"Маньхуа",7:"Сингл",8:"Авторское",9:"Комикс",10:"Япония",11:"Корея",12:"Китай",13:"Английский",14:"Авторское",15:"Фанфик",16:"TV сериал",17:"Фильм",19:"Спешл",20:"OVA",21:"ONA",22:"Клип"},g=n("dWBF"),b={1:"Адаптация",2:"Источник",3:"Предыстория",4:"Продолжение",5:"Альтернативная история",6:"Спин-офф",7:"Кроссовер",8:"Цветная версия",9:"Перезапуск",10:"Другое",11:"Обобщение",12:"Другая история",13:"Изначальная история",14:"Общий персонаж",15:"Альтернативная вселенная",16:"Развёрнутая история"};n.d(e,"k",function(){return y}),n.d(e,"l",function(){return _}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return l.a}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"i",function(){return v}),n.d(e,"m",function(){return m}),n.d(e,"g",function(){return g.a}),n.d(e,"h",function(){return g.b}),n.d(e,"n",function(){return b});var y=document.body.classList.contains("page_mobile"),_={1:"Онгоинг",2:"Завершён",3:"Анонс",4:"Приостановлен",5:"Выпуск прекращён"}},"vw/H":function(t,e,n){var r=n("VpuQ"),i=n("+opI"),o=n("eTT4");r||i(Object.prototype,"toString",o,{unsafe:!0})},w9Mt:function(t,e,n){var r=n("ZD0O"),i=n("2N6f")(function(t,e){return null==t?{}:r(t,e)});t.exports=i},wC5p:function(t,e,n){"use strict";var r=n("v8oQ"),i=n.n(r),o=n("mw3O"),a=n.n(o),s=n("u5FJ"),c=n("BV6Q"),u=n("Jaym");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m={tabListSelector:".tabs__list",tabContentSelector:".tabs__content",tabItemSelector:".tabs__item",active:"tabs__item_active",line:!1,historyKey:"section"},g=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=p(this,h(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},m,{},n),r.id=i()("tabs_"),r.elSelector='[data-tabs-id="'.concat(r.id,'"]'),r.tabsListSelector='[data-tabs-list-id="'.concat(r.id,'"]'),r.el=t,Object(s.f)(r.el,"data-tabs-id",r.id),r.tabsList=Object(s.l)("".concat(r.elSelector," ").concat(r.options.tabListSelector)),Object(s.f)(r.tabsList,"data-tabs-list-id",r.id),r.options.preventInit||r.init(),r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,u["a"]),n=e,(r=[{key:"init",value:function(){if(this.el){var t=Object(s.l)(".".concat(this.options.active),this.tabsList);if(this.options.history){var e=Object(u.g)();t=Object(s.l)('[data-key="'.concat(e[this.options.historyKey],'"]'),this.tabsList)}t||(t=Object(s.l)(".".concat(this.options.active),this.tabsList)),t||(t=Object(s.l)(this.options.tabItemSelector,this.tabsList)),this.onTabClick(null,t),this.bindEvents(),this.options.line&&this.tabsList&&new c.a(this.tabsList)}}},{key:"bindEvents",value:function(){Object(s.a)(this.tabsList,"click",this.options.tabItemSelector,this.onTabClick.bind(this)),this.options.history&&Object(s.c)(window,"popstate",this.onPopState)}},{key:"onTabClick",value:function(t,e){if(e){var n=Object(s.h)(e,e.parentNode),r=Object(s.f)(e,"data-key");if(this.showContent(n),this.setActiveTab(e),this.options.history&&r){var i=this.options.historyKey,o=f({},i,r),c=Object(u.g)();c[i]=r;var l="".concat(location.pathname,"?").concat(a.a.stringify(c));window.history.replaceState(o,null,l)}this.emit("changed",{index:n,name:r})}}},{key:"onPopState",value:function(){}},{key:"showContent",value:function(t){var e=this.getFilteredItems("".concat(this.elSelector," .").concat("tabs__content_show")),n=this.getFilteredItems("".concat(this.elSelector," ").concat(this.options.tabContentSelector));1===e.length&&s.g.remove(e[0],"tabs__content_show"),requestAnimationFrame(function(){s.g.add(n[t],"tabs__content_show")})}},{key:"setActiveTab",value:function(t){var e=this.options.active,n=Object(s.l)(".".concat(e),this.tabsList);n&&s.g.remove(n,e),s.g.add(t,e)}},{key:"getFilteredItems",value:function(t){for(var e=Object(s.m)(t),n=[],r=0,i=e.length;r<i;r++){var o=e[r];o.closest("[data-tabs-id]")===this.el&&n.push(o)}return n}}])&&d(n.prototype,r),o&&d(n,o),e}();e.a=g},wMOp:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{},[n("div",{staticClass:"comments-header"},[n("AppDropdown",{scopedSlots:t._u([{key:"menu",fn:function(){return[n("div",{staticClass:"menu menu_xs"},t._l(t.orderOptions,function(e,r){return n("div",{key:r,staticClass:"menu__item",on:{click:function(e){return t.changeSort(r)}}},[t._v("\n            "+t._s(e)+"\n          ")])}),0)]},proxy:!0}])},[n("button",{staticClass:"button button_light button_sm comments-header__btn comments-header__btn_sort",attrs:{"data-dropdown-trigger":""}},[t._v("\n        "+t._s(t.orderOptions[t.currentOrder])+"\n        "),n("i",{staticClass:"fa fa-sort"})])]),t._v(" "),n("button",{staticClass:"button button_light button_sm comments-header__btn comments-header__btn_settings",on:{click:t.showSettings}},[t._v("\n      Настройки\n      "),n("i",{staticClass:"fa fa-sliders"})]),t._v(" "),t.showDestroyCommentsBtn?n("button",{staticClass:"comments-header__destroy button button_icon button_sm button_clean button_red",on:{click:t.removeByPage}},[n("i",{staticClass:"fa fa-trash-o"})]):t._e(),t._v(" "),t._m(0)],1),t._v(" "),n("div",{staticClass:"comments"},[t.showRulesWarning&&t.auth?n("div",{staticClass:"comments__rules"},[n("div",{staticClass:"comments__rules-wrap text-center"},[t._m(1),t._v(" "),n("span",[n("app-checkbox",{model:{value:t.settings.hideRules,callback:function(e){t.$set(t.settings,"hideRules",e)},expression:"settings.hideRules"}},[t._v("Я ознакомлен(а) с правилами")])],1),t._v(" "),n("p",{staticClass:"mt-10"},[n("button",{staticClass:"button button_sm",attrs:{disabled:!t.settings.hideRules},on:{click:t.hideRulesWarning}},[t._v("\n            Скрыть предупреждение\n          ")])])])]):t._e(),t._v(" "),n("comments-form",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.showPartialComments,expression:"!loading && !showPartialComments"}]}),t._v(" "),t.sticky&&!t.loading?n("comment",{staticClass:"comment_sticky",attrs:{comment:t.sticky,"comment-level":0,"root-id":t.sticky.id,"is-sticky":""}}):t._e(),t._v(" "),t.showPartialComments&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n        Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:t.showAllComments}},[t._v("Показать всё.")])])]):t._e(),t._v(" "),n("div",{staticClass:"comments-list"},[t.loading?n("div",{staticClass:"comment__loader"},[n("loader")],1):[t.comments.length?[t._l(t.comments,function(t){return n("comment",{key:t.id,attrs:{comment:t,"root-id":t.id,"comment-level":0}})}),t._v(" "),t.showPartialComments&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n              Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:t.showAllComments}},[t._v("Показать всё.")])])]):t._e()]:n("div",{staticClass:"comment__empty empty"},[t._v("\n          Нет ни одного комментария\n        ")])]],2),t._v(" "),n("div",{staticClass:"comments__load-page"},[t.hasNextPage&&!t.loading?n("button",{staticClass:"button button_block",class:{"button_loading-inv":t.pageLoading},attrs:{disabled:t.pageLoading},on:{click:t.nextPage}},[t._v("\n        Показать ещё комментарии\n      ")]):t._e()])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"comments-header__rules rules-btn ml-10",attrs:{href:"/faq?section=8&answer=37"}},[this._v("\n      Правила\n      "),e("div",{staticClass:"rules-btn__dot"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n          Пожалуйста, ознакомтесь с "),e("a",{attrs:{href:"/faq?section=8&answer=37",target:"_blank"}},[this._v("правилами")]),this._v(" перед публикацией комментария\n        ")])}]}},wSKX:function(t,e){t.exports=function(t){return t}},whWw:function(t,e,n){var r=n("HAas");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},wjiB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},"wr/M":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-settings"},[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Настройки комментариев\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"modal__body"},[n("div",{staticClass:"comments-settings-item"},[n("app-checkbox",{model:{value:t.settings.disable.reader,callback:function(e){t.$set(t.settings.disable,"reader",e)},expression:"settings.disable.reader"}},[t._v("\n        Отключить комментарии "),"episodes"===t.info.type||"anime"===t.info.type?n("b",[t._v("в плеере")]):n("b",[t._v("в читалке")])])],1),t._v(" "),n("div",{staticClass:"comments-settings-item"},[n("app-checkbox",{model:{value:t.settings.disable.media,callback:function(e){t.$set(t.settings.disable,"media",e)},expression:"settings.disable.media"}},[t._v("\n        Отключить комментарии на "),n("b",[t._v("странице тайтла")])])],1),t._v(" "),n("div",{staticClass:"comments-settings-level comments-settings-item"},[n("div",{staticClass:"comments-settings-level__text"},[t._v("\n        Сворачивать вложенные комментарии\n        "),n("b",[t._v("с "+t._s(t.settings.level)+" ур.")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.level,expression:"settings.level"}],staticClass:"comments-settings-level__range",attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.settings.level},on:{__r:function(e){return t.$set(t.settings,"level",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"alert alert_info alert_sm small"},[t._v("\n      Обновите страницу, чтобы изменения вступили в силу\n    ")])])])},staticRenderFns:[]}},wzd1:function(t,e,n){var r=n("l/2K"),i=n("EJk4"),o=n("siPu"),a=n("HVdB"),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},xA5w:function(t,e,n){var r=n("z4BQ"),i=n("607n"),o=36e5,a=6e4,s=2,c=/[T ]/,u=/:/,l=/^(\d{2})$/,f=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],d=/^(\d{4})/,p=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,v=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,b=/^-?W(\d{2})-?(\d{1})$/,y=/^(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,O=/^(Z)$/,k=/^([+-])(\d{2})$/,j=/^([+-])(\d{2}):?(\d{2})$/;function C(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}t.exports=function(t,e){if(i(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?s:Number(n);var E=function(t){var e,n={},r=t.split(c);if(u.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var i=x.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}(t),S=function(t,e){var n,r=f[e],i=p[e];if(n=d.exec(t)||i.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=l.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(E.date,n),P=S.year,A=function(t,e){if(null===e)return null;var n,r,i,o;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=h.exec(t))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(e,i),r;if(n=v.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=m.exec(t)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,i,s),r}if(n=g.exec(t))return o=parseInt(n[1],10)-1,C(e,o);if(n=b.exec(t)){o=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return C(e,o,c)}return null}(S.restDateString,P);if(A){var T,N=A.getTime(),L=0;if(E.time&&(L=function(t){var e,n,r;if(e=y.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*o;if(e=_.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*o+r*a;if(e=w.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return n%24*o+r*a+1e3*i}return null}(E.time)),E.timezone)q=E.timezone,T=((B=O.exec(q))?0:(B=k.exec(q))?(F=60*parseInt(B[2],10),"+"===B[1]?-F:F):(B=j.exec(q))?(F=60*parseInt(B[2],10)+parseInt(B[3],10),"+"===B[1]?-F:F):0)*a;else{var M=N+L,I=new Date(M);T=r(I);var D=new Date(M);D.setDate(I.getDate()+1);var R=r(D)-r(I);R>0&&(T+=R)}return new Date(N+L+T)}var q,B,F;return new Date(t)}},xDUa:function(t,e,n){var r=n("mWhC"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},xOvH:function(t,e){},xRX8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("OLx3"),i=n("Jaym"),o=n("nctS"),a=n("6Vnj"),s=n.n(a);e.default={components:{AppCheckbox:s.a},popupOptions:{size:"xs"},computed:{settings:function(){return r.a.settings},info:function(){return r.a.info}},watch:{settings:{deep:!0,handler:function(t){(!t.disable.media&&"manga"===r.a.info.type||!t.disable.media&&"anime"===r.a.info.type||!t.disable.reader&&"chapter"===r.a.info.type||!t.disable.reader&&"episodes"===r.a.info.type)&&this.$AppEmitter.emit(o.a.init),i.u.update("commentsSettings",t)}}}}},xond:function(t,e,n){var r=n("FCuZ"),i=n("09Qt"),o=n("t8rQ");t.exports=function(t){return r(t,o,i)}},xosu:function(t,e){},y13I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),i=n.n(r),o=n("lHK6"),a=n.n(o),s=n("q16o"),c=n.n(s),u=n("kvU2"),l=n.n(u),f=n("l4he"),d=n.n(f),p=n("mtWM"),h=n.n(p),v=n("08WP"),m=n.n(v),g=n("iSNJ"),b=n("5oa4"),y=n.n(b),_=n("KZyg"),w=n.n(_),x=n("s8GX"),O=n.n(x),k=n("tuWI"),j=n.n(k),C=n("6Vnj"),E=n.n(C),S=n("ryCm"),P=n.n(S),A=n("u5FJ"),T=n("Jaym"),N=n("gmAb"),L=n("OLx3"),M=n("6D61"),I=n("FNNP"),D=n("nctS");function R(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){q(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function F(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){B(o,r,i,a,s,"next",t)}function s(t){B(o,r,i,a,s,"throw",t)}a(void 0)})}}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U={comments:{},replies:{},nextPageUrl:{}};e.default={components:{Comment:y.a,CommentsForm:w.a,Loader:j.a,AppCheckbox:E.a,AppDropdown:P.a},mixins:[M.a,I.a],data:function(){return{orderOptions:{latest:"Новые",oldest:"Старые",best:"Популярные"},showRulesWarning:!1,showPartialComments:!1,fetchOnCreatedHook:!1,comm_id:null}},computed:{comments:function(){return L.a.comments},sticky:function(){return L.a.sticky},auth:function(){return L.a.auth},settings:function(){return L.a.settings},isChapter:function(){return"chapter"===L.a.info.type},showDestroyCommentsBtn:function(){if(L.a.auth&&L.a.auth.access){if(L.a.auth.isAdmin&&this.isChapter)return!0;if(this.isChapter&&(1===L.a.chapter.page||Math.abs(L.a.chapter.page-L.a.totalPages)<2))return!0}return!1},currentOrder:function(){return L.a.settings.order[L.a.info.type]}},watch:{"settings.order":{deep:!0,handler:function(){T.u.update("commentsSettings",L.a.settings)}}},created:function(){var t=Object(T.g)().comm_id,e=T.r.get("user",null);e&&(L.a.auth=e),t&&(this.showPartialComments=!0,this.targetCommentId=parseInt(t),this.comm_id=t),this.showRulesWarning=!this.settings.hideRules,this.isChapter&&this.$watch(function(){return L.a.chapter.page},this.chapterPageChanged),this.$AppEmitter.on(D.a.deleted,this.removeCommentItem),this.$AppEmitter.on(D.a.updated,this.commentUpdated),this.$AppEmitter.on(D.a.added,this.commentAdded)},mounted:function(){var t=this;Object(A.a)(this.$el,"click",".comment__user-reply",function(t,e){t.preventDefault();var n=e.closest(".comment__children");Object(N.c)(n.parentNode)}),Object(g.b)(".comments",{content:function(){return document.createElement("div")},target:"[data-vote]",theme:"light",placement:"top",arrow:!1,onShow:function(t){var e=t.reference,n=z(Object(A.f)(e,"data-vote").split("_"),2),r=n[0],i=n[1],o=Object(T.t)(r,"плюс","плюса","плюсов"),a=Object(T.t)(i,"минус","минуса","минусов");t.setContent("".concat(r," ").concat(o,", ").concat(i," ").concat(a))},onHidden:function(t){t.destroy()}}),this._inView=m()(".comments").on("exit",function(){return t.isVisible=!1}),this.isChapter?this._inView.on("enter",function(){t.isVisible=!0,t.isLoaded||t.requestHandler(t.page)}):this.comm_id||this._inView.once("enter",function(){return t.requestHandler(t.page)}),this.comm_id&&this.requestHandler(this.page)},methods:{request:function(){var t=F(i.a.mark(function t(e){var n,r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={data:{}},r={params:{type:L.a.info.type,post_id:L.a.info.postId,order:this.currentOrder}},e&&(r.params=R({},r.params,{},e)),this.isChapter&&(r.params.chapterPage=L.a.chapter.page),L.a.auth&&L.a.auth.id&&(r.params.user_id=L.a.auth.id),!this.hasItemsInCache()||!this.isChapter||1!==e.page){t.next=9;break}n.data=this.getFromCache(),t.next=32;break;case 9:if(1===e.page&&(this.loading=!0),t.prev=10,o=2==T.r.get("comments_version",1)?"/api/v2/comments":"/api/comments",!this.showPartialComments){t.next=18;break}return t.next=15,h.a.get("/api/comments/branch",{params:{comment_id:this.comm_id}});case 15:n=t.sent,t.next=21;break;case 18:return t.next=20,h.a.get(o,r);case 20:n=t.sent;case 21:this._userVotes=n.data.userVotes,this.isChapter&&!this.showPartialComments&&this.addToCache(n.data),L.a.auth&&(L.a.teamPermission=T.r.get("hasStickyPermission",!1)),n.data.sticky&&(this.mapData([n.data.sticky]),n.data.sticky._comment=n.data.sticky.comment,n.data.sticky.comment=n.data.sticky.comment.replace(/(https?:\/\/[^\s"<)]+)/gi,function(t){var e=t;return t.length>30&&(e=t.slice(0,30)+"..."),'<a href="'.concat(d()(t),'" target="_blank">').concat(e,"</a>")}),L.a.sticky=n.data.sticky,n.data.comments=n.data.comments.filter(function(t){return t.id!==n.data.sticky.id})),this.$nextTick(this.jumpToComment),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(10),this.$toast.httpError(t.t0,"Произошла ошибка загрузки комментариев"),console.error(t.t0);case 32:return 1===e.page&&(L.a.replies={},L.a.comments=[]),n.data.replies&&(this.mapData(n.data.replies),a=Object(T.i)(n.data.replies,"parent_comment"),L.a.replies=R({},L.a.replies,{},a)),n.data.comments&&(this.mapData(n.data.comments),L.a.comments=L.a.comments.concat(n.data.comments)),this.loading=!1,this.isLoaded=!0,t.abrupt("return",n);case 38:case"end":return t.stop()}},t,this,[[10,28]])}));return function(e){return t.apply(this,arguments)}}(),changeSort:function(t){var e=this;this.loading||(L.a.settings.order[L.a.info.type]=t,this.$nextTick(function(){U.comments={},U.replies={},U.nextPageUrl={},e.showPartialComments=!1,e.loading=!0,e.requestHandler(1)}))},chapterPageChanged:function(){this.loading||(this.isLoaded=!1,this.showPartialComments=!1,L.a.comments=[]),this.isVisible&&this.requestHandler(1)},showSettings:function(){this.$dialog.open({component:O.a})},hideRulesWarning:function(){T.u.save("commentsSettings",this.settings),this.showRulesWarning=!1},addToCache:function(t){var e=L.a.chapter.page;this.hasItemsInCache()||(U.comments[e]=[],U.replies[e]=[]),U.comments[e]=U.comments[e].concat(l()(t.comments)),U.replies[e]=U.replies[e].concat(l()(t.replies)),U.nextPageUrl[e]=t.next_page_url},getFromCache:function(){var t=L.a.chapter.page,e=l()(U.comments[t]),n=l()(U.replies[t]),r=U.nextPageUrl[t];return this.mapData(e),this.mapData(n),{comments:e,replies:n,next_page_url:r}},hasItemsInCache:function(){var t=L.a.chapter.page;return t in U.comments&&t in U.replies},mapData:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.userVote=c()(this._userVotes[r.id])?null:this._userVotes[r.id],this.hideDeleted(r)}},hideDeleted:function(t){t.deleted>0&&(t.comment=Object(N.a)(t.deleted))},commentAdded:function(t){var e=L.a.chapter.page,n=t.parent_comment?U.replies[e]:U.comments[e];n&&n.unshift(R({},t))},removeCommentItem:function(t){var e=t.parentComment,n=t.commentId,r=t.forceDelete,i=t.reasonText,o=e?L.a.replies[e]:L.a.comments,s=Object(T.e)(o,function(t){return t.id==n}),c=this._findInCache(n,null!=e);s>=0&&(r?(o.splice(s,1),a()(c)||c.array.splice(c.index,1)):i&&(o[s].comment=i,a()(c)||(c.item.comment=i)))},commentUpdated:function(t){if(this.isChapter&&(!L.a.sticky||L.a.sticky.id!==t.id)){var e=this._findInCache(t.id,null!=t.parent_comment);if(!a()(e))for(var n in this._userVotes[t.id]=t.userVote,t)e.item[n]=t[n]}},removeByPage:function(){var t=F(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Удалить все комментарии на этой странице?")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e={chapterId:L.a.info.postId,page:L.a.chapter.page},this.$pageLoader.show("Удаляем..."),t.next=7,h.a.delete("/api/comments/destroy-page",{data:e});case 7:this.$AppEmitter.emit("comments.removeCommentsByPage",e.page),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0),this.$toast.httpError(t.t0,"Ошибка при удалении");case 14:this.$pageLoader.hide();case 15:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}(),jumpToComment:function(){var t=F(i.a.mark(function t(){var e,n,r,o=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._elWasJump){t.next=2;break}return t.abrupt("return");case 2:if(!this.comm_id){t.next=12;break}if(n=(e=function(){return Object(A.l)("#comment_".concat(o.comm_id))})(),r=function(){n&&(o._elWasJump=!0,Object(T.c)(function(){return Object(N.c)(n)},150))},n){t.next=11;break}return this.broadcast("Comment","toggleCollapse",{}),t.next=10,this.$nextTick();case 10:n=e();case 11:r();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showAllComments:function(){this.showPartialComments=!1,this.comm_id=null,this.loading=!0,this.page=1,L.a.comments=[],this.requestHandler(this.page)},_findInCache:function(t,e){if("chapter"===L.a.info.type){var n=L.a.chapter.page,r=e?U.replies[n]:U.comments[n];if(!Array.isArray(r))return{};var i=Object(T.e)(r,function(e){return e.id===t});if(i>=0)return{array:r,index:i,item:r[i]}}return{}}}}},y9NZ:function(t,e,n){t.exports=n("DxBg")},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},"yPE/":function(t,e,n){(function(e){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(18),o=n(19),a=n(45),s=n(46),c=n(47),u=n(48),l=n(49),f=n(12),d=n(32),p=n(33),h=n(31),v=n(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:c.default,Inline:s.default,Text:l.default,Attributor:{Attribute:f.default,Class:d.default,Style:p.default,Store:h.default}};e.default=m},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return i(e,t),e}(Error);e.ParchmentError=o;var a,s={},c={},u={},l={};function f(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=l[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=l.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=l.block:t&a.LEVEL&a.INLINE&&(n=l.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=c[r[i]])break;n=n||u[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=f(t);if(null==n)throw new o("Unable to create "+t+" blot");var r=n;return new r(t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e),e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=f,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");l[r.blotName||r.attrName]=r,"string"==typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(c[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(t){return t.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(t){null!=u[t]&&null!=r.className||(u[t]=r)})));return r}},function(t,e,n){var r=n(51),i=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},c.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},c.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(i(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r)}),[e,n]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t},0)},c.prototype.length=function(){return this.reduce(function(t,e){return t+a.length(e)},0)},c.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),i=0;i<e&&r.hasNext();){var o;i<t?o=r.next(t-i):(o=r.next(e-i),n.push(o)),i+=a.length(o)}return new c(n)},c.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());o.retain-s>0&&n.next(o.retain-s)}for(var u=new c(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var l=Math.min(e.peekLength(),n.peekLength()),f=e.next(l),d=n.next(l);if("number"==typeof d.retain){var p={};"number"==typeof f.retain?p.retain=l:p.insert=f.insert;var h=a.attributes.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(h&&(p.attributes=h),u.push(p),!n.hasNext()&&i(u.ops[u.ops.length-1],p)){var v=new c(e.rest());return u.concat(v).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&u.push(d)}return u.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),o=new c,u=r(n[0],n[1],e),l=a.iterator(this.ops),f=a.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),o.push(f.next(n));break;case r.DELETE:n=Math.min(e,l.peekLength()),l.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(l.peekLength(),f.peekLength(),e);var s=l.next(n),c=f.next(n);i(s.insert,c.insert)?o.retain(n,a.attributes.diff(s.attributes,c.attributes)):o.push(c).delete(n)}e-=n}}),o.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new c,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},i))return;i+=1,r=new c}}r.length()>0&&t(r,{},i)},c.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),i=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),s=n.next(o),u=r.next(o);if(s.delete)continue;u.delete?i.push(u):i.retain(o,a.attributes.transform(s.attributes,u.attributes,e))}else i.retain(a.length(n.next()));return i.chop()},c.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<t||!e)&&(t+=i),r+=i):t-=Math.min(i,t-r)}return t},t.exports=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,i=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(e in t);return void 0===e||n.call(t,e)},c=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,l,f=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"==typeof f&&(h=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<p;++d)if(null!=(e=arguments[d]))for(n in e)r=u(f,n),f!==(i=u(e,n))&&(h&&i&&(s(i)||(o=a(i)))?(o?(o=!1,l=r&&a(r)?r:[]):l=r&&s(r)?r:{},c(f,{name:n,newValue:t(h,l,i)})):void 0!==i&&c(f,{name:n,newValue:i}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=f(n(3)),a=f(n(2)),s=f(n(0)),c=f(n(16)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,s.default.Embed),r(e,[{key:"attach",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(m.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1))}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}();v.scope=s.default.Scope.BLOCK_BLOT;var m=function(t){function e(t){d(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return h(e,s.default.Block),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),g(e))},new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,o){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,o):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,o),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce(function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length},t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof c.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}();function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,o.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:g(t.parent,e))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[u.default,s.default.Embed,l.default],e.bubbleFormats=g,e.BlockEmbed=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=m(n(2)),s=m(n(14)),c=m(n(8)),u=m(n(9)),l=m(n(0)),f=n(15),d=m(f),p=m(n(3)),h=m(n(10)),v=m(n(34));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=(0,h.default)("quill"),y=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_(e,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=l.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t){t===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(c.default.events.SCROLL_UPDATE,function(t,e){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;w.call(n,function(){return n.editor.update(null,e,i)},t)});var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),h.default.level(t)}},{key:"find",value:function(t){return t.__quill||l.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&b.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var i=t.attrName||t.blotName;"string"==typeof i?this.register("formats/"+i,t,e):Object.keys(t).forEach(function(r){n.register(r,t[r],e)})}else null==this.imports[t]||r||b.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?l.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),o(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,o=x(t,e,n),a=i(o,4);return t=a[0],e=a[1],n=a[3],w.call(this,function(){return r.editor.deleteText(t,e)},n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return w.call(this,function(){var r=n.getSelection(!0),i=new a.default;if(null==r)return i;if(l.default.query(t,l.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,g({},t,e));else{if(0===r.length)return n.selection.format(t,e),i;i=n.editor.formatText(r.index,r.length,g({},t,e))}return n.setSelection(r,c.default.sources.SILENT),i},r)}},{key:"formatLine",value:function(t,e,n,r,o){var a,s=this,c=x(t,e,n,r,o),u=i(c,4);return t=u[0],e=u[1],a=u[2],o=u[3],w.call(this,function(){return s.editor.formatLine(t,e,a)},o,t,0)}},{key:"formatText",value:function(t,e,n,r,o){var a,s=this,c=x(t,e,n,r,o),u=i(c,4);return t=u[0],e=u[1],a=u[2],o=u[3],w.call(this,function(){return s.editor.formatText(t,e,a)},o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=i(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=i(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return w.call(this,function(){return i.editor.insertEmbed(e,n,r)},o,e)}},{key:"insertText",value:function(t,e,n,r,o){var a,s=this,c=x(t,0,n,r,o),u=i(c,4);return t=u[0],a=u[2],o=u[3],w.call(this,function(){return s.editor.insertText(t,e,a)},o,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,o=x(t,e,n),a=i(o,4);return t=a[0],e=a[1],n=a[3],w.call(this,function(){return r.editor.removeFormat(t,e)},n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return w.call(this,function(){t=new a.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),i=e.editor.applyDelta(t),o=i.ops[i.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),i.delete(1)),r.compose(i)},n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=x(e,n,r),a=i(o,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new f.Range(e,n),r),r!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return w.call(this,function(){return t=new a.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function _(t,e){if((e=(0,p.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==y.DEFAULTS.theme){if(e.theme=y.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=v.default;var n=(0,p.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=y.import("modules/"+e);return null==n?b.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,p.default)(!0,{},y.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function w(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===c.default.sources.USER)return new a.default;var i=null==n?null:this.getSelection(),o=this.editor.delta,s=t();if(null!=i&&(!0===n&&(n=i.index),null==r?i=O(i,s,e):0!==r&&(i=O(i,n,r,e)),this.setSelection(i,c.default.sources.SILENT)),s.length()>0){var u,l,f=[c.default.events.TEXT_CHANGE,s,o,e];if((u=this.emitter).emit.apply(u,[c.default.events.EDITOR_CHANGE].concat(f)),e!==c.default.sources.SILENT)(l=this.emitter).emit.apply(l,f)}return s}function x(t,e,n,i,o){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=i,i=n,n=e,e=0),"object"===(void 0===n?"undefined":r(n))?(a=n,o=i):"string"==typeof n&&(null!=i?a[n]=i:o=n),[t,e,a,o=o||c.default.sources.API]}function O(t,e,n,r){if(null==t)return null;var o=void 0,s=void 0;if(e instanceof a.default){var u=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,r!==c.default.sources.USER)}),l=i(u,2);o=l[0],s=l[1]}else{var d=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&r===c.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),p=i(d,2);o=p[0],s=p[1]}return new f.Range(o,s-o)}y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},y.events=c.default.events,y.sources=c.default.sources,y.version="1.3.7",y.imports={delta:a.default,parchment:l.default,"core/module":u.default,"core/theme":v.default},e.expandConfig=_,e.overload=x,e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(7)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Inline),r(e,[{key:"formatAt",value:function(t,n,r,o){if(e.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(t,n);o&&s.wrap(r,o)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o)}},{key:"optimize",value:function(t){if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),i=e.order.indexOf(n);return r>=0||i>=0?r-i:t===n?0:t<n?-1:1}}]),e}();c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Text),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=o(n(54));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"emit",value:function(){a.log.apply(a,arguments),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach(function(e){var r=e.node,i=e.handler;(t.target===r||r.contains(t.target))&&i.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}();s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function o(t){if(r.indexOf(t)<=r.indexOf(i)){for(var e,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return r.reduce(function(e,n){return e[n]=o.bind(console,n,t),e},{})}o.level=a.level=function(t){i=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,i=n(52),o=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=i(t),d=i(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),u=f.length-1;u>=0;u--)if(f[u]!=d[u])return!1;for(u=f.length-1;u>=0;u--)if(l=f[u],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=f(n(2)),s=f(n(0)),c=f(n(4)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,u.default),e}();v.blotName="code",v.tagName="CODE";var m=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,c.default),i(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var i=this.descendant(l.default,this.length()-1),a=r(i,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+n)){var a=this.newlineIndex(t,!0)+1,c=o-a+1,u=this.isolate(a,c),l=u.next;u.format(r,i),l instanceof e&&l.formatAt(0,t-a+n-c,r,i)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var i=this.descendant(l.default,t),o=r(i,2),a=o[0],s=o[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}();m.blotName="code-block",m.tagName="PRE",m.TAB="  ",e.Code=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=g(n(2)),s=g(n(20)),c=g(n(0)),u=g(n(13)),l=g(n(24)),f=n(4),d=g(f),p=g(n(16)),h=g(n(21)),v=g(n(11)),m=g(n(3));function g(t){return t&&t.__esModule?t:{default:t}}var b=/^[ -~]*$/,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return o(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,h.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,h.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new a.default)}(t)).reduce(function(t,a){var u=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var p=a.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),t>=o&&!p.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,p);var h=e.scroll.line(t),v=i(h,2),g=v[0],b=v[1],y=(0,m.default)({},(0,f.bubbleFormats)(g));if(g instanceof d.default){var _=g.descendant(c.default.Leaf,b),w=i(_,1)[0];y=(0,m.default)(y,(0,f.bubbleFormats)(w))}l=s.default.attributes.diff(y,l)||{}}else if("object"===r(a.insert)){var x=Object.keys(a.insert)[0];if(null==x)return t;e.scroll.insertAt(t,x,a.insert[x])}o+=u}return Object.keys(l).forEach(function(n){e.scroll.formatAt(t,u,n,l[n])}),t+u},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(t,Math.max(e,1)),a=e;o.forEach(function(e){var o=e.length();if(e instanceof u.default){var s=t-e.offset(n.scroll),c=e.newlineIndex(s+a)-s+1;e.formatAt(s,c,i,r[i])}else e.format(i,r[i]);a-=o})}}),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,h.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(i){n.scroll.formatAt(t,e,i,r[i])}),this.update((new a.default).retain(t).retain(e,(0,h.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach(function(t){var e=i(t,1)[0];e instanceof d.default?n.push(e):e instanceof c.default.Leaf&&r.push(e)}):(n=this.scroll.lines(t,e),r=this.scroll.descendants(c.default.Leaf,t,e));var o=[n,r].map(function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,f.bubbleFormats)(n),e)}return e});return m.default.apply(m.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach(function(i){n.scroll.formatAt(t,e.length,i,r[i])}),this.update((new a.default).retain(t).insert(e,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof p.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),o=i(r,2),s=o[0],c=o[1],l=0,f=new a.default;null!=s&&(l=s instanceof u.default?s.newlineIndex(c)-c+1:s.length()-c,f=s.delta().slice(c,c+l-1).insert("\n"));var d=this.getContents(t,e+l).diff((new a.default).insert(n).concat(f)),p=(new a.default).retain(t).concat(d);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(b)&&c.default.find(e[0].target)){var i=c.default.find(e[0].target),o=(0,f.bubbleFormats)(i),s=i.offset(this.scroll),u=e[0].oldValue.replace(l.default.CONTENTS,""),d=(new a.default).insert(u),p=(new a.default).insert(i.value());t=(new a.default).retain(s).concat(d.diff(p,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)},new a.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,v.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce(function(n,r){return null==t[r]?n:(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]],n)},{})}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=u(n(0)),a=u(n(21)),s=u(n(11)),c=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,u(n(10)).default)("quill:selection"),p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},h=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,c.default.sources.USER),1)}),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t,e){t===c.default.events.TEXT_CHANGE&&e.length()>0&&r.update(c.default.sources.SILENT)}),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(c.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}}),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}}),this.update(c.default.sources.SILENT)}return i(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(c.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(t,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var i=void 0,o=this.scroll.leaf(t),a=r(o,2),s=a[0],c=a[1];if(null==s)return null;var u=s.position(c,!0),l=r(u,2);i=l[0],c=l[1];var f=document.createRange();if(e>0){f.setStart(i,c);var d=this.scroll.leaf(t+e),p=r(d,2);if(s=p[0],c=p[1],null==s)return null;var h=s.position(c,!0),v=r(h,2);return i=v[0],c=v[1],f.setEnd(i,c),f.getBoundingClientRect()}var m="left",g=void 0;return i instanceof Text?(c<i.data.length?(f.setStart(i,c),f.setEnd(i,c+1)):(f.setStart(i,c-1),f.setEnd(i,c),m="right"),g=f.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),c>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var i=n.map(function(t){var n=r(t,2),i=n[0],a=n[1],s=o.default.find(i,!0),c=s.offset(e.scroll);return 0===a?c:s instanceof o.default.Container?c+s.length():c+s.index(i,a)}),a=Math.min(Math.max.apply(Math,l(i)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(l(i)));return new p(s,a-s)}},{key:"normalizeNative",value:function(t){if(!v(this.root,t.startContainer)||!t.collapsed&&!v(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],o=this.scroll.length();return n.forEach(function(t,n){t=Math.min(o-1,t);var a,s=e.scroll.leaf(t),c=r(s,2),u=c[0],l=c[1],f=u.position(l,0!==n),d=r(f,2);a=d[0],l=d[1],i.push(a,l)}),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,i)),a=r(o,1)[0],s=a;if(e.length>0){var c=this.scroll.line(Math.min(e.index+e.length,i));s=r(c,1)[0]}if(null!=a&&null!=s){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,l(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.lastRange,n=this.getRange(),i=r(n,2),o=i[0],u=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var l;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,d=[c.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];if((l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),t!==c.default.sources.SILENT)(f=this.emitter).emit.apply(f,d)}}}]),t}();function v(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=p,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),i(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}();s.blotName="break",s.tagName="BR",e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return i(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var r=this.children.find(n),i=r[0],o=r[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,o]:i instanceof e?i.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,o))),o-=a}),i},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,function(t,e,i){t.formatAt(e,i,n,r)})},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),i=r[0],o=r[1];if(i)i.insertAt(o,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),i=r[0],o=r[1],a=[[this,t]];return i instanceof e?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,r,i){t=t.split(r,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],i=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),i.push.apply(i,t.removedNodes))}),i.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),r.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var r=u(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))})},e}(a.default);function u(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),c=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return i(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=c.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===r.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,r){var i=t.prototype.wrap.call(this,n,r);return i instanceof e&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},e}(s.default);e.default=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(o.default);e.default=s},function(t,e,n){var r=n(11),i=n(3),o={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=i(!0,{},e);for(var o in n||(r=Object.keys(r).reduce(function(t,e){return null!=r[e]&&(t[e]=r[e]),t},{})),t)void 0!==t[o]&&void 0===e[o]&&(r[o]=t[o]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return r(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=o.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),"number"==typeof e.retain?i.retain=t:"string"==typeof e.insert?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=o},function(t,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,i;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{i=Promise}catch(t){i=function(){}}function o(a,c,u,l,f){"object"==typeof c&&(u=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],p=[],h=void 0!==e;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function a(u,v){if(null===u)return null;if(0===v)return u;var m,g;if("object"!=typeof u)return u;if(t(u,n))m=new n;else if(t(u,r))m=new r;else if(t(u,i))m=new i(function(t,e){u.then(function(e){t(a(e,v-1))},function(t){e(a(t,v-1))})});else if(o.__isArray(u))m=[];else if(o.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(o.__isDate(u))m=new Date(u.getTime());else{if(h&&e.isBuffer(u))return m=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===l?(g=Object.getPrototypeOf(u),m=Object.create(g)):(m=Object.create(l),g=l)}if(c){var b=d.indexOf(u);if(-1!=b)return p[b];d.push(u),p.push(m)}for(var y in t(u,n)&&u.forEach(function(t,e){var n=a(e,v-1),r=a(t,v-1);m.set(n,r)}),t(u,r)&&u.forEach(function(t){var e=a(t,v-1);m.add(e)}),u){var _;g&&(_=Object.getOwnPropertyDescriptor(g,y)),_&&null==_.set||(m[y]=a(u[y],v-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(y=0;y<w.length;y++){var x=w[y];(!(k=Object.getOwnPropertyDescriptor(u,x))||k.enumerable||f)&&(m[x]=a(u[x],v-1),k.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(f){var O=Object.getOwnPropertyNames(u);for(y=0;y<O.length;y++){var k,j=O[y];(k=Object.getOwnPropertyDescriptor(u,j))&&k.enumerable||(m[j]=a(u[j],v-1),Object.defineProperty(m,j,{enumerable:!1}))}}return m}(a,u)}function a(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=a,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},o.__getRegExpFlags=s,o}();"object"==typeof t&&t.exports&&(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=p(n(0)),s=p(n(8)),c=n(4),u=p(c),l=p(n(16)),f=p(n(13)),d=p(n(25));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){return t instanceof u.default||t instanceof c.BlockEmbed}var v=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Scroll),i(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var i=this.line(t),a=r(i,2),s=a[0],u=a[1],d=this.line(t+n),p=r(d,1)[0];if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=p&&s!==p&&u>0){if(s instanceof c.BlockEmbed||p instanceof c.BlockEmbed)return void this.optimize();if(s instanceof f.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===p)return void this.optimize()}else if(p instanceof f.default){var v=p.newlineIndex(0);v>-1&&p.split(v+1)}var m=p.children.head instanceof l.default?null:p.children.head;s.moveChildren(p,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,i){(null==this.whitelist||this.whitelist[r])&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var i=a.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(t),t=r}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(h,t)}},{key:"lines",value:function(){return function t(e,n,r){var i=[],o=r;return e.children.forEachAt(n,r,function(e,n,r){h(e)?i.push(e):e instanceof a.default.Container&&(i=i.concat(t(e,n,o))),o-=r}),i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}();v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild="block",v.allowedChildren=[u.default,c.BlockEmbed,d.default],e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=v(n(21)),s=v(n(11)),c=v(n(3)),u=v(n(2)),l=v(n(20)),f=v(n(0)),d=v(n(5)),p=v(n(10)),h=v(n(9));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=(0,p.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])}),r.addBinding({key:e.keys.ENTER,shiftKey:null},k),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},w),r.addBinding({key:e.keys.DELETE},{collapsed:!0},x)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},O),r.addBinding({key:e.keys.DELETE},{collapsed:!1},O),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),o(e,null,[{key:"match",value:function(t,e){return e=E(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),o(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E(t);if(null==r||null==r.key)return g.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0,c.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(t.bindings[o]||[]).filter(function(t){return e.match(n,t)});if(0!==a.length){var c=t.quill.getSelection();if(null!=c&&t.quill.hasFocus()){var u=t.quill.getLine(c.index),l=i(u,2),d=l[0],p=l[1],h=t.quill.getLeaf(c.index),v=i(h,2),m=v[0],g=v[1],b=0===c.length?[m,g]:t.quill.getLeaf(c.index+c.length),y=i(b,2),_=y[0],w=y[1],x=m instanceof f.default.Text?m.value().slice(0,g):"",O=_ instanceof f.default.Text?_.value().slice(w):"",k={collapsed:0===c.length,empty:0===c.length&&d.length()<=1,format:t.quill.getFormat(c),offset:p,prefix:x,suffix:O};a.some(function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==k.format[t]}))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,s.default)(e.format[t],k.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix))&&(!(null!=e.suffix&&!e.suffix.test(k.suffix))&&!0!==e.handler.call(t,c,k))})&&n.preventDefault()}}}})}}]),e}();function _(t,e){var n,r=t===y.keys.LEFT?"prefix":"suffix";return m(n={key:t,shiftKey:e,altKey:null},r,/^$/),m(n,"handler",function(n){var r=n.index;t===y.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(i(o,1)[0]instanceof f.default.Embed)||(t===y.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),!1)}),n}function w(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=i(n,1)[0],o={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=i(a,1)[0];if(null!=s&&s.length()>1){var c=r.formats(),u=this.quill.getFormat(t.index-1,1);o=l.default.attributes.diff(c,u)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,d.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index-f,f,o,d.default.sources.USER),this.quill.focus()}}function x(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=0,a=this.quill.getLine(t.index),s=i(a,1)[0];if(e.offset>=s.length()-1){var c=this.quill.getLine(t.index+1),u=i(c,1)[0];if(u){var f=s.formats(),p=this.quill.getFormat(t.index,1);r=l.default.attributes.diff(f,p)||{},o=u.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+o-1,n,r,d.default.sources.USER)}}function O(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),i=e[e.length-1].formats();n=l.default.attributes.diff(i,r)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function k(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce(function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",r,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))})}function j(t){return{key:y.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=f.default.query("code-block"),r=e.index,o=e.length,a=this.quill.scroll.descendant(n,r),s=i(a,2),c=s[0],u=s[1];if(null!=c){var l=this.quill.getIndex(c),p=c.newlineIndex(u,!0)+1,h=c.newlineIndex(l+u+o),v=c.domNode.textContent.slice(p,h).split("\n");u=0,v.forEach(function(e,i){t?(c.insertAt(p+u,n.TAB),u+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(c.deleteAt(p+u,n.TAB.length),u-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),u+=e.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,o,d.default.sources.SILENT)}}}}function C(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function E(t){if("string"==typeof t||"number"==typeof t)return E({key:t});if("object"===(void 0===t?"undefined":r(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=y.keys[t.key.toUpperCase()])t.key=y.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[b]=t.shortKey,delete t.shortKey),t}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),r=n[0],o=n[1],a=(0,c.default)({},r.formats(),{list:"checked"}),s=(new u.default).retain(t.index).insert("\n",a).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=i(n,2),o=r[0],a=r[1],s=(new u.default).retain(t.index).insert("\n",e.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),o=i(r,2),a=o[0],s=o[1];if(s>n)return!0;var c=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var l=(new u.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:c});this.quill.updateContents(l,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),r=n[0],o=n[1],a=(new u.default).retain(t.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":_(y.keys.LEFT,!1),"embed left shift":_(y.keys.LEFT,!0),"embed right":_(y.keys.RIGHT,!1),"embed right shift":_(y.keys.RIGHT,!0)}},e.default=y,e.SHORTKEY=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=c(n(0)),s=c(n(7));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,o=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(o,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,c=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var u=[t,n.start.offset,n.end.offset];i=u[0],o=u[1],c=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=e.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var f=[o,c].map(function(t){return Math.max(0,Math.min(i.data.length,t-1))}),d=r(f,2);return o=d[0],c=d[1],{startNode:i,startOffset:o,endNode:i,endOffset:c}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}();u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=n(4),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Container),e}();s.allowedChildren=[o.default,i.BlockEmbed,s],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),i(e,[{key:"value",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")):n}}]),e}(),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),u=new s("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=s,e.ColorClass=c,e.ColorStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return u(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}();function u(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=c,e.sanitize=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(23)),a=s(n(107));function s(t){return t&&t.__esModule?t:{default:t}}var c=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return i(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case o.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case o.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(0)),i=g(n(5)),o=n(4),a=g(o),s=g(n(16)),c=g(n(25)),u=g(n(24)),l=g(n(35)),f=g(n(6)),d=g(n(22)),p=g(n(7)),h=g(n(55)),v=g(n(42)),m=g(n(23));function g(t){return t&&t.__esModule?t:{default:t}}i.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":u.default,"blots/embed":l.default,"blots/inline":f.default,"blots/scroll":d.default,"blots/text":p.default,"modules/clipboard":h.default,"modules/history":v.default,"modules/keyboard":m.default}),r.default.register(a.default,s.default,u.default,f.default,d.default,p.default),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,i){var o=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);o.wrap(a),a.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?r.create("text",e):r.create(e,n),o=this.split(t);this.parent.insertBefore(i,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(32),o=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(0)),o=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Embed),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(s).join("");if(t===this.leftGuard)if(this.prev instanceof o.default){var a=this.prev.length();this.prev.insertAt(a,r),e={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=s,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}})}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),c=new o.default.Attributor.Class("align","ql-align",a),u=new o.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=c,e.AlignStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=n(26);var s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),c=new o.default.Attributor.Class("direction","ql-direction",a),u=new o.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=c,e.DirectionStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var s={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",s),u=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),i(e,[{key:"value",value:function(t){return function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}())("font","font-family",s);e.FontStyle=u,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(0)),o=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,function(t,e,n,i){t!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(e):r.record(e,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],o.default.sources.USER),this.ignoreChange=!1;var r=u(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),t=i.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}();function u(t){var e=t.reduce(function(t,e){return t+=e.delete||0},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=i.default.query(t,i.default.Scope.BLOCK)}))}(t)&&(n-=1),n}c.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=c,e.getLastChangeIndex=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=p(n(3)),o=p(n(2)),a=p(n(8)),s=p(n(23)),c=p(n(34)),u=p(n(59)),l=p(n(60)),f=p(n(28)),d=p(n(61));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],x=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),r}return m(e,c.default),r(e,[{key:"addModule",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&k(t,g),new l.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&k(t,b,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?k(t,y):t.classList.contains("ql-header")?k(t,_):t.classList.contains("ql-size")&&k(t,w)),new f.default(t)});this.quill.on(a.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}();x.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new o.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var O=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return m(e,d.default),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){s.default.match(e,"enter")?(t.save(),e.preventDefault()):s.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,a.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e)return(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0";if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/";return t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}();function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)})}e.BaseTooltip=O,e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,i=this.find(t),o=i[0],a=t-i[1],s=this.iterator(o);(r=s())&&a<t+e;){var c=r.length();t>a?n(r,t-a,Math.min(e,a+c-t)):n(r,0,Math.min(c,t+e-a)),a+=c}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,s),n.attach(),n}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,i){this.update(),t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)e.push(i.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&s(t.parent))},c=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(c),t.optimize(n))},u=e,l=0;u.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=a.find(t,!1);s(e,!1),e instanceof o.default&&e.children.forEach(function(t){s(t,!1)})})):"attributes"===t.type&&s(e.prev)),s(e))}),this.children.forEach(c),i=(u=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)e.push(i.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==r&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],n)}),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),a=n(1);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach(function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,r,i){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o.default);e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){var r=a.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,i){null!=a.query(r,a.Scope.BLOCK)?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var i=this.split(e),o=a.create(n,r);i.parent.insertBefore(o,i)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):t.prototype.formatAt.call(this,e,n,r,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(o.default);e.default=s},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:i.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1,r=1,i=0;function o(t,e,u){if(t==e)return t?[[i,t]]:[];(u<0||t.length<u)&&(u=null);var f=s(t,e),d=t.substring(0,f);f=c(t=t.substring(f),e=e.substring(f));var p=t.substring(t.length-f),h=function(t,e){var u;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,d=l.indexOf(f);if(-1!=d)return u=[[r,l.substring(0,d)],[i,f],[r,l.substring(d+f.length)]],t.length>e.length&&(u[0][0]=u[2][0]=n),u;if(1==f.length)return[[n,t],[r,e]];var p=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function i(t,e,n){for(var r,i,o,a,u=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!=(l=e.indexOf(u,l+1));){var d=s(t.substring(n),e.substring(l)),p=c(t.substring(0,n),e.substring(0,l));f.length<p+d&&(f=e.substring(l-p,l)+e.substring(l,l+d),r=t.substring(0,n-p),i=t.substring(n+d),o=e.substring(0,l-p),a=e.substring(l+d))}return 2*f.length>=t.length?[r,i,o,a,f]:null}var o,a,u,l,f,d=i(n,r,Math.ceil(n.length/4)),p=i(n,r,Math.ceil(n.length/2));if(!d&&!p)return null;o=p?d&&d[4].length>p[4].length?d:p:d;t.length>e.length?(a=o[0],u=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],a=o[2],u=o[3]);var h=o[4];return[a,u,l,f,h]}(t,e);if(p){var h=p[0],v=p[1],m=p[2],g=p[3],b=p[4],y=o(h,m),_=o(v,g);return y.concat([[i,b]],_)}return function(t,e){for(var i=t.length,o=e.length,s=Math.ceil((i+o)/2),c=s,u=2*s,l=new Array(u),f=new Array(u),d=0;d<u;d++)l[d]=-1,f[d]=-1;l[c+1]=0,f[c+1]=0;for(var p=i-o,h=p%2!=0,v=0,m=0,g=0,b=0,y=0;y<s;y++){for(var _=-y+v;_<=y-m;_+=2){for(var w=c+_,x=(E=_==-y||_!=y&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-_;E<i&&x<o&&t.charAt(E)==e.charAt(x);)E++,x++;if(l[w]=E,E>i)m+=2;else if(x>o)v+=2;else if(h){var O=c+p-_;if(O>=0&&O<u&&-1!=f[O]){var k=i-f[O];if(E>=k)return a(t,e,E,x)}}}for(var j=-y+g;j<=y-b;j+=2){for(var O=c+j,C=(k=j==-y||j!=y&&f[O-1]<f[O+1]?f[O+1]:f[O-1]+1)-j;k<i&&C<o&&t.charAt(i-k-1)==e.charAt(o-C-1);)k++,C++;if(f[O]=k,k>i)b+=2;else if(C>o)g+=2;else if(!h){var w=c+p-j;if(w>=0&&w<u&&-1!=l[w]){var E=l[w],x=c+E-w;if(E>=(k=i-k))return a(t,e,E,x)}}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-f),e=e.substring(0,e.length-f));return d&&h.unshift([i,d]),p&&h.push([i,p]),function t(e){e.push([i,""]);var o=0;var a=0;var u=0;var l="";var f="";var d;for(;o<e.length;)switch(e[o][0]){case r:u++,f+=e[o][1],o++;break;case n:a++,l+=e[o][1],o++;break;case i:a+u>1?(0!==a&&0!==u&&(0!==(d=s(f,l))&&(o-a-u>0&&e[o-a-u-1][0]==i?e[o-a-u-1][1]+=f.substring(0,d):(e.splice(0,0,[i,f.substring(0,d)]),o++),f=f.substring(d),l=l.substring(d)),0!==(d=c(f,l))&&(e[o][1]=f.substring(f.length-d)+e[o][1],f=f.substring(0,f.length-d),l=l.substring(0,l.length-d))),0===a?e.splice(o-u,a+u,[r,f]):0===u?e.splice(o-a,a+u,[n,l]):e.splice(o-a-u,a+u,[n,l],[r,f]),o=o-a-u+(a?1:0)+(u?1:0)+1):0!==o&&e[o-1][0]==i?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,u=0,a=0,l="",f=""}""===e[e.length-1][1]&&e.pop();var p=!1;o=1;for(;o<e.length-1;)e[o-1][0]==i&&e[o+1][0]==i&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),p=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),p=!0)),o++;p&&t(e)}(h),null!=u&&(h=function(t,e){var r=function(t,e){if(0===e)return[i,t];for(var r=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===i){var s=r+a[1].length;if(e===s)return[o+1,t];if(e<s){t=t.slice();var c=e-r,u=[a[0],a[1].slice(0,c)],l=[a[0],a[1].slice(c)];return t.splice(o,1,u,l),[o+1,t]}r=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),o=r[1],a=r[0],s=o[a],c=o[a+1];if(null==s)return t;if(s[0]!==i)return t;if(null!=c&&s[1]+c[1]===c[1]+s[1])return o.splice(a,2,c,s),l(o,a,2);if(null!=c&&0===c[1].indexOf(s[1])){o.splice(a,2,[c[0],s[1]],[0,s[1]]);var u=c[1].slice(s[1].length);return u.length>0&&o.splice(a+2,0,[c[0],u]),l(o,a,3)}return t}(h,u)),h=function(t){for(var e=!1,o=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=2;a<t.length;a+=1)t[a-2][0]===i&&((s=t[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&t[a-1][0]===n&&o(t[a-1][1])&&t[a][0]===r&&o(t[a][1])&&(e=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));var s;if(!e)return t;for(var c=[],a=0;a<t.length;a+=1)t[a][1].length>0&&c.push(t[a]);return c}(h)}function a(t,e,n,r){var i=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=o(i,a),l=o(s,c);return u.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}var u=o;function l(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var i=t[r],o=t[r+1];i[0]===o[1]&&t.splice(r,2,[i[0],i[1]+o[1]])}return t}u.INSERT=r,u.DELETE=n,u.EQUAL=i,t.exports=u},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t,e){var n=r?r+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},a.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,o),!0;case 6:return l.fn.call(l.context,e,n,i,o,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,i);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){var i=new o(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.once=function(t,e,n){var i=new o(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,o){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=y(n(3)),s=y(n(2)),c=y(n(0)),u=y(n(5)),l=y(n(10)),f=y(n(9)),d=n(36),p=n(37),h=y(n(13)),v=n(26),m=n(38),g=n(39),b=n(40);function y(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=(0,l.default)("quill:clipboard"),x="__ql-matcher",O=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,M],["br",function(t,e){P(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};r.fontStyle&&"italic"===S(t).fontStyle&&(n.italic=!0);r.fontWeight&&(S(t).fontWeight.startsWith("bold")||parseInt(S(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=E(e,n));parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e));return e}],["li",function(t,e){var n=c.default.query(t);if(null==n||"list-item"!==n.blotName||!P(e,"\n"))return e;var r=-1,i=t.parentNode;for(;!i.classList.contains("ql-clipboard");)"list"===(c.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],k=[d.AlignAttribute,m.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),j=[d.AlignStyle,p.BackgroundStyle,v.ColorStyle,m.DirectionStyle,g.FontStyle,b.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),C=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],O.concat(r.options.matchers).forEach(function(t){var e=i(t,2),o=e[0],a=e[1];(n.matchVisual||a!==I)&&r.addMatcher(o,a)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,f.default),o(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,_({},h.default.blotName,e[h.default.blotName]))}var r=this.prepareMatching(),o=i(r,2),a=o[0],c=o[1],u=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,n){return n(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(i,o){var a=t(o,n,r);return o.nodeType===e.ELEMENT_NODE&&(a=n.reduce(function(t,e){return e(o,t)},a),a=(o[x]||[]).reduce(function(t,e){return e(o,t)},a)),i.concat(a)},new s.default):new s.default}(this.container,a,c);return P(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),w.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,u.default.sources.USER),e.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=i,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(r){var o=i(r,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),function(t){t[x]=t[x]||[],t[x].push(s)})}}),[e,n]}}]),e}();function E(t,e,n){return"object"===(void 0===e?"undefined":r(e))?Object.keys(e).reduce(function(t,n){return E(t,n,e[n])},t):t.reduce(function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,a.default)({},_({},e,n),r.attributes))},new s.default)}function S(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};return t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function P(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var i=t.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*e.length)===e}function A(t){if(0===t.childNodes.length)return!1;var e=S(t);return["block","list-item"].indexOf(e.display)>-1}function T(t,e,n){return E(n,t,!0)}function N(t,e){var n=c.default.Attributor.Attribute.keys(t),r=c.default.Attributor.Class.keys(t),i=c.default.Attributor.Style.keys(t),o={};return n.concat(r).concat(i).forEach(function(e){var n=c.default.query(e,c.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(null==(n=k[e])||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),null==(n=j[e])||n.attrName!==e&&n.keyName!==e||(n=j[e],o[n.attrName]=n.value(t)||void 0))}),Object.keys(o).length>0&&(e=E(e,o)),e}function L(t,e){var n=c.default.query(t);if(null==n)return e;if(n.prototype instanceof c.default.Embed){var r={},i=n.value(t);null!=i&&(r[n.blotName]=i,e=(new s.default).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=E(e,n.blotName,n.formats(t)));return e}function M(t,e){return P(e,"\n")||(A(t)||e.length()>0&&t.nextSibling&&A(t.nextSibling))&&e.insert("\n"),e}function I(t,e){if(A(t)&&null!=t.nextElementSibling&&!P(e,"\n\n")){var n=t.offsetHeight+parseFloat(S(t).marginTop)+parseFloat(S(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function D(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!S(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&A(t.parentNode)||null!=t.previousSibling&&A(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&A(t.parentNode)||null!=t.nextSibling&&A(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},e.default=C,e.matchAttributor=N,e.matchBlot=L,e.matchNewline=M,e.matchSpacing=I,e.matchText=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}();c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(2)),a=l(n(0)),s=l(n(5)),c=l(n(10)),u=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=(0,c.default)("quill:toolbar"),p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");v(a,o.options.container),t.container.parentNode.insertBefore(a,t.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach(function(t){o.addHandler(t,o.options.handlers[t])}),[].forEach.call(o.container.querySelectorAll("button, select"),function(t){o.attach(t)}),o.quill.on(s.default.events.EDITOR_CHANGE,function(t,e){t===s.default.events.SELECTION_CHANGE&&o.update(e)}),o.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var t=o.quill.selection.getRange(),e=r(t,1)[0];o.update(e)}),o):(i=d.error("Container required for toolbar",o.options),f(o,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),i(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}var i="SELECT"===t.tagName?"change":"click";t.addEventListener(i,function(i){var c=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];c=!u.hasAttribute("selected")&&(u.value||!1)}else c=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),i.preventDefault();e.quill.focus();var l=e.quill.selection.getRange(),f=r(l,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,c);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(c=prompt("Enter "+n)))return;e.quill.updateContents((new o.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,c)),s.default.sources.USER)}else e.quill.format(n,c,s.default.sources.USER);e.update(f)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var i=r(n,2),o=i[0],a=i[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[o])s=a.querySelector("option[selected]");else if(!Array.isArray(e[o])){var c=e[o];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+c+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=e[o]===a.getAttribute("value")||null!=e[o]&&e[o].toString()===a.getAttribute("value")||null==e[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=e[o])})}}]),e}();function h(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function v(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)h(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)}),t.appendChild(r)}(n,e,r):h(n,e,r)}}),t.appendChild(n)})}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var i="+1"===t?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=p,e.addControls=v},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(28),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"buildItem",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(28),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"selectItem",value:function(t,n){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=e+o+"px"),i.left<r.left&&(o=r.left-i.left,this.root.style.left=e+o+"px"),i.bottom>r.bottom){var a=i.bottom-i.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=p(n(3)),s=p(n(8)),c=n(43),u=p(c),l=p(n(27)),f=n(15),d=p(n(41));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return m(e,u.default),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}();b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(e,c.BaseTooltip),o(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(e,n,i){if(null!=e){if(0===e.length&&i===s.default.sources.USER){var o=t.quill.scroll.descendant(l.default,e.index),a=r(o,2),c=a[0],u=a[1];if(null!=c){t.linkRange=new f.Range(e.index-u,c.length());var d=l.default.formats(c.domNode);return t.preview.textContent=d,t.preview.setAttribute("href",d),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}();y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=I(n(29)),i=n(36),o=n(38),a=n(64),s=I(n(65)),c=I(n(66)),u=n(67),l=I(u),f=n(37),d=n(26),p=n(39),h=n(40),v=I(n(56)),m=I(n(68)),g=I(n(27)),b=I(n(69)),y=I(n(70)),_=I(n(71)),w=I(n(72)),x=I(n(73)),O=n(13),k=I(O),j=I(n(74)),C=I(n(75)),E=I(n(57)),S=I(n(41)),P=I(n(28)),A=I(n(59)),T=I(n(60)),N=I(n(61)),L=I(n(108)),M=I(n(62));function I(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":h.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":p.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":k.default,"formats/header":c.default,"formats/list":l.default,"formats/bold":v.default,"formats/code":O.Code,"formats/italic":m.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":x.default,"formats/list/item":u.ListItem,"modules/formula":j.default,"modules/syntax":C.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":M.default,"ui/icons":S.default,"ui/picker":P.default,"ui/icon-picker":T.default,"ui/color-picker":A.default,"ui/tooltip":N.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};var c=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Attributor.Class),i(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}())("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();a.blotName="blockquote",a.tagName="blockquote",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}();s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=c(n(0)),a=c(n(4)),s=c(n(25));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,a.default),r(e,[{key:"format",value:function(t,n){t!==p.blotName||n?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:i(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}();d.blotName="list-item",d.tagName="LI";var p=function(t){function e(t){u(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),i=o.default.find(e.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return f(e,s.default),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}();p.blotName="list",p.scope=o.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[d],e.ListItem=d,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(56),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();a.blotName="italic",a.tagName=["EM","I"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(6),a=(r=o)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}();s.blotName="script",s.tagName=["SUB","SUP"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();a.blotName="strike",a.tagName="S",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(6),o=(r=i)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();a.blotName="underline",a.tagName="U",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},c=n(27);var u=["alt","height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Embed),i(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="image",l.tagName="IMG",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),c=(r=s)&&r.__esModule?r:{default:r};var u=["height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.BlockEmbed),i(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="video",l.className="ql-video",l.tagName="IFRAME",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(35)),o=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,i.default),r(e,null,[{key:"create",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}();f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var d=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return l(e,a.default),r(e,null,[{key:"register",value:function(){o.default.register(f,!0)}}]),e}();e.FormulaBlot=f,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(0)),o=c(n(5)),a=c(n(9)),s=c(n(13));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,s.default),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}();d.className="ql-syntax";var p=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(t){function e(t,n){u(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(i),i=setTimeout(function(){r.highlight(),i=null},r.options.interval)}),r.highlight(),r}return f(e,a.default),r(e,null,[{key:"register",value:function(){o.default.register(p,!0),o.default.register(d,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(o.default.sources.SILENT),null!=e&&this.quill.setSelection(e,o.default.sources.SILENT)}}}]),e}();h.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=d,e.CodeToken=p,e.default=h},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=f(n(3)),a=f(n(8)),s=n(43),c=f(s),u=n(15),l=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return h(e,c.default),i(e,[{key:"extendToolbar",value:function(t){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),l.default)}}]),e}();m.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(t){function e(t,n){d(this,e);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(a.default.events.EDITOR_CHANGE,function(t,e,n,i){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&i===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(e.index,e.length);if(1===o.length)r.position(r.quill.getBounds(e));else{var s=o[o.length-1],c=r.quill.getIndex(s),l=Math.min(s.length()-1,e.index+e.length-c),f=r.quill.getBounds(new u.Range(c,l));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return h(e,s.BaseTooltip),i(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),e}();g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=g,e.default=m},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()}).call(e,n("EuP9").Buffer)},yaIh:function(t,e,n){var r=n("VU/8")(n("y13I"),n("wMOp"),!1,null,null,null);t.exports=r.exports},ykT4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),i=n.n(r),o=n("u5FJ"),a=n("Jaym"),s=n("Mqyi"),c=n("yaIh"),u=n.n(c),l=n("s8GX"),f=n.n(l),d=n("OLx3"),p=n("nctS"),h=Object(o.l)("#comments");if(h){var v=Object(o.f)(h,"data-type");d.a.info.postId=Object(o.f)(h,"data-post-id"),d.a.info.type=v,a.b.once(p.a.init,function(){new i.a({el:"#comments",render:function(t){return t(u.a)}})}),d.a.settings.disable.media&&"manga"===v||d.a.settings.disable.media&&"anime"===v||d.a.settings.disable.reader&&"chapter"===v||d.a.settings.disable.reader&&"episodes"===v?(h.style.minHeight="auto",h.appendChild(Object(s.a)("div",{className:"comments-info text-muted paper"},Object(s.a)("div",{className:"comments-info__text"},"Вы отключили комментарии. ",Object(s.a)("span",{className:"comments-info__icon text-primary mx-5 text-truncate"},Object(s.a)("i",{className:"fa fa-sliders"})," Настроить"))))):a.b.emit(p.a.init),Object(o.c)(".comments-info__icon","click",function(){i.a.prototype.$dialog.open({component:f.a})}),Object(o.c)(".comments-info__btn .button","click",function(){return a.b.emit(p.a.init)}),Object(a.g)().comm_id&&a.b.emit(p.a.init)}Object(o.a)(document,"click",".comment__spoiler",function(t,e){t.stopPropagation(),o.g.toggle(e,"comment__spoiler_expanded")})},ymQ7:function(t,e,n){var r=n("xA5w"),i=n("JURy"),o=n("nizW");t.exports=function(t){var e=r(t);return o(e,i(e))+1}},ypmV:function(t,e,n){var r=n("m1WI"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},yzuE:function(t,e,n){var r=n("v9aJ"),i=n("bGc4");t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},z4BQ:function(t,e){t.exports=function(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();return e.setSeconds(0,0),6e4*n+e.getTime()%6e4}},z4hc:function(t,e,n){var r=n("aCM0"),i=n("Rh28"),o=n("UnEC"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},zBOP:function(t,e,n){var r=n("22B7"),i=n("bGc4"),o=n("ZGh9"),a=n("yCNF");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},zF5W:function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t="14.6.2";function e(t){t.parentElement.removeChild(t)}function n(t){return null!==t&&void 0!==t}function r(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,n){n>0&&(u(t,e),setTimeout(function(){l(t,e)},n))}function a(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function c(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function d(t,e){return 100/(e-t)}function p(t,e,n){return 100*e/(t[n+1]-t[n])}function h(t,e){for(var n=1;t>=e[n];)n+=1;return n}function v(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=h(n,t),i=t[r-1],o=t[r],a=e[r-1],s=e[r];return a+function(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([i,o],n)/d(a,s)}function m(t,e,n,r){if(100===r)return r;var i=h(r,t),o=t[i-1],a=t[i];return n?r-o>(a-o)/2?a:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}function g(e,n,r){var o;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!i(o="min"===e?0:"max"===e?100:parseFloat(e))||!i(n[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");r.xPct.push(o),r.xVal.push(n[0]),o?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1]),r.xHighestCompleteStep.push(0)}function b(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=p([n.xVal[t],n.xVal[t+1]],e,0)/d(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=o}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function y(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(r in t)t.hasOwnProperty(r)&&i.push([t[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),r=0;r<i.length;r++)g(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)b(r,this.xNumSteps[r],this)}y.prototype.getDistance=function(e){var n,r=[];for(n=0;n<this.xNumSteps.length-1;n++){var i=this.xNumSteps[n];if(i&&e/i%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' of "+this.xPct[n]+"% range must be divisible by step.");r[n]=p(this.xVal,e,n)}return r},y.prototype.getAbsoluteDistance=function(t,e,n){var r,i=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[i+1];)i++;else t===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);n||t!==this.xPct[i+1]||i++;var o=1,a=e[i],s=0,c=0,u=0,l=0;for(r=n?(t-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-t)/(this.xPct[i+1]-this.xPct[i]);a>0;)s=this.xPct[i+1+l]-this.xPct[i+l],e[i+l]*o+100-100*r>100?(c=s*r,o=(a-100*r)/e[i+l],r=1):(c=e[i+l]*s/100*o,o=0),n?(u-=c,this.xPct.length+l>=1&&l--):(u+=c,this.xPct.length-l>=1&&l++),a=e[i+l]*o;return t+u},y.prototype.toStepping=function(t){return t=v(this.xVal,this.xPct,t)},y.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=h(n,e),i=t[r-1],o=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-a)*d(a,e[r]))}(this.xVal,this.xPct,t)},y.prototype.getStep=function(t){return t=m(this.xPct,this.xSteps,this.snap,t)},y.prototype.getDefaultStep=function(t,e,n){var r=h(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},y.prototype.getNearbySteps=function(t){var e=h(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},y.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(c);return Math.max.apply(null,t)},y.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var _={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},w={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function x(e){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function O(e,n){if(!i(n))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=n}function k(e,n){if(!i(n))throw new Error("noUiSlider ("+t+"): 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=n}function j(e,n){if(!i(n))throw new Error("noUiSlider ("+t+"): 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=n}function C(e,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new y(n,e.snap,e.singleStep)}function E(e,n){if(n=s(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=n.length,e.start=n}function S(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function P(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function A(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function T(e,n){var r,i=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(r=1;r<e.handles;r++)i.push(n);i.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");i=n}e.connect=i}function N(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function L(e,n){if(!i(n))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");0!==n&&(e.margin=e.spectrum.getDistance(n))}function M(e,n){if(!i(n))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(e,n){var r;if(!i(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!i(n[0])&&!i(n[1]))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){for(Array.isArray(n)||(n=[n,n]),e.padding=[e.spectrum.getDistance(n[0]),e.spectrum.getDistance(n[1])],r=0;r<e.spectrum.xNumSteps.length-1;r++)if(e.padding[0][r]<0||e.padding[1][r]<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number(s).");var o=n[0]+n[1],a=e.spectrum.xVal[0];if(o/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider ("+t+"): 'padding' option must not exceed 100% of the range.")}}function D(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function R(e,n){if("string"!=typeof n)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var r=n.indexOf("tap")>=0,i=n.indexOf("drag")>=0,o=n.indexOf("fixed")>=0,a=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,c=n.indexOf("unconstrained")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");L(e,e.start[1]-e.start[0])}if(c&&(e.margin||e.limit))throw new Error("noUiSlider ("+t+"): 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||a,drag:i,fixed:o,snap:a,hover:s,unconstrained:c}}function q(e,n){if(!1!==n)if(!0===n){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(!0)}else{if(e.tooltips=s(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")})}}function B(t,e){t.ariaFormat=e,x(e)}function F(t,e){t.format=e,x(e)}function z(e,n){if(e.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'keyboardSupport' option must be a boolean.")}function U(t,e){t.documentElement=e}function H(e,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function $(e,n){if("object"!=typeof n)throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var r in e.cssClasses={},n)n.hasOwnProperty(r)&&(e.cssClasses[r]=e.cssPrefix+n[r]);else e.cssClasses=n}function V(e){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:_,format:_},i={step:{r:!1,t:O},keyboardPageMultiplier:{r:!1,t:k},keyboardDefaultStep:{r:!1,t:j},start:{r:!0,t:E},connect:{r:!0,t:T},direction:{r:!0,t:D},snap:{r:!1,t:S},animate:{r:!1,t:P},animationDuration:{r:!1,t:A},range:{r:!0,t:C},orientation:{r:!1,t:N},margin:{r:!1,t:L},limit:{r:!1,t:M},padding:{r:!1,t:I},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:B},format:{r:!1,t:F},tooltips:{r:!1,t:q},keyboardSupport:{r:!0,t:z},documentElement:{r:!1,t:U},cssPrefix:{r:!0,t:H},cssClasses:{r:!0,t:$}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:w,keyboardPageMultiplier:5,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach(function(a){if(!n(e[a])&&void 0===o[a]){if(i[a].r)throw new Error("noUiSlider ("+t+"): '"+a+"' is required.");return!0}i[a].t(r,n(e[a])?e[a]:o[a])}),r.pips=e.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,c=void 0!==a.style.transform;r.transformRule=c?"transform":s?"msTransform":"webkitTransform";return r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function W(n,i,c){var d,p,h,v,m,g,b,y,_=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},w=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),x=n,O=i.spectrum,k=[],j=[],C=[],E=0,S={},P=n.ownerDocument,A=i.documentElement||P.documentElement,T=P.body,N=-1,L=0,M=1,I=2,D="rtl"===P.dir||1===i.ort?0:100;function R(t,e){var n=P.createElement("div");return e&&u(n,e),t.appendChild(n),n}function q(t,e){var n=R(t,i.cssClasses.origin),r=R(n,i.cssClasses.handle);return R(r,i.cssClasses.touchArea),r.setAttribute("data-handle",e),i.keyboardSupport&&(r.setAttribute("tabindex","0"),r.addEventListener("keydown",function(t){return function(t,e){if(z()||U(e))return!1;var n=["Left","Right"],r=["Down","Up"],o=["PageDown","PageUp"],a=["Home","End"];i.dir&&!i.ort?n.reverse():i.ort&&!i.dir&&(r.reverse(),o.reverse());var s,c=t.key.replace("Arrow",""),u=c===o[0],l=c===o[1],f=c===r[0]||c===n[0]||u,d=c===r[1]||c===n[1]||l,p=c===a[1];if(!f&&!d&&c!==a[0]&&!p)return!0;if(t.preventDefault(),d||f){var h=i.keyboardPageMultiplier,v=f?0:1,m=gt(e),g=m[v];if(null===g)return!1;!1===g&&(g=O.getDefaultStep(j[e],f,i.keyboardDefaultStep)),(l||u)&&(g*=h),g=Math.max(g,1e-7),g*=f?-1:1,s=k[e]+g}else s=p?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return dt(e,O.toStepping(s),!0,!0),at("slide",e),at("update",e),at("change",e),at("set",e),!1}(t,e)})),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===e?u(r,i.cssClasses.handleLower):e===i.handles-1&&u(r,i.cssClasses.handleUpper),n}function B(t,e){return!!e&&R(t,i.cssClasses.connect)}function F(t,e){return!!i.tooltips[e]&&R(t.firstChild,i.cssClasses.tooltip)}function z(){return x.hasAttribute("disabled")}function U(t){return p[t].hasAttribute("disabled")}function H(){m&&(ot("update.tooltips"),m.forEach(function(t){t&&e(t)}),m=null)}function $(){H(),m=p.map(F),it("update.tooltips",function(t,e,n){if(m[e]){var r=t[e];!0!==i.tooltips[e]&&(r=i.tooltips[e].to(n[e])),m[e].innerHTML=r}})}function W(t,e,n){var r=P.createElement("div"),o=[];o[L]=i.cssClasses.valueNormal,o[M]=i.cssClasses.valueLarge,o[I]=i.cssClasses.valueSub;var a=[];a[L]=i.cssClasses.markerNormal,a[M]=i.cssClasses.markerLarge,a[I]=i.cssClasses.markerSub;var s=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function l(t,e){var n=e===i.cssClasses.value,r=n?o:a;return e+" "+(n?s:c)[i.ort]+" "+r[t]}return u(r,i.cssClasses.pips),u(r,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach(function(o){!function(t,o,a){if((a=e?e(o,a):a)!==N){var s=R(r,!1);s.className=l(a,i.cssClasses.marker),s.style[i.style]=t+"%",a>L&&((s=R(r,!1)).className=l(a,i.cssClasses.value),s.setAttribute("data-value",o),s.style[i.style]=t+"%",s.innerHTML=n.to(o))}}(o,t[o][0],t[o][1])}),r}function G(){v&&(e(v),v=null)}function Y(e){G();var n=e.mode,r=e.density||1,i=e.filter||!1,o=function(e,n,r){if("range"===e||"steps"===e)return O.xVal;if("count"===e){if(n<2)throw new Error("noUiSlider ("+t+"): 'values' (>= 2) required for mode 'count'.");var i=n-1,o=100/i;for(n=[];i--;)n[i]=i*o;n.push(100),e="positions"}return"positions"===e?n.map(function(t){return O.fromStepping(r?O.getStep(t):t)}):"values"===e?r?n.map(function(t){return O.fromStepping(O.getStep(O.toStepping(t)))}):n:void 0}(n,e.values||!1,e.stepped||!1),a=function(t,e,n){var r,i={},o=O.xVal[0],a=O.xVal[O.xVal.length-1],s=!1,c=!1,u=0;return r=n.slice().sort(function(t,e){return t-e}),(n=r.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),c=!0),n.forEach(function(r,o){var a,l,f,d,p,h,v,m,g,b,y=r,_=n[o+1],w="steps"===e;if(w&&(a=O.xNumSteps[o]),a||(a=_-y),!1!==y)for(void 0===_&&(_=y),a=Math.max(a,1e-7),l=y;l<=_;l=(l+a).toFixed(7)/1){for(m=(p=(d=O.toStepping(l))-u)/t,b=p/(g=Math.round(m)),f=1;f<=g;f+=1)i[(h=u+f*b).toFixed(5)]=[O.fromStepping(h),0];v=n.indexOf(l)>-1?M:w?I:L,!o&&s&&l!==_&&(v=0),l===_&&c||(i[d.toFixed(5)]=[l,v]),u=d}}),i}(r,n,o),s=e.format||{to:Math.round};return v=x.appendChild(W(a,i,s))}function K(){var t=d.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||d[e]:t.height||d[e]}function Z(t,e,n,r){var o=function(o){return!!(o=function(t,e,n){var r,i,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");0===t.type.indexOf("MSPointer")&&(s=!0);if("mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(o){var c=function(t){return t.target===n||n.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(n)};if("touchstart"===t.type){var u=Array.prototype.filter.call(t.touches,c);if(u.length>1)return!1;r=u[0].pageX,i=u[0].pageY}else{var l=Array.prototype.find.call(t.changedTouches,c);if(!l)return!1;r=l.pageX,i=l.pageY}}e=e||f(P),(a||s)&&(r=t.clientX+e.x,i=t.clientY+e.y);return t.pageOffset=e,t.points=[r,i],t.cursor=a||s,t}(o,r.pageOffset,r.target||e))&&(!(z()&&!r.doNotReject)&&(a=x,s=i.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!r.doNotReject)&&(!(t===_.start&&void 0!==o.buttons&&o.buttons>1)&&((!r.hover||!o.buttons)&&(w||o.preventDefault(),o.calcPoint=o.points[i.ort],void n(o,r))))));var a,s},a=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!!w&&{passive:!0}),a.push([t,o])}),a}function J(t){var e,n,r,o,s,c,u=100*(t-(e=d,n=i.ort,r=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,c=f(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),n?r.top+c.y-s.clientTop:r.left+c.x-s.clientLeft))/K();return u=a(u),i.dir?100-u:u}function X(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&tt(t,e)}function Q(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return tt(t,e);var n=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint);ut(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function tt(t,e){e.handle&&(l(e.handle,i.cssClasses.active),E-=1),e.listeners.forEach(function(t){A.removeEventListener(t[0],t[1])}),0===E&&(l(x,i.cssClasses.drag),ft(),t.cursor&&(T.style.cursor="",T.removeEventListener("selectstart",r))),e.handleNumbers.forEach(function(t){at("change",t),at("set",t),at("end",t)})}function et(t,e){if(e.handleNumbers.some(U))return!1;var n;1===e.handleNumbers.length&&(n=p[e.handleNumbers[0]].children[0],E+=1,u(n,i.cssClasses.active));t.stopPropagation();var o=[],a=Z(_.move,A,Q,{target:t.target,handle:n,listeners:o,startCalcPoint:t.calcPoint,baseSize:K(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:j.slice()}),s=Z(_.end,A,tt,{target:t.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),c=Z("mouseout",A,X,{target:t.target,handle:n,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,a.concat(s,c)),t.cursor&&(T.style.cursor=getComputedStyle(t.target).cursor,p.length>1&&u(x,i.cssClasses.drag),T.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach(function(t){at("start",t)})}function nt(t){t.stopPropagation();var e=J(t.calcPoint),n=function(t){var e=100,n=!1;return p.forEach(function(r,i){if(!U(i)){var o=j[i],a=Math.abs(o-t);(a<e||a<=e&&t>o||100===a&&100===e)&&(n=i,e=a)}}),n}(e);if(!1===n)return!1;i.events.snap||o(x,i.cssClasses.tap,i.animationDuration),dt(n,e,!0,!0),ft(),at("slide",n,!0),at("update",n,!0),at("change",n,!0),at("set",n,!0),i.events.snap&&et(t,{handleNumbers:[n]})}function rt(t){var e=J(t.calcPoint),n=O.getStep(e),r=O.fromStepping(n);Object.keys(S).forEach(function(t){"hover"===t.split(".")[0]&&S[t].forEach(function(t){t.call(g,r)})})}function it(t,e){S[t]=S[t]||[],S[t].push(e),"update"===t.split(".")[0]&&p.forEach(function(t,e){at("update",e)})}function ot(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(S).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete S[t]})}function at(t,e,n){Object.keys(S).forEach(function(r){var o=r.split(".")[0];t===o&&S[r].forEach(function(t){t.call(g,k.map(i.format.to),e,k.slice(),n||!1,j.slice(),g)})})}function st(t,e,n,r,o,s){var c;return p.length>1&&!i.events.unconstrained&&(r&&e>0&&(c=O.getAbsoluteDistance(t[e-1],i.margin,0),n=Math.max(n,c)),o&&e<p.length-1&&(c=O.getAbsoluteDistance(t[e+1],i.margin,1),n=Math.min(n,c))),p.length>1&&i.limit&&(r&&e>0&&(c=O.getAbsoluteDistance(t[e-1],i.limit,0),n=Math.min(n,c)),o&&e<p.length-1&&(c=O.getAbsoluteDistance(t[e+1],i.limit,1),n=Math.max(n,c))),i.padding&&(0===e&&(c=O.getAbsoluteDistance(0,i.padding[0],0),n=Math.max(n,c)),e===p.length-1&&(c=O.getAbsoluteDistance(100,i.padding[1],1),n=Math.min(n,c))),!((n=a(n=O.getStep(n)))===t[e]&&!s)&&n}function ct(t,e){var n=i.ort;return(n?e:t)+", "+(n?t:e)}function ut(t,e,n,r){var i=n.slice(),o=[!t,t],a=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach(function(t,n){var r=st(i,t,i[t]+e,o[n],a[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)}):o=a=[!0];var s=!1;r.forEach(function(t,r){s=dt(t,n[t]+e,o[r],a[r])||s}),s&&r.forEach(function(t){at("update",t),at("slide",t)})}function lt(t,e){return i.dir?100-t-e:t}function ft(){C.forEach(function(t){var e=j[t]>50?-1:1,n=3+(p.length+e*t);p[t].style.zIndex=n})}function dt(t,e,n,r,o){return o||(e=st(j,t,e,n,r,!1)),!1!==e&&(function(t,e){j[t]=e,k[t]=O.fromStepping(e);var n="translate("+ct(10*(lt(e,0)-D)+"%","0")+")";p[t].style[i.transformRule]=n,pt(t),pt(t+1)}(t,e),!0)}function pt(t){if(h[t]){var e=0,n=100;0!==t&&(e=j[t-1]),t!==h.length-1&&(n=j[t]);var r=n-e,o="translate("+ct(lt(e,r)+"%","0")+")",a="scale("+ct(r/100,"1")+")";h[t].style[i.transformRule]=o+" "+a}}function ht(t,e){return null===t||!1===t||void 0===t?j[e]:("number"==typeof t&&(t=String(t)),t=i.format.from(t),!1===(t=O.toStepping(t))||isNaN(t)?j[e]:t)}function vt(t,e,n){var r=s(t),a=void 0===j[0];e=void 0===e||!!e,i.animate&&!a&&o(x,i.cssClasses.tap,i.animationDuration),C.forEach(function(t){dt(t,ht(r[t],t),!0,!1,n)});for(var c=1===C.length?0:1;c<C.length;++c)C.forEach(function(t){dt(t,j[t],!0,!0,n)});ft(),C.forEach(function(t){at("update",t),null!==r[t]&&e&&at("set",t)})}function mt(){var t=k.map(i.format.to);return 1===t.length?t[0]:t}function gt(t){var e=j[t],n=O.getNearbySteps(e),r=k[t],o=n.thisStep.step,a=null;if(i.snap)return[r-n.stepBefore.startValue||null,n.stepAfter.startValue-r||null];!1!==o&&r+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?o=null:0===e&&(a=null);var s=O.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}return u(b=x,i.cssClasses.target),0===i.dir?u(b,i.cssClasses.ltr):u(b,i.cssClasses.rtl),0===i.ort?u(b,i.cssClasses.horizontal):u(b,i.cssClasses.vertical),u(b,"rtl"===getComputedStyle(b).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),d=R(b,i.cssClasses.base),function(t,e){var n=R(e,i.cssClasses.connects);p=[],(h=[]).push(B(n,t[0]));for(var r=0;r<i.handles;r++)p.push(q(e,r)),C[r]=r,h.push(B(n,t[r+1]))}(i.connect,d),(y=i.events).fixed||p.forEach(function(t,e){Z(_.start,t.children[0],et,{handleNumbers:[e]})}),y.tap&&Z(_.start,d,nt,{}),y.hover&&Z(_.move,d,rt,{hover:!0}),y.drag&&h.forEach(function(t,e){if(!1!==t&&0!==e&&e!==h.length-1){var n=p[e-1],r=p[e],o=[t];u(t,i.cssClasses.draggable),y.fixed&&(o.push(n.children[0]),o.push(r.children[0])),o.forEach(function(t){Z(_.start,t,et,{handles:[n,r],handleNumbers:[e-1,e]})})}}),vt(i.start),i.pips&&Y(i.pips),i.tooltips&&$(),it("update",function(t,e,n,r,o){C.forEach(function(t){var e=p[t],r=st(j,t,0,!0,!0,!0),a=st(j,t,100,!0,!0,!0),s=o[t],c=i.ariaFormat.to(n[t]);r=O.fromStepping(r).toFixed(1),a=O.fromStepping(a).toFixed(1),s=O.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",c)})}),g={destroy:function(){for(var t in i.cssClasses)i.cssClasses.hasOwnProperty(t)&&l(x,i.cssClasses[t]);for(;x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return C.map(gt)},on:it,off:ot,get:mt,set:vt,setHandle:function(e,n,r,i){if(!((e=Number(e))>=0&&e<C.length))throw new Error("noUiSlider ("+t+"): invalid handle number, got: "+e);dt(e,ht(n,e),!0,!0,i),at("update",e),r&&at("set",e)},reset:function(t){vt(i.start,t)},__moveHandles:function(t,e,n){ut(t,e,j,n)},options:c,updateOptions:function(t,e){var n=mt(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach(function(e){void 0!==t[e]&&(c[e]=t[e])});var o=V(c);r.forEach(function(e){void 0!==t[e]&&(i[e]=o[e])}),O=o.spectrum,i.margin=o.margin,i.limit=o.limit,i.padding=o.padding,i.pips?Y(i.pips):G(),i.tooltips?$():H(),j=[],vt(t.start||n,e)},target:x,removePips:G,removeTooltips:H,getTooltips:function(){return m},getOrigins:function(){return p},pips:Y}}return{__spectrum:y,version:t,cssClasses:w,create:function(e,n){if(!e||!e.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");var r=W(e,V(n),n);return e.noUiSlider=r,r}}})?r.apply(e,i):r)||(t.exports=o)},zFhg:function(t,e,n){"use strict";var r=n("En79"),i=n.n(r),o=n("OAgh"),a=n("alMs"),s=n("Ngrm");function c(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function t(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"config",{}),f(this,"onCrop",function(t){r.parent.files=t,r.parent.upload()}),f(this,"showCropper",function(){var t,e=(t=i.a.mark(function t(e){var o,u,l,f,d,p,h,v;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.length){t.next=20;break}return o=e[0],t.next=4,r.getImageUrl(o);case 4:return u=t.sent,t.next=7,r.getImageSize(u);case 7:if(l=t.sent,f=c({size:o.size,type:o.type,url:u},l),!r.config.checkSize){t.next=15;break}if(d=r.config.checkSize,p=d.width,h=d.height,!(p>f.width)){t.next=13;break}return t.abrupt("return",s.a.alert("Изображение не подходит по размеру, минимальная ширина ".concat(p,"px")));case 13:if(!(h>f.height)){t.next=15;break}return t.abrupt("return",s.a.alert("Изображение не подходит по размеру, минимальная высота ".concat(h,"px")));case 15:if(v={component:function(){return new Promise(function(t){n.e(27).then(function(e){t(n("RJWe"))}.bind(null,n)).catch(n.oe)})},props:{url:u,imgData:f,options:r.config.options,croppedCanvasData:r.config.croppedCanvasData,onCrop:r.onCrop}},!r.config.checkShowCropper){t.next=19;break}if(r.config.checkShowCropper(f)){t.next=19;break}return t.abrupt("return",r.parent.upload());case 19:a.a.open(v);case 20:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()),this.parent=e,this.config=o}var e,r,d;return e=t,(r=[{key:"install",value:function(){this.parent.on(o.a.fileAdded,this.showCropper)}},{key:"getImageSize",value:function(t){return new Promise(function(e){var n=new Image;n.onload=function(){var t={width:n.naturalWidth,height:n.naturalHeight,ratio:n.naturalWidth/n.naturalHeight};e(t)},n.src=t})}},{key:"getImageUrl",value:function(t){return new Promise(function(e){if(URL)e(URL.createObjectURL(t));else if(FileReader){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)}})}}])&&l(e.prototype,r),d&&l(e,d),t}();e.a=d},zGZ6:function(t,e,n){var r=n("YeCl"),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},zKdX:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reader-settings-controls"},t._l(t.items,function(e,r){return n("label",{key:r,staticClass:"reader-settings-radio",class:{"is-active":t.settings[t.name]===r}},[n("input",{attrs:{type:"radio",name:t.name},domProps:{value:r},on:{change:function(e){return t.onChange(r)}}}),t._v("\n    "+t._s(e)+"\n  ")])}),0)},staticRenderFns:[]}},zZbG:function(t,e,n){var r=n("xA5w"),i=n("3znZ");t.exports=function(t){var e=r(t),n=e.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var a=i(o),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=i(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}},zpVT:function(t,e,n){var r=n("duB3"),i=n("POb3"),o=n("YeCl"),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},zuJA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapter__icon media-chapter__icon_download",class:{"is-disabled":t.disabled,tooltip:!t.disabled},attrs:{"data-place":"left","aria-label":t.tooltipText,"data-status":t.status},on:{click:t.download}},[t.status?"error"===t.status?n("i",{staticClass:"fa fa-exclamation-circle"}):"complete"===t.status?n("i",{staticClass:"fa fa-check-circle"}):n("svg",{staticClass:"progress-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"}},[n("circle",{staticClass:"progress-circle__circle",attrs:{"stroke-dashoffset":"0","stroke-dasharray":t.circumference,r:"8",cx:"9",cy:"9"}}),t._v(" "),n("circle",{staticClass:"progress-circle__circle progress-circle__circle_bar",attrs:{"stroke-dashoffset":t.progress,"stroke-dasharray":t.circumference,r:"8",cx:"9",cy:"9"}})]):n("i",{staticClass:"fa fa-cloud-download fa-fw"})])},staticRenderFns:[]}}},[0]);